(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("390u"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"390u":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return a}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"m",function(){return p}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return c}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function E(t){return t&&t._delegate?t._delegate:t}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return fu}),n.d(e,"c",function(){return uu}),n.d(e,"d",function(){return ou}),n.d(e,"e",function(){return au}),n.d(e,"f",function(){return oc}),n.d(e,"g",function(){return Zu}),n.d(e,"h",function(){return da}),n.d(e,"i",function(){return Eu}),n.d(e,"j",function(){return Mo}),n.d(e,"k",function(){return gu}),n.d(e,"l",function(){return Uo}),n.d(e,"m",function(){return _r}),n.d(e,"n",function(){return Ha}),n.d(e,"o",function(){return ss}),n.d(e,"p",function(){return In}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return ws}),n.d(e,"t",function(){return sa}),n.d(e,"u",function(){return aa}),n.d(e,"v",function(){return mu}),n.d(e,"w",function(){return Oa}),n.d(e,"x",function(){return Yu}),n.d(e,"y",function(){return Sa}),n.d(e,"z",function(){return $u}),n.d(e,"A",function(){return Iu}),n.d(e,"B",function(){return kn}),n.d(e,"C",function(){return du}),n.d(e,"D",function(){return hu}),n.d(e,"E",function(){return $a}),n.d(e,"F",function(){return Ho}),n.d(e,"G",function(){return Bo}),n.d(e,"H",function(){return Er}),n.d(e,"I",function(){return $o}),n.d(e,"J",function(){return mr}),n.d(e,"K",function(){return xn}),n.d(e,"L",function(){return ec}),n.d(e,"M",function(){return ba}),n.d(e,"N",function(){return Du}),n.d(e,"O",function(){return an}),n.d(e,"P",function(){return Go}),n.d(e,"Q",function(){return Ko}),n.d(e,"R",function(){return Ta}),n.d(e,"S",function(){return L}),n.d(e,"T",function(){return Ku}),n.d(e,"U",function(){return Hu}),n.d(e,"V",function(){return m}),n.d(e,"W",function(){return En}),n.d(e,"X",function(){return Bu}),n.d(e,"Y",function(){return ic}),n.d(e,"Z",function(){return Lu}),n.d(e,"ab",function(){return pu}),n.d(e,"bb",function(){return as}),n.d(e,"cb",function(){return So}),n.d(e,"db",function(){return fr}),n.d(e,"eb",function(){return Zn}),n.d(e,"fb",function(){return Vn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return $n}),n.d(e,"ib",function(){return Hn}),n.d(e,"jb",function(){return Bn}),n.d(e,"kb",function(){return zn}),n.d(e,"lb",function(){return bo}),n.d(e,"mb",function(){return rc}),n.d(e,"nb",function(){return vo}),n.d(e,"ob",function(){return _o}),n.d(e,"pb",function(){return Un}),n.d(e,"qb",function(){return B}),n.d(e,"rb",function(){return Ps}),n.d(e,"sb",function(){return Ks}),n.d(e,"tb",function(){return zs}),n.d(e,"ub",function(){return $s}),n.d(e,"vb",function(){return yo}),n.d(e,"wb",function(){return kt}),n.d(e,"xb",function(){return d}),n.d(e,"yb",function(){return Fn}),n.d(e,"zb",function(){return Os}),n.d(e,"Ab",function(){return wt}),n.d(e,"Bb",function(){return No}),n.d(e,"Cb",function(){return hi}),n.d(e,"Db",function(){return Rs}),n.d(e,"Eb",function(){return ro}),n.d(e,"Fb",function(){return nu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return O}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Ls}),n.d(e,"Nb",function(){return Bs}),n.d(e,"Ob",function(){return qs}),n.d(e,"Pb",function(){return Us}),n.d(e,"Qb",function(){return Hs}),n.d(e,"Rb",function(){return Je}),n.d(e,"Sb",function(){return fo}),n.d(e,"Tb",function(){return On}),n.d(e,"Ub",function(){return en}),n.d(e,"Vb",function(){return su}),n.d(e,"Wb",function(){return Gs}),n.d(e,"Xb",function(){return ru}),n.d(e,"Yb",function(){return ye}),n.d(e,"Zb",function(){return Zs}),n.d(e,"ac",function(){return qa}),n.d(e,"bc",function(){return Ba}),n.d(e,"cc",function(){return Js}),n.d(e,"dc",function(){return Ys}),n.d(e,"ec",function(){return Fs}),n.d(e,"fc",function(){return Ua}),n.d(e,"gc",function(){return eu}),n.d(e,"hc",function(){return Kt}),n.d(e,"ic",function(){return gr}),n.d(e,"jc",function(){return st}),n.d(e,"kc",function(){return no}),n.d(e,"lc",function(){return Ms}),n.d(e,"mc",function(){return co}),n.d(e,"nc",function(){return lo}),n.d(e,"oc",function(){return ho});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function m(t){return t.__forward_ref__=m,t.toString=function(){return d(this())},t}function g(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===m}class b extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function w(t,e){const n=e?` in ${e}`:"";throw new b("201",`No provider for ${_(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,I)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(A))?t[k]:null}const I=l({"\u0275prov":l}),k=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function N(t){const e=j;return j=t,e}function D(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||V||U,H={},z=[],$=[],K=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Z=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function st(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Ot}function Ot(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===H),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}wt.ngInherit=!0;const Ct="http://www.w3.org/2000/svg";let It;function kt(t){It=t}function xt(t){return!!t.listen}const At={createRenderer:(t,e)=>void 0!==It?It:"undefined"!=typeof document?document:void 0};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return Pt(e[t])}function Nt(t,e){return Pt(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return ft(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function $t(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Gt(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function Qt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Xt(){Bt.lFrame.isParent=!1}function Yt(){return Bt.isInCheckNoChangesMode}function Jt(t){Bt.isInCheckNoChangesMode=t}function te(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Bt.lFrame.bindingIndex++}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(){return Bt.lFrame.currentQueryIndex}function se(t){Bt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ce(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=he;function fe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return Bt.lFrame.selectedIndex}function me(t){Bt.lFrame.selectedIndex=t}function ge(){const t=Bt.lFrame;return Dt(t.tView,t.selectedIndex)}function ye(){Bt.lFrame.currentNamespace=Ct}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){Se(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ee=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ce(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ke(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return t!==Ee}function je(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Re(t){const e=De;return De=t,e}let Me=0;function Le(t,e){const n=Ve(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ue(t,e),s=t.injectorIndex;if(Pe(i)){const t=je(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ve(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&P.Optional)return t;w(e,"NodeInjector")}function He(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],s=N(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{N(s)}}return Be(r,e,n)}function ze(t,e,n,r=P.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!ae(e,t,r))return r&P.Host?Be(i,n,r):He(e,n,r,i);try{const t=s();if(null!=t||r&P.Optional)return t;w(n)}finally{de()}}else if("number"==typeof s){let i=null,o=Ve(t,e),a=Ee,u=r&P.Host?e[16][6]:null;for((-1===o||r&P.SkipSelf)&&(a=-1===o?Ue(t,e):e[o+8],a!==Ee&&Xe(r,!1)?(i=e[1],o=je(a),e=Ne(a,e)):o=-1);-1!==o;){const t=e[1];if(Ze(s,o,t.data)){const t=Ge(o,e,n,i,r,u);if(t!==$e)return t}a=e[o+8],a!==Ee&&Xe(r,e[1].data[o+8]===u)&&Ze(s,o,e)?(i=t,o=je(a),e=Ne(a,e)):o=-1}}}return He(e,n,r,i)}const $e={};function Ke(){return new Ye(Gt(),zt())}function Ge(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=We(a,o,n,null==r?gt(a)&&De:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==u?Qe(e,o,u,a):$e}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&bt(t)&&t.type===n)return u}return null}function Qe(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Te){const o=i;o.resolving&&function(t,e){throw new b("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Re(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?N(o.injectImpl):null;ae(t,r,P.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&N(u),Re(a),o.resolving=!1,de()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xe(t,e){return!(t&P.Self||t&P.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Je(t){return R(()=>{const e=t.prototype.constructor,n=e[X]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return y(t)?()=>{const e=tn(g(t));return e&&e()}:vt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const nn="__parameters__";function rn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function fn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},yn=/\n/gm,bn="__source",vn=l({provide:String,useValue:l});let _n;function wn(t){const e=_n;return _n=t,e}function Sn(t,e=P.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?D(t,void 0,e):_n.get(t,e&P.Optional?null:void 0,e)}function On(t,e=P.Default){return(j||Sn)(g(t),e)}const En=On;function Tn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function Cn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=Cn(rn("Inject",t=>({token:t})),-1),kn=Cn(rn("Optional"),8),xn=Cn(rn("SkipSelf"),4);let An;function Pn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,B.trustedTypes))try{An=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends jn{getTypeName(){return"HTML"}}class Dn extends jn{getTypeName(){return"Style"}}class Rn extends jn{getTypeName(){return"Script"}}class Mn extends jn{getTypeName(){return"URL"}}class Ln extends jn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof jn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Mn(t)}function $n(t){return new Ln(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Wn)||t.match(Qn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Yn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Xn("area,br,col,hr,img,wbr"),tr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Xn("rp,rt"),nr=Yn(er,tr),rr=Yn(Jn,Yn(tr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yn(er,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Xn("srcset"),or=Yn(ir,sr,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Xn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ir[s]&&(o=Zn(o)),sr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==s);return Pn((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":Vn(t,"URL")?Fn(t):Zn(v(t))}function yr(t){return t.ngDebugContext}function br(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class _r{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yr(t)?yr(t):this._findContext(br(t)):null}_findOriginalError(t){let e=br(t);for(;e&&br(e);)e=br(e);return e}}function wr(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Or(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t,e){return(void 0)(t,e)}function Cr(t){const e=t[3];return pt(e)?e[3]:e}function Ir(t){return xr(t[13])}function kr(t){return xr(t[4])}function xr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=Pt(r);0===t&&null!==n?null==i?Fr(e,n,a):Lr(e,n,a,i||null,!0):1===t&&null!==n?Lr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Pt(n)&&Ar(e,t,r,s,i);for(let o=dt;o<n.length;o++){const i=n[o];Wr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Pr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function jr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&jr(s,r),e>0&&(t[n-1][4]=r[4]);const o=hn(t,dt+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Pt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&jr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Lr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Fr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Fr(t,e,n)}function Ur(t,e){return xt(t)?t.parentNode(e):e.parentNode}function qr(t,e,n){return Br(t,e,n)}let Br=function(t,e,n){return 40&t.type?Nt(t,n):null};function Hr(t,e,n,r){const i=Mr(t,r,e),s=e[11],o=qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(s,i,n[a],o,!1);else Vr(s,i,n,o,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?Kr(-1,n):Pt(n)}}if(32&n)return Tr(e,t)()||Pt(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:zr(Cr(t[16]),n):zr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Kr(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Gr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&wr(Pt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,s,!1),Ar(e,t,i,a,s);else if(32&u){const o=Tr(n,r);let u;for(;u=o();)Ar(e,t,i,u,s);Ar(e,t,i,a,s)}else 16&u?Qr(t,e,r,n,i,s):Ar(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Wr(t,e,n,r,i,s){Gr(n,r,t.firstChild,e,i,s,!1)}function Qr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ar(e,t,i,a[u],s);else Gr(t,e,a,o[3],i,s,!0)}function Zr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;o=!0}continue}const l=si(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Yr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;o=!0}}}}else{if(!o&&!ii(r)&&!ii(u))return!1;if(o&&ii(u))continue;o=!1,r=u|1&r}}return ii(r)||o}function ii(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ui(t,e){return t?":not("+e.trim()+")":e}function ci(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ii(o)||(e+=ui(s,i),i=""),r=o,s=s||!ii(r);n++}return""!==i&&(e+=ui(s,i)),e}const li={};function hi(t){di($t(),zt(),pe()+t,Yt())}function di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}me(n)}function fi(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function mi(t){return 2|t}function gi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];se(i),n.contentQueries(2,e[s],s)}}}function _i(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Wt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Qt(s,!0),s}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Oi(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&Yi(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Yi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fe()}}function Ei(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const s=Yt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=kr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Ei(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,s=n[++t],o=n[++t];ne(s,i),o(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Yi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{fe()}}function Ti(t,e,n,r){const i=e[10],s=!Yt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&Oi(t,e,r),Ei(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ci(t,e,n,r,i){const s=pe();try{me(-1),2&r&&e.length>ht&&di(t,e,ht,Yt()),n(r,i)}finally{me(s)}}function Ii(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=bt(r);s&&qi(e,n,r);const u=Qe(e,t,a,n);wr(u,e),null!==o&&Bi(0,a-i,u,r,0,o),s&&(Rt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{me(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Mi(r,i)}}finally{me(-1),re(o)}}(t,e,n))}function ki(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ai(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Pi(t,e,n,r){const i=ts(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&es(t).push(r,i.length-1))}function ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ni(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(rs(t,n,c,r,i),gt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(u,r,i):ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Di(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];oi(n,o.selectors,!1)&&(i||(i=[]),qe(Le(n,e),t,o.type),bt(o)?(Li(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Vi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Si(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Fi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Hi(n,i);s.push(c),o=ji(n,u,o),a=ji(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new b("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function Ri(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Mi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function Vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new Te(s,bt(i),null);t.blueprint[r]=o,n[r]=o,Ri(t,e,0,r,Si(t,n,i.hostVars,li),i)}function qi(t,e,n){const r=Nt(e,t),i=xi(n),s=t[10],o=Wi(t,_i(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function $i(t,e){const n=Rt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ei(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Ir(t);null!==n;n=kr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ei(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Ft(r)&&r[5]>0&&Ki(r)}}function Gi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Oi(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=Cr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw ns(e,i),i}finally{r.end&&r.end()}}function Xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Ti(i,r,i.template,n)}}(t[8])}function Yi(t,e,n){se(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function ts(t){return t[7]||(t[7]=[])}function es(t){return t.cleanup||(t.cleanup=[])}function ns(t,e){const n=t[9],r=n?n.get(_r,null):null;r&&r.handleError(e)}function rs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function is(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ss=new sn("INJECTOR",-1);class os{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const as=new sn("Set Injector scope."),us={},cs={},ls=[];let hs;function ds(){return void 0===hs&&(hs=new os),hs}function fs(t,e=null,n=null,r){return new ps(t,n,e||ds(),r)}class ps{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ss,ys(void 0,this));const s=this.records.get(as);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=P.Default){this.assertNotDestroyed();const r=wn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&E(t);e=n&&this.injectableDefInScope(n)?ys(ms(t),us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?ds():this.parent).get(t,e=n&P.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[bn]&&i.unshift(e[bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||ls))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,ys(a,us));const u=r.providers;if(null!=u&&!o){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vs(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return bs(t)?ys(void 0,t.useValue):ys(gs(t),us)}(t);if(vs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ys(void 0,us,!0),e.factory=()=>Tn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===us&&(e.value=cs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=E(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function gs(t,e,n){let r;if(vs(t)){const e=g(t);return vt(e)||ms(e)}if(bs(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ms(e);r=()=>new e(...Tn(t.deps))}var i;return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&vn in t}function vs(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=fs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ws=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new os,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>On(ss)}),t.__NG_ELEMENT_ID__=-1,t})();function Ss(t,e){be(Mt(t)[1],Gt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Es(t.inputs),e.declaredInputs=Es(t.declaredInputs),e.outputs=Es(t.outputs);const n=i.hostBindings;n&&Is(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ts(t,s),o&&Cs(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function Es(t){return t===H?{}:t===$?[]:t}function Ts(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Is(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ks=null;function xs(){if(!ks){const t=B.Symbol;if(t&&t.iterator)ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}class As{constructor(t){this.wrapped=t}static wrap(t){return new As(t)}static unwrap(t){return As.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof As}}function Ps(t){return!!js(t)&&(Array.isArray(t)||!(t instanceof Map)&&xs()in t)}function js(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ns(t,e,n){return t[e]=n}function Ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Rs(t,e,n,r){const i=zt();return Ds(i,ee(),e)&&($t(),function(t,e,n,r,i,s){const o=Nt(t,e);!function(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?v(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ge(),i,t,e,n,r)),Rs}function Ms(t,e,n,r,i,s,o,a){const u=zt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wi(e,t,4,o||null,Vt(c,a));Di(e,n,l,Vt(c,u)),be(e,l);const h=l.tViews=Ai(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qt(h,!1);const d=u[11].createComment("");Hr(c,u,d,h),wr(d,u),Wi(u,u[l]=zi(d,u,d,h)),yt(h)&&Ii(c,u,h),null!=o&&ki(u,h,a)}function Ls(t,e=P.Default){const n=zt();return null===n?On(t,e):ze(Gt(),n,g(t),e)}function Fs(t,e,n){const r=zt();return Ds(r,ee(),e)&&Ni($t(),ge(),r,t,e,r[11],n,!1),Fs}function Vs(t,e,n,r,i){const s=i?"class":"style";rs(t,n,e.inputs[s],s,r)}function Us(t,e,n,r){const i=zt(),s=$t(),o=ht+t,a=i[11],u=i[o]=Pr(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=wi(e,t,2,i,Vt(a,s));return Di(e,n,u,Vt(a,o)),null!==u.attrs&&is(u,u.attrs,!1),null!==u.mergedAttrs&&is(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ce(a,u,l);const h=c.classes;null!==h&&Xr(a,u,h);const d=c.styles;null!==d&&Zr(a,u,d),64!=(64&c.flags)&&Hr(s,i,u,c),0===Bt.lFrame.elementDepthCount&&wr(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(Ii(s,i,c),function(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&ki(i,c)}function qs(){let t=Gt();Zt()?Xt():(t=t.parent,Qt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(be(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Vs(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Vs(n,e,zt(),e.stylesWithoutHost,!1)}function Bs(t,e,n,r){Us(t,e,n,r),qs()}function Hs(){return zt()}function zs(t){return!!t&&"function"==typeof t.then}function $s(t){return!!t&&"function"==typeof t.subscribe}const Ks=$s;function Gs(t,e,n=!1,r){const i=zt(),s=$t(),o=Gt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&es(t),l=ts(e);let h=!0;if(3&r.type){const d=Nt(r,e),f=a?a(d):H,p=f.target||d,m=l.length,g=a?t=>a(Pt(t[r.index])).target:r.index;if(xt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Qs(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Qs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=Qs(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Gs}function Ws(t,e,n){try{return!1!==e(n)}catch(r){return ns(t,r),!1}}function Qs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Qi(o);let a=Ws(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Ws(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Zs(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Xs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?oi(t,s,!0):ai(r,s))return i}else n=i}return n}function Ys(t){const e=zt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Js(t,e=0,n){const r=zt(),i=$t(),s=wi(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),Xt(),64!=(64&s.flags)&&function(t,e,n){Qr(e[11],0,e,n,Mr(t,n,e),qr(n.parent||e[6],n,e))}(i,r,s)}function to(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):gi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];eo(t[a],e)&&(u=!0,t[a+1]=r?bi(n):mi(n)),a=r?pi(n):gi(n)}u&&(t[n+1]=r?mi(s):bi(s))}function eo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}function no(t,e,n){return io(t,e,n,!1),no}function ro(t,e){return io(t,e,null,!0),ro}function io(t,e,n,r){const i=zt(),s=$t(),o=function(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pe()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=oo(n=so(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=so(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==gi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=so(null,t,e,n[1],r),n=oo(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=oo(r,t[s].hostAttrs,n);return oo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=gi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=fi(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=fi(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=fi(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),to(t,c,r,!0),to(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,s),o=fi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==li&&Ds(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];uo(1==(1&c)?ao(u,e,n,i,gi(c),o):void 0)||(uo(s)||function(t){return 2==(2&t)}(c)&&(s=ao(u,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Er.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Er.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,jt(pe(),n),i,s))}(s,s.data[pe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(Fn(t)))),t}(e,n),r,o)}function so(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=oo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function oo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function ao(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===li&&(l=c?z:void 0);let h=c?pn(l,r):u===r?l:void 0;if(s&&!uo(h)&&(h=pn(e,r)),uo(h)&&(a=h,o))return a;const d=t[i+1];i=o?pi(d):gi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function uo(t){return void 0!==t}function co(t,e=""){const n=zt(),r=$t(),i=t+ht,s=r.firstCreatePass?wi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,o,s),Qt(s,!1)}function lo(t){return ho("",t,""),lo}function ho(t,e,n){const r=zt(),i=function(t,e,n,r){return Ds(t,ee(),n)?e+v(n)+r:li}(r,t,e,n);return i!==li&&function(t,e,n){const r=jt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,pe(),i),ho}function fo(t,e,n){const r=zt();return Ds(r,ee(),e)&&Ni($t(),ge(),r,t,e,r[11],n,!0),fo}const po=void 0;var mo=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let go={};function yo(t,e,n){"string"!=typeof e&&(n=e,e=t[So.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),go[e]=t,n&&(go[e][So.ExtraData]=n)}function bo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wo(e);if(n)return n;const r=e.split("-")[0];if(n=wo(r),n)return n;if("en"===r)return mo;throw new Error(`Missing locale data for the locale "${t}".`)}function vo(t){return bo(t)[So.CurrencyCode]||null}function _o(t){return bo(t)[So.PluralCase]}function wo(t){return t in go||(go[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),go[t]}var So=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oo="en-US";let Eo=Oo;function To(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Eo=t.toLowerCase().replace(/_/g,"-"))}function Co(t,e,n,r,i){if(t=g(t),Array.isArray(t))for(let s=0;s<t.length;s++)Co(t[s],e,n,r,i);else{const s=$t(),o=zt();let a=vs(t)?t:g(t.provide),u=gs(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(vs(t)||!t.multi){const r=new Te(u,i,Ls),f=xo(a,e,i?l:l+d,h);-1===f?(qe(Le(c,o),s,a),Io(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=xo(a,e,l+d,h),p=xo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){qe(Le(c,o),s,a);const l=function(t,e,n,r,i){const s=new Te(t,n,Ls);return s.multi=[],s.index=e,s.componentProviders=0,ko(s,i,r&&!n),s}(i?Po:Ao,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Io(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Io(s,t,f>-1?f:p,ko(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Io(t,e,n,r){const i=vs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ko(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ao(t,e,n,r){return jo(this.multi,[])}function Po(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),jo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],jo(i,s);return s}function jo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function No(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=bt(t);Co(n,r.data,r.blueprint,i,!0),Co(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Do{}class Ro{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Mo=(()=>{class t{}return t.NULL=new Ro,t})();function Lo(...t){}function Fo(t,e){return new Uo(Nt(t,e))}const Vo=function(){return Fo(Gt(),zt())};let Uo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Vo,t})();function qo(t){return t instanceof Uo?t.nativeElement:t}class Bo{}let Ho=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zo(),t})();const zo=function(){const t=zt(),e=Rt(Gt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let $o=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Go=new Ko("11.2.7");class Wo{constructor(){}supports(t){return Ps(t)}create(t){return new Zo(t)}}const Qo=(t,e)=>e;class Zo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ta(n,r,i)?e:n,o=ta(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ps(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Xo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Jo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Jo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Yo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ta(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ea{constructor(){}supports(t){return t instanceof Map||js(t)}create(){return new na}}class na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||js(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ia(){return new sa([new Wo])}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ia()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:ia}),t})();function oa(){return new aa([new ea])}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||oa()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:oa}),t})();function ua(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pt(s)),pt(s))for(let t=dt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ua(e[1],e,n,r)}const o=n.type;if(8&o)ua(t,e,n.child,r);else if(32&o){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=Cr(e[16]);ua(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ua(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),hn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Pi(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Zi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class la extends ca{constructor(t){super(t),this._view=t}detectChanges(){Xi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Xi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const ha=fa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t.__ChangeDetectorRef__=!0,t})();function fa(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Rt(t.index,e);return new ca(n,n)}return 47&t.type?new ca(e[16],e):null}(Gt(),zt(),t)}const pa=[new ea],ma=new sa([new Wo]),ga=new aa(pa),ya=function(){return wa(Gt(),zt())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const va=ba,_a=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Oi(e,n,t),new ca(n)}};function wa(t,e){return 4&t.type?new _a(e,t,Fo(t,e)):null}class Sa{}class Oa{}const Ea=function(){return Aa(Gt(),zt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t})();const Ca=Ta,Ia=class extends Ca{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Fo(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(Pe(t)){const e=Ne(t,this._hostLView),n=je(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ka(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Sa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=dt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-dt?(e[4]=n[i],ln(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Kr(i,s),a=n[11],u=Ur(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Wr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),ln(xa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ka(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(hn(xa(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=hn(xa(this._lContainer),e)?new ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ka(t){return t[8]}function xa(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Lr(n,Ur(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),Wi(e,n)}return new Ia(n,t,e)}const Pa={};class ja extends Mo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ra(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class Ra extends Do{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Pa,i);return s!==Pa||r===Pa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Bo,At),o=i.get($o,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Ct:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:Ji,playerHandler:null,flags:0},d=Ai(0,null,null,1,0,null,null,null,null,null),f=_i(null,d,h,l,null,null,s,a,o,i);let p,m;ue(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=wi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(is(a,u,!0),null!==t&&(Ce(i,t,u),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=_i(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(qe(Le(a,n),o,e.type),Li(o,a),Vi(a,n.length,1)),Wi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Ce(a,c,["ng-version",Go.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ce(a,c,t),e&&e.length>0&&Xr(a,c,e.join(" "))}if(m=Dt(d,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,Si(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);wr(i,e);const s=Nt(r,e);return s&&wr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),Ri(n[1],a,0,a.directiveStart,a.directiveEnd,e),Mi(e,o)),o}(t,this.componentDef,f,h,[Ss]),Oi(d,f,null)}finally{fe()}return new Ma(this.componentType,p,Fo(m,f),f,m)}}class Ma extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new la(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const La=new Map;class Fa extends Sa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const n=lt(t),r=t[Z]||null;r&&To(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=fs(t,e,[{provide:Sa,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ws.THROW_IF_NOT_FOUND,n=P.Default){return t===ws||t===Sa||t===ss?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends Oa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,La.get(i),n),La.set(i,n));const s=Or(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Fa(this.moduleType,t)}}function Ua(t,e,n){const r=te()+t,i=zt();return i[r]===li?Ns(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function qa(t,e){const n=$t();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new b("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=N(Ls);try{const t=Re(!1),e=s();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,zt(),i,e),e}finally{N(o)}}function Ba(t,e,n){const r=t+ht,i=zt(),s=function(t,e){return t[e]}(i,r);return function(t,e){return As.isWrapped(e)&&(e=As.unwrap(e),t[Bt.lFrame.bindingIndex]=li),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Ds(t,o,i)?Ns(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===li?void 0:n}(t,o+1)}(i,te(),e,s.transform,n,s):s.transform(n))}const Ha=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function za(){return this._results[xs()]()}class $a{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xs(),n=$a.prototype;n[e]||(n[e]=za)}get changes(){return this._changes||(this._changes=new Ha)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ka{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ga{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ga(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==iu(t,e).matches&&this.queries[e].setDirty()}}class Wa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Qa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Qa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Za{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Za(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Xa(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Uo||r===Ta||r===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Xa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ya(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Fo(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Uo?Fo(e,t):n===ba?wa(e,t):n===Ta?Aa(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function Ja(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ya(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function tu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ja(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=dt;t<o.length;t++){const e=o[t];e[17]===e[3]&&tu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];tu(n[1],n,i,r)}}}}}return r}function eu(t){const e=zt(),n=$t(),r=ie();se(r+1);const i=iu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?tu(n,e,r,[]):Ja(n,e,i,r);t.reset(s,qo),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n,r){const i=$t();if(i.firstCreatePass){const s=Gt();(function(t,e,n){null===t.queries&&(t.queries=new Qa),t.queries.track(new Za(e,n))})(i,new Wa(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new $a(4==(4&n));Pi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ga),e[19].queries.push(new Ka(r))}(i,zt(),n)}function ru(){return t=zt(),e=ie(),t[19].queries[e].queryList;var t,e}function iu(t,e){return t.queries.getByIndex(e)}function su(t=P.Default){const e=fa(!0);if(null!=e||t&P.Optional)return e;w("ChangeDetectorRef")}const ou=new sn("Application Initializer");let au=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Lo,this.reject=Lo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(ou,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const uu=new sn("AppId"),cu={provide:uu,useFactory:function(){return`${lu()}${lu()}${lu()}`},deps:[]};function lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hu=new sn("Platform Initializer"),du=new sn("Platform ID"),fu=new sn("appBootstrapListener");let pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const mu=new sn("LocaleId"),gu=new sn("DefaultCurrencyCode");class yu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bu=function(t){return new Va(t)},vu=bu,_u=function(t){return Promise.resolve(bu(t))},wu=function(t){const e=bu(t),n=Or(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ra(n)),t},[]);return new yu(e,n)},Su=wu,Ou=function(t){return Promise.resolve(wu(t))};let Eu=(()=>{class t{constructor(){this.compileModuleSync=vu,this.compileModuleAsync=_u,this.compileModuleAndAllComponentsSync=Su,this.compileModuleAndAllComponentsAsync=Ou}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Tu=(()=>Promise.resolve(0))();function Cu(t){"undefined"==typeof Zone?Tu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Au(t),xu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Au(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Pu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ju(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Pu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ju(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Au(t),xu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ku,Lo,Lo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ku={};function xu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ju(t){t._nesting--,xu(t)}class Nu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Du=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),Cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(Iu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t{constructor(){this._applications=new Map,Vu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Vu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Mu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Lu(t){Vu=t}let Fu,Vu=new Mu,Uu=!0,qu=!1;function Bu(){return qu=!0,Uu}function Hu(){if(qu)throw new Error("Cannot enable prod mode after platform setup.");Uu=!1}const zu=new sn("AllowMultipleToken");class $u{constructor(t,e){this.name=t,this.token=e}}function Ku(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let s=Gu();if(!s||s.injector.get(zu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:as,useValue:"platform"});!function(t){if(Fu&&!Fu.destroyed&&!Fu.injector.get(zu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fu=t.get(Wu);const e=t.get(hu,null);e&&e.forEach(t=>t())}(ws.create({providers:t,name:r}))}return function(t){const e=Gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Gu(){return Fu&&!Fu.destroyed?Fu:null}let Wu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Nu:("zone.js"===t?void 0:t)||new Iu({enableLongStackTrace:Bu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Iu,useValue:n}];return n.run(()=>{const e=ws.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(_r,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Xu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return zs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(au);return t.runInitializers(),t.donePromise.then(()=>(To(i.injector.get(mu,Oo)||Oo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Qu({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(ws))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){return Array.isArray(e)?e.reduce(Qu,t):Object.assign(Object.assign({},t),e)}let Zu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),Cu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Do?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Sa),i=n.create(ws.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Du,null),a=o&&i.injector.get(Ru);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Xu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(Iu),On(ws),On(_r),On(Mo),On(au))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yu{}class Ju{}const tc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ec=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||tc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>nc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>nc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(Eu),On(Ju,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function nc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const rc=function(t){return null},ic=Ku(null,"core",[{provide:du,useValue:"unknown"},{provide:Wu,deps:[ws]},{provide:Ru,deps:[]},{provide:pu,deps:[]}]),sc=[{provide:Zu,useClass:Zu,deps:[Iu,ws,_r,Mo,au]},{provide:Da,deps:[Iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new kn,ou]]},{provide:Eu,useClass:Eu,deps:[]},cu,{provide:sa,useFactory:function(){return ma},deps:[]},{provide:aa,useFactory:function(){return ga},deps:[]},{provide:mu,useFactory:function(t){return To(t=t||"undefined"!=typeof $localize&&$localize.locale||Oo),t},deps:[[new In(mu),new kn,new xn]]},{provide:gu,useValue:"USD"}];let oc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(Zu))},t.\u0275mod=it({type:t}),t.\u0275inj=O({providers:sc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("390u"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Tb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Tb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Tb)(o).location;return new v(Object(r.Tb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(g),r.Tb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Tb)(g),Object(r.Tb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.ob;class C{}let I=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new P(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class R{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let M=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),L=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new R(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(M,1))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),F=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"json",type:t,pure:!1}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:C,useClass:I}]}),t})();function U(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new B(Object(r.Tb)(o),window)}),t})();class B{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new z,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=K||(K=document.querySelector("base"),K)?K.getAttribute("href"):null;return null==e?null:(n=e,$||($=document.createElement("a")),$.setAttribute("href",n),"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname);var n}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let $,K=null;const G=new r.r("TRANSITION_ID"),W=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,o,r.s],multi:!0}];class Q{static init(){Object(r.Z)(new Q)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Z=new r.r("EventManagerPlugins");let X=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Z),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(X),r.Tb(tt),r.Tb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const mt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){z.makeCurrent(),Q.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],gt=Object(r.T)(r.Y,"browser",mt),yt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Z,useClass:ct,multi:!0,deps:[o,r.A,r.C]},{provide:Z,useClass:pt,multi:!0,deps:[o]},[],{provide:st,useClass:st,deps:[X,tt,r.c]},{provide:r.G,useExisting:st},{provide:J,useExisting:tt},{provide:tt,useClass:tt,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:X,useClass:X,deps:[Z,r.A]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},W]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:yt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var vt=n("LRne"),_t=n("HDdC"),wt=n("5+tZ");function St(t,e){return Object(wt.a)(t,e,1)}var Ot=n("7o/Q");function Et(t,e){return function(n){return n.lift(new Tt(t,e))}}class Tt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ct(t,this.predicate,this.thisArg))}}class Ct extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var It=n("lJxs");class kt{}class xt{}class At{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new At;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Pt{encodeKey(t){return jt(t)}encodeValue(t){return jt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function jt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Nt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Pt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Nt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Dt(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Rt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Mt(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Lt{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new At),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Nt,this.urlWithParams=e}serializeBody(){return null===this.body?null:Dt(this.body)||Rt(this.body)||Mt(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mt(this.body)?null:Rt(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Lt(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ft=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Vt{constructor(t,e=200,n="OK"){this.headers=t.headers||new At,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ut extends Vt{constructor(t={}){super(t),this.type=Ft.ResponseHeader}clone(t={}){return new Ut({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qt extends Vt{constructor(t={}){super(t),this.type=Ft.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qt({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bt extends Vt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ht(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let zt=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Lt)r=t;else{let i,s;i=n.headers instanceof At?n.headers:new At(n.headers),n.params&&(s=n.params instanceof Nt?n.params:new Nt({fromObject:n.params})),r=new Lt(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(vt.a)(r).pipe(St(t=>this.handler.handle(t)));if(t instanceof Lt||"events"===n.observe)return i;const s=i.pipe(Et(t=>t instanceof qt));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(It.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(It.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(It.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(It.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Nt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ht(n,e))}post(t,e,n={}){return this.request("POST",t,Ht(n,e))}put(t,e,n={}){return this.request("PUT",t,Ht(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(kt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class $t{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Kt=new r.r("HTTP_INTERCEPTORS");let Gt=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Wt=/^\)\]\}',?\n/;class Qt{}let Zt=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Xt=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new At(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Ut({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Wt,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new qt({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Bt({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Bt({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Ft.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ft.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ft.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Qt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Yt=new r.r("XSRF_COOKIE_NAME"),Jt=new r.r("XSRF_HEADER_NAME");class te{}let ee=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(r.C),r.Tb(Yt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(te),r.Tb(Jt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),re=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Kt,[]);this.chain=t.reduceRight((t,e)=>new $t(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xt),r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ie=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ne,useClass:Gt}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Yt,useValue:e.cookieName}:[],e.headerName?{provide:Jt,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[ne,{provide:Kt,useExisting:ne,multi:!0},{provide:te,useClass:ee},{provide:Yt,useValue:"XSRF-TOKEN"},{provide:Jt,useValue:"X-XSRF-TOKEN"}]}),t})(),se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[zt,{provide:kt,useClass:re},Xt,{provide:xt,useExisting:Xt},Zt,{provide:Qt,useExisting:Zt}],imports:[[ie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var oe=n("Cfvw"),ae=n("DH7j"),ue=n("XoHu");function ce(t,e){return new _t.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(oe.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class le{}const he=new r.r("NgValueAccessor"),de={provide:he,useExisting:Object(r.V)(()=>pe),multi:!0},fe=new r.r("CompositionEventMode");let pe=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(fe,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([de])]}),t})();const me=new r.r("NgValidators"),ge=new r.r("NgAsyncValidators");function ye(t){return null!=t}function be(t){const e=Object(r.tb)(t)?Object(oe.a)(t):t;return Object(r.sb)(e),e}function ve(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _e(t,e){return e.map(e=>e(t))}function we(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Se(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ye);return 0==e.length?null:function(t){return ve(_e(t,e))}}(we(t)):null}function Oe(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ye);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ae.a)(e))return ce(e,null);if(Object(ue.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ce(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ce(t=1===t.length&&Object(ae.a)(t[0])?t[0]:t,null).pipe(Object(It.a)(t=>e(...t)))}return ce(t,null)}(_e(t,e).map(be)).pipe(Object(It.a)(ve))}}(we(t)):null}function Ee(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Te=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),Ce=(()=>{class t extends Te{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ie(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const Ie=r.Rb(Ce);class ke extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let xe=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ke,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function Ae(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pe(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function je(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ne="VALID",De="INVALID",Re="PENDING",Me="DISABLED";function Le(t){return(qe(t)?t.validators:t)||null}function Fe(t){return Array.isArray(t)?Se(t):t||null}function Ve(t,e){return(qe(e)?e.asyncValidators:t)||null}function Ue(t){return Array.isArray(t)?Oe(t):t||null}function qe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Be{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Fe(this._rawValidators),this._composedAsyncValidatorFn=Ue(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ne}get invalid(){return this.status===De}get pending(){return this.status==Re}get disabled(){return this.status===Me}get enabled(){return this.status!==Me}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Fe(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ue(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Re,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Me,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ne,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ne&&this.status!==Re||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Me:Ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Re,this._hasOwnPendingAsyncValidator=!0;const e=be(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ze?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof $e&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Me:this.errors?De:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Re)?Re:this._anyControlsHaveStatus(De)?De:Ne}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class He extends Be{constructor(t=null,e,n){super(Le(e),Ve(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){je(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){je(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ze extends Be{constructor(t,e,n){super(Le(e),Ve(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof He?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class $e extends Be{constructor(t,e,n){super(Le(e),Ve(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof He?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ke={provide:ke,useExisting:Object(r.V)(()=>We)},Ge=(()=>Promise.resolve(null))();let We=(()=>{class t extends ke{constructor(t,e,n,i){super(),this.control=new He,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===pe?n=t:Object.getPrototypeOf(t.constructor)===le?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ee(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Ee(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();Ae(e._rawValidators,n),Ae(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Pe(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Pe(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ge.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ge.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ce,9),r.Mb(me,10),r.Mb(ge,10),r.Mb(he,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([Ke]),r.zb,r.Ab]}),t})();const Qe={provide:he,useExisting:Object(r.V)(()=>Ze),multi:!0};let Ze=(()=>{class t extends le{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([Qe]),r.zb]}),t})(),Xe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const Ye={provide:he,useExisting:Object(r.V)(()=>tn),multi:!0};function Je(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let tn=(()=>{class t extends le{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Je(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([Ye]),r.zb]}),t})(),en=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Je(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(tn,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const nn={provide:he,useExisting:Object(r.V)(()=>sn),multi:!0};function rn(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sn=(()=>{class t extends le{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([nn]),r.zb]}),t})(),on=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(rn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(sn,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const an={provide:me,useExisting:Object(r.V)(()=>un),multi:!0};let un=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("required",e.required?"":null)},inputs:{required:"required"},features:[r.Bb([an])]}),t})(),cn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Xe]]}),t})(),ln=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[cn]}),t})();var hn=n("z6cu");let dn=(()=>{class t{constructor(t){this.http=t,this.url="https://golf-courses-api.herokuapp.com/courses/"}getCourse(t){return this.http.get(this.url+t)}fakeCourse(t){return this.url+t}handleError(t){let e="";return e=t.error instanceof ErrorEvent?`An error occured: ${t.error.message}`:`Server returned code: ${t.status}, error message is: ${t.message}`,console.error(e),Object(hn.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(zt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var fn=n("XNiG"),pn=n("9ppp");class mn extends fn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pn.a;return this._value}next(t){super.next(this._value=t)}}var gn=n("z+Ro");class yn extends Ot.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class bn extends Ot.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var vn=n("SeVD");function _n(t,e,n,r,i=new bn(t,n,r)){if(!i.closed)return e instanceof _t.a?e.subscribe(i):Object(vn.a)(e)(i)}var wn=n("yCtX");const Sn={};class On{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new En(t,this.resultSelector))}}class En extends yn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Sn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(_n(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Sn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Tn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Cn=n("bHdf");function In(...t){return Object(Cn.a)(1)(Object(vt.a)(...t))}var kn=n("EY2u");function xn(t){return new _t.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(oe.a)(n):Object(kn.b)()).subscribe(e)})}var An=n("EQ5u"),Pn=n("zx2A");function jn(t,e){return"function"==typeof e?n=>n.pipe(jn((n,r)=>Object(oe.a)(t(n,r)).pipe(Object(It.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Nn(t))}class Nn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Dn(t,this.project))}}class Dn extends Pn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Pn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Pn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Rn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Mn(t){return e=>0===t?Object(kn.b)():e.lift(new Ln(t))}class Ln{constructor(t){if(this.total=t,this.total<0)throw new Rn}call(t,e){return e.subscribe(new Fn(t,this.total))}}class Fn extends Ot.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Vn(...t){const e=t[t.length-1];return Object(gn.a)(e)?(t.pop(),n=>In(t,n,e)):e=>In(t,e)}function Un(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qn(t,e,n))}}class qn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Bn(t,this.accumulator,this.seed,this.hasSeed))}}class Bn extends Ot.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Hn(t){return function(e){const n=new zn(t),r=e.lift(n);return n.caught=r}}class zn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $n(t,this.selector,this.caught))}}class $n extends Pn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Pn.a(this);this.add(r);const i=Object(Pn.c)(n,r);i!==r&&this.add(i)}}}function Kn(t){return function(e){return 0===t?Object(kn.b)():e.lift(new Gn(t))}}class Gn{constructor(t){if(this.total=t,this.total<0)throw new Rn}call(t,e){return e.subscribe(new Wn(t,this.total))}}class Wn extends Ot.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Qn(t=Yn){return e=>e.lift(new Zn(t))}class Zn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Xn(t,this.errorFactory))}}class Xn extends Ot.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(E_){t=E_}this.destination.error(t)}}}function Yn(){return new Tn}function Jn(t=null){return e=>e.lift(new tr(t))}class tr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new er(t,this.defaultValue))}}class er extends Ot.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nr=n("SpAZ");function rr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Et((e,n)=>t(e,n,r)):nr.a,Mn(1),n?Jn(e):Qn(()=>new Tn))}var ir=n("vkgz"),sr=n("x+ZX"),or=n("quSY");class ar{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ur(t,this.callback))}}class ur extends Ot.a{constructor(t,e){super(t),this.add(new or.a(e))}}class cr{constructor(t,e){this.id=t,this.url=e}}class lr extends cr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends cr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dr extends cr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fr extends cr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends cr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Cr="primary";class Ir{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kr(t){return new Ir(t)}function xr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ar(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jr(t[i],e[i]))return!1;return!0}function jr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Nr(t){return Array.prototype.concat.apply([],t)}function Dr(t){return t.length>0?t[t.length-1]:null}function Rr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Mr(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(oe.a)(Promise.resolve(t)):Object(vt.a)(t)}function Lr(t,e,n){return n?function(t,e){return Pr(t,e)}(t.queryParams,e.queryParams)&&Fr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Vr(t.root,e.root)}function Fr(t,e){if(!zr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Fr(t.children[n],e.children[n]))return!1}return!0}function Vr(t,e){return Ur(t,e,e.segments)}function Ur(t,e,n){if(t.segments.length>n.length)return!!zr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!zr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Vr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!zr(t.segments,r)&&!!t.children.primary&&Ur(t.children.primary,e,i)}}class qr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kr(this.queryParams)),this._queryParamMap}toString(){return Gr.serialize(this)}}class Br{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}}class Hr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kr(this.parameters)),this._parameterMap}toString(){return ei(this)}}function zr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class $r{}class Kr{parse(t){const e=new oi(t);return new qr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Qr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Xr(e)}=${Xr(t)}`).join("&"):`${Xr(e)}=${Xr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Gr=new Kr;function Wr(t){return t.segments.map(t=>ei(t)).join("/")}function Qr(t,e){if(!t.hasChildren())return Wr(t);if(e){const e=t.children.primary?Qr(t.children.primary,!1):"",n=[];return Rr(t.children,(t,e)=>{e!==Cr&&n.push(`${e}:${Qr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Rr(t.children,(t,r)=>{r===Cr&&(n=n.concat(e(t,r)))}),Rr(t.children,(t,r)=>{r!==Cr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Cr?[Qr(t.children.primary,!1)]:[`${n}:${Qr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Wr(t)}/${e[0]}`:`${Wr(t)}/(${e.join("//")})`}}function Zr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xr(t){return Zr(t).replace(/%3B/gi,";")}function Yr(t){return Zr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(t){return decodeURIComponent(t)}function ti(t){return Jr(t.replace(/\+/g,"%20"))}function ei(t){return`${Yr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Yr(t)}=${Yr(e[t])}`).join("")}`;var e}const ni=/^[^\/()?;=#]+/;function ri(t){const e=t.match(ni);return e?e[0]:""}const ii=/^[^=?&#]+/,si=/^[^?&#]+/;class oi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Br([],{}):new Br([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Br(t,e)),n}parseSegment(){const t=ri(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hr(Jr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ri(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ri(this.remaining);t&&(n=t,this.capture(n))}t[Jr(e)]=Jr(n)}parseQueryParam(t){const e=function(t){const e=t.match(ii);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(si);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ti(e),i=ti(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ri(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Cr);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Br([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ai{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ui(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ui(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ci(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ci(t,this._root).map(t=>t.value)}}function ui(t,e){if(t===e.value)return e;for(const n of e.children){const e=ui(t,n);if(e)return e}return null}function ci(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ci(t,n);if(r.length)return r.unshift(e),r}return[]}class li{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class di extends ai{constructor(t,e){super(t),this.snapshot=e,bi(this,t)}toString(){return this.snapshot.toString()}}function fi(t,e){const n=function(t,e){const n=new gi([],{},{},"",{},Cr,e,null,t.root,-1,{});return new yi("",new li(n,[]))}(t,e),r=new mn([new Hr("",{})]),i=new mn({}),s=new mn({}),o=new mn({}),a=new mn(""),u=new pi(r,i,o,a,s,Cr,e,n.root);return u.snapshot=n.root,new di(new li(u,[]),n)}class pi{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(It.a)(t=>kr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(It.a)(t=>kr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class gi{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yi extends ai{constructor(t,e){super(e),this.url=t,bi(this,e)}toString(){return vi(this._root)}}function bi(t,e){e.value._routerState=t,e.children.forEach(e=>bi(t,e))}function vi(t){const e=t.children.length>0?` { ${t.children.map(vi).join(", ")} } `:"";return`${t.value}${e}`}function _i(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wi(t,e){return Pr(t.params,e.params)&&function(t,e){return zr(t,e)&&t.every((t,n)=>Pr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||wi(t.parent,e.parent))}function Si(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Si(t,e,r);return Si(t,e)})}(t,e,n);return new li(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Oi(e,t),t}{const n=new pi(new mn((r=e.value).url),new mn(r.params),new mn(r.queryParams),new mn(r.fragment),new mn(r.data),r.outlet,r.component,r),i=e.children.map(e=>Si(t,e));return new li(n,i)}}var r}function Oi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Oi(t.children[n],e.children[n])}function Ei(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ti(t){return"object"==typeof t&&null!=t&&t.outlets}function Ci(t,e,n,r,i){let s={};return r&&Rr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new qr(n.root===t?e:Ii(n.root,t,e),s,i)}function Ii(t,e,n){const r={};return Rr(t.children,(t,i)=>{r[i]=t===e?n:Ii(t,e,n)}),new Br(t.segments,r)}class ki{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ei(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ti);if(r&&r!==Dr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ai(t,e,n){if(t||(t=new Br([],{})),0===t.segments.length&&t.hasChildren())return Pi(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Ti(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ri(a,u,e))return s;r+=2}else{if(!Ri(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Br(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Br(t.segments.slice(r.pathIndex),t.children),Pi(e,0,i)}return r.match&&0===i.length?new Br(t.segments,{}):r.match&&!t.hasChildren()?ji(t,e,n):r.match?Pi(t,0,i):ji(t,e,n)}function Pi(t,e,n){if(0===n.length)return new Br(t.segments,{});{const r=function(t){return Ti(t[0])?t[0].outlets:{[Cr]:t}}(n),i={};return Rr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ai(t.children[r],e,n))}),Rr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Br(t.segments,i)}}function ji(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ti(s)){const t=Ni(s.outlets);return new Br(r,t)}if(0===i&&Ei(n[0])){r.push(new Hr(t.segments[e].path,Di(n[0]))),i++;continue}const o=Ti(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ei(a)?(r.push(new Hr(o,Di(a))),i+=2):(r.push(new Hr(o,{})),i++)}return new Br(r,{})}function Ni(t){const e={};return Rr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ji(new Br([],{}),0,t))}),e}function Di(t){const e={};return Rr(t,(t,n)=>e[n]=`${t}`),e}function Ri(t,e,n){return t==n.path&&Pr(e,n.parameters)}class Mi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),_i(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=hi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Rr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=hi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=hi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Er(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Sr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(_i(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Li(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Li(t){_i(t.value),t.children.forEach(Li)}class Fi{constructor(t,e){this.routes=t,this.module=e}}function Vi(t){return"function"==typeof t}function Ui(t){return t instanceof qr}const qi=Symbol("INITIAL_VALUE");function Bi(){return jn(t=>function(...t){let e,n;return Object(gn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ae.a)(t[0])&&(t=t[0]),Object(wn.a)(t,n).lift(new On(e))}(t.map(t=>t.pipe(Mn(1),Vn(qi)))).pipe(Un((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==qi)return t;if(r===qi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ui(r))return r}return t},t)},qi),Et(t=>t!==qi),Object(It.a)(t=>Ui(t)?t:!0===t),Mn(1)))}let Hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Fs]},encapsulation:2}),t})();function zi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];$i(r,Ki(e,r))}}function $i(t,e){t.children&&zi(t.children,e)}function Ki(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Gi(t){const e=t.children&&t.children.map(Gi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Cr&&(n.component=Hi),n}function Wi(t){return t.outlet||Cr}function Qi(t,e){const n=t.filter(t=>Wi(t)===e);return n.push(...t.filter(t=>Wi(t)!==e)),n}const Zi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Zi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ar)(n,t,e);if(!i)return Object.assign({},Zi);const s={};Rr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Yi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ji(t,e,n)&&Wi(n)!==Cr)}(t,n,r)){const i=new Br(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Wi(s)!==Cr){const n=new Br([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Wi(s)]=n}return i}(t,e,r,new Br(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ji(t,e,n))}(t,n,r)){const s=new Br(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ji(t,n,a)&&!i[Wi(a)]){const n=new Br([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Wi(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Br(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ts(t,e,n,r){return!!(Wi(t)===r||r!==Cr&&Ji(e,n,t))&&("**"===t.path||Xi(e,t,n).matched)}function es(t,e,n){return 0===e.length&&!t.children[n]}class ns{constructor(t){this.segmentGroup=t||null}}class rs{constructor(t){this.urlTree=t}}function is(t){return new _t.a(e=>e.error(new ns(t)))}function ss(t){return new _t.a(e=>e.error(new rs(t)))}function os(t){return new _t.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class as{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Yi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Br(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Cr).pipe(Object(It.a)(t=>this.createUrlTree(us(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hn(t=>{if(t instanceof rs)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ns)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Cr).pipe(Object(It.a)(e=>this.createUrlTree(us(e),t.queryParams,t.fragment))).pipe(Hn(t=>{if(t instanceof ns)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Br([],{[Cr]:t}):t;return new qr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(It.a)(t=>new Br([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(oe.a)(r).pipe(St(r=>{const i=n.children[r],s=Qi(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(It.a)(t=>({segment:t,outlet:r})))}),Un((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Et((e,n)=>t(e,n,r)):nr.a,Kn(1),n?Jn(e):Qn(()=>new Tn))}())}expandSegment(t,e,n,r,i,s){return Object(oe.a)(n).pipe(St(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Hn(t=>{if(t instanceof ns)return Object(vt.a)(null);throw t}))),rr(t=>!!t),Hn((t,n)=>{if(t instanceof Tn||"EmptyError"===t.name){if(es(e,r,i))return Object(vt.a)(new Br([],{}));throw new ns(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return ts(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):is(e):is(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ss(i):this.lineralizeSegments(n,i).pipe(Object(wt.a)(n=>{const i=new Br(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Xi(e,r,i);if(!o)return is(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ss(l):this.lineralizeSegments(r,l).pipe(Object(wt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(vt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(It.a)(t=>(n._loadedConfig=t,new Br(r,{})))):Object(vt.a)(new Br(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Xi(e,n,r);if(!s)return is(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(wt.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Yi(e,o,u,s),l=new Br(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(It.a)(t=>new Br(o,t)));if(0===s.length&&0===c.length)return Object(vt.a)(new Br(o,{}));const h=Wi(n)===i;return this.expandSegment(r,l,s,c,h?Cr:i,!0).pipe(Object(It.a)(t=>new Br(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new Fi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(wt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(It.a)(t=>(e._loadedConfig=t,t))):function(t){return new _t.a(e=>e.error(xr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new Fi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Vi(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Vi(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Mr(s)});return Object(vt.a)(i).pipe(Bi(),Object(ir.a)(t=>{if(!Ui(t))return;const e=xr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(It.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return os(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new qr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Rr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Rr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Br(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function us(t){const e={};for(const n of Object.keys(t.children)){const r=us(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Br(t.segments.concat(e.segments),e.children)}return t}(new Br(t.segments,e))}class cs{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ls{constructor(t,e){this.component=t,this.route=e}}function hs(t,e,n){const r=t._root;return fs(r,e?e._root:null,n,[r.value])}function ds(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hi(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zr(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wi(t,e)||!Pr(t.queryParams,e.queryParams);case"paramsChange":default:return!wi(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cs(r)):(s.data=o.data,s._resolvedData=o._resolvedData),fs(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ls(a.outlet.component,o))}else o&&ps(e,a,i),i.canActivateChecks.push(new cs(r)),fs(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Rr(s,(t,e)=>ps(t,n.getContext(e),i)),i}function ps(t,e,n){const r=hi(t),i=t.value;Rr(r,(t,r)=>{ps(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ls(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ms{}function gs(t){return new _t.a(e=>e.error(t))}class ys{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Yi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Cr);if(null===e)return null;const n=new gi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Cr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new li(n,e),i=new yi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=mi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Qi(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!bs(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Cr?-1:e.value.outlet===Cr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return es(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ts(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Dr(n).parameters:{};i=new gi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ws(t),Wi(t),t.component,t,vs(e),_s(e)+n.length,Ss(t))}else{const r=Xi(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new gi(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ws(t),Wi(t),t.component,t,vs(e),_s(e)+s.length,Ss(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Yi(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new li(i,t)]}if(0===a.length&&0===c.length)return[new li(i,[])];const l=Wi(t)===r,h=this.processSegment(a,u,c,l?Cr:r);return null===h?null:[new li(i,h)]}}function bs(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vs(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _s(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ws(t){return t.data||{}}function Ss(t){return t.resolve||{}}function Os(t){return jn(e=>{const n=t(e);return n?Object(oe.a)(n).pipe(Object(It.a)(()=>e)):Object(vt.a)(e)})}class Es extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ts=new r.r("ROUTES");class Cs{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(It.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Fi(Nr(i.injector.get(Ts,void 0,r.q.Self|r.q.Optional)).map(Gi),i)}),Hn(t=>{throw e._loader$=void 0,t}));return e._loader$=new An.a(n,()=>new fn.a).pipe(Object(sr.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(oe.a)(this.loader.load(t)):Mr(t()).pipe(Object(wt.a)(t=>t instanceof r.w?Object(vt.a)(t):Object(oe.a)(this.compiler.compileModuleAsync(t))))}}class Is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ks,this.attachRef=null}}class ks{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Is,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class xs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function As(t){throw t}function Ps(t,e,n){return e.parse("/")}function js(t,e){return Object(vt.a)(null)}let Ns=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new fn.a,this.errorHandler=As,this.malformedUriErrorHandler=Ps,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:js,afterPreactivation:js},this.urlHandlingStrategy=new xs,this.routeReuseStrategy=new Es,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new qr(new Br([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cs(o,a,t=>this.triggerEvent(new vr(t)),t=>this.triggerEvent(new _r(t))),this.routerState=fi(this.currentUrlTree,this.rootComponentType),this.transitions=new mn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Et(t=>0!==t.id),Object(It.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),jn(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(ir.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(jn(t=>{const n=this.transitions.getValue();return e.next(new lr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?kn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,jn(t=>function(t,e,n,r,i){return new as(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(It.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ir.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(wt.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ys(t,e,n,r,i,s).recognize();return null===o?gs(new ms):Object(vt.a)(o)}catch(E_){return gs(E_)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(It.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ir.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new pr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new lr(n,this.serializeUrl(r),i,s);e.next(a);const u=fi(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),kn.a}),Os(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ir.a)(t=>{const e=new mr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(It.a)(t=>Object.assign(Object.assign({},t),{guards:hs(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(wt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(oe.a)(t).pipe(Object(wt.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(vt.a)(!0);const o=s.map(s=>{const o=ds(s,e,i);let a;if(function(t){return t&&Vi(t.canDeactivate)}(o))a=Mr(o.canDeactivate(t,e,n,r));else{if(!Vi(o))throw new Error("Invalid CanDeactivate guard");a=Mr(o(t,e,n,r))}return a.pipe(rr())});return Object(vt.a)(o).pipe(Bi())}(t.component,t.route,n,e,r)),rr(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(wt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(oe.a)(e).pipe(St(e=>In(function(t,e){return null!==t&&e&&e(new wr(t)),Object(vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Or(t)),Object(vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>xn(()=>{const i=e.guards.map(i=>{const s=ds(i,e.node,n);let o;if(function(t){return t&&Vi(t.canActivateChild)}(s))o=Mr(s.canActivateChild(r,t));else{if(!Vi(s))throw new Error("Invalid CanActivateChild guard");o=Mr(s(r,t))}return o.pipe(rr())});return Object(vt.a)(i).pipe(Bi())}));return Object(vt.a)(i).pipe(Bi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>xn(()=>{const i=ds(r,e,n);let s;if(function(t){return t&&Vi(t.canActivate)}(i))s=Mr(i.canActivate(e,t));else{if(!Vi(i))throw new Error("Invalid CanActivate guard");s=Mr(i(e,t))}return s.pipe(rr())}));return Object(vt.a)(i).pipe(Bi())}(t,e.route,n))),rr(t=>!0!==t,!0))}(r,s,t,e):Object(vt.a)(n)),Object(It.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ir.a)(t=>{if(Ui(t.guardsResult)){const e=xr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new gr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Et(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new dr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Os(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(ir.a)(t=>{const e=new yr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),jn(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(wt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let s=0;return Object(oe.a)(n).pipe(St(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const s={};return Object(oe.a)(i).pipe(Object(wt.a)(i=>function(t,e,n,r){const i=ds(t,e,r);return Mr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ir.a)(t=>{s[i]=t}))),Kn(1),Object(wt.a)(()=>Object.keys(s).length===i.length?Object(vt.a)(s):kn.a))}(t._resolve,t,e,r).pipe(Object(It.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),mi(t,n).resolve),null)))}(t.route,e,r,i)),Object(ir.a)(()=>s++),Kn(1),Object(wt.a)(e=>s===n.length?Object(vt.a)(t):kn.a))})),Object(ir.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new dr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ir.a)(t=>{const e=new br(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Os(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(It.a)(t=>{const e=function(t,e,n){const r=Si(t,e._root,n?n._root:void 0);return new di(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ir.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(It.a)(t=>(new Mi(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(ir.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new dr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ar(i))),Hn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ui(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new dr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new fr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Yh){t.reject(Yh)}}var i;return kn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){zi(t),this.config=t.map(Gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ci(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ki(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Rr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ki(n,e,r)}(n);if(s.toRoot())return Ci(e.root,new Br([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new xi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new xi(t,t===e.root,0)}const r=Ei(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xi(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Pi(o.segmentGroup,o.index,s.commands):Ai(o.segmentGroup,o.index,s.commands);return Ci(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ui(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(E_){e=this.malformedUriErrorHandler(E_,this.urlSerializer,t)}return e}isActive(t,e){if(Ui(t))return Lr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Lr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new hr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.O),r.Tb($r),r.Tb(ks),r.Tb(w),r.Tb(r.s),r.Tb(r.x),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ds=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new fn.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Ms(this.skipLocationChange),replaceUrl:Ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ms(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ns),r.Mb(pi),r.Ub("tabindex"),r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),Rs=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new fn.a,this.subscription=t.events.subscribe(t=>{t instanceof hr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Ms(this.skipLocationChange),replaceUrl:Ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ms(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ns),r.Mb(pi),r.Mb(g))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.ic),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function Ms(t){return""===t||!!t}let Ls=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof hr&&this.update()})}ngAfterContentInit(){Object(vt.a)(this.links.changes,this.linksWithHrefs.changes,Object(vt.a)(null)).pipe(Object(Cn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(oe.a)(e).pipe(Object(Cn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ns),r.Mb(r.l),r.Mb(r.F),r.Mb(r.h),r.Mb(Ds,8),r.Mb(Rs,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,Ds,1),r.Fb(n,Rs,1)),2&t){let t;r.gc(t=r.Xb())&&(e.links=t),r.gc(t=r.Xb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),Fs=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Cr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vs(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ks),r.Mb(r.R),r.Mb(r.j),r.Ub("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Vs{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===pi?this.route:t===ks?this.childContexts:this.parent.get(t,e)}}class Us{}class qs{preload(t,e){return Object(vt.a)(null)}}let Bs=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Cs(e,n,e=>t.triggerEvent(new vr(e)),e=>t.triggerEvent(new _r(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Et(t=>t instanceof hr),St(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(oe.a)(n).pipe(Object(Cn.a)(),Object(It.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(vt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(wt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Ns),r.Tb(r.x),r.Tb(r.i),r.Tb(r.s),r.Tb(Us))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Hs=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Tr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Ns),r.Tb(q),r.Tb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const zs=new r.r("ROUTER_CONFIGURATION"),$s=new r.r("ROUTER_FORROOT_GUARD"),Ks=[w,{provide:$r,useClass:Kr},{provide:Ns,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Ns(null,t,e,n,r,i,o,Nr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[$r,ks,w,r.s,r.x,r.i,Ts,zs,[class{},new r.B],[class{},new r.B]]},ks,{provide:pi,useFactory:function(t){return t.routerState.root},deps:[Ns]},{provide:r.x,useClass:r.L},Bs,qs,class{preload(t,e){return e().pipe(Hn(()=>Object(vt.a)(null)))}},{provide:zs,useValue:{enableTracing:!1}}];function Gs(){return new r.z("Router",Ns)}let Ws=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ks,Ys(e),{provide:$s,useFactory:Xs,deps:[[Ns,new r.B,new r.K]]},{provide:zs,useValue:n||{}},{provide:g,useFactory:Zs,deps:[a,[new r.p(b),new r.B],zs]},{provide:Hs,useFactory:Qs,deps:[Ns,q,zs]},{provide:Us,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qs},{provide:r.z,multi:!0,useFactory:Gs},[Js,{provide:r.d,multi:!0,useFactory:to,deps:[Js]},{provide:no,useFactory:eo,deps:[Js]},{provide:r.b,multi:!0,useExisting:no}]]}}static forChild(e){return{ngModule:t,providers:[Ys(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($s,8),r.Tb(Ns,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function Qs(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hs(t,e,n)}function Zs(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function Xs(t){return"guarded"}function Ys(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ts,multi:!0,useValue:t}]}let Js=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new fn.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ns),r=this.injector.get(zs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(zs),n=this.injector.get(Bs),i=this.injector.get(Hs),s=this.injector.get(Ns),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function to(t){return t.appInitializer.bind(t)}function eo(t){return t.bootstrapListener.bind(t)}const no=new r.r("Router Initializer");let ro=(()=>{class t{constructor(t){this.http=t}getGameObject(){return this.gameObject}setGameObject(t){this.gameObject=t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(zt))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var io=n("D0XW");function so(){return t=>t.lift(new oo)}class oo{call(t,e){return e.subscribe(new ao(t))}}class ao extends Ot.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class uo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new co(t,this.compare,this.keySelector))}}class co extends Ot.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var lo=n("pxpQ"),ho=n("spgP"),fo=n("Jgta"),po=n("zIRd"),mo=n("390u"),go=n("q/0M"),yo=function(t,e){return(yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vo,_o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wo=wo||{},So=_o||self;function Oo(){}function Eo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function To(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Co="closure_uid_"+(1e9*Math.random()>>>0),Io=0;function ko(t,e,n){return t.call.apply(t.bind,arguments)}function xo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ao(t,e,n){return(Ao=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ko:xo).apply(null,arguments)}function Po(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function jo(){return Date.now()}function No(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Do(){this.j=this.j,this.i=this.i}Do.prototype.j=!1,Do.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Co)&&t[Co]||(t[Co]=++Io)}(this)},Do.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ro=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Mo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Lo(t){return Array.prototype.concat.apply([],arguments)}function Fo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vo(t){return/^[\s\xa0]*$/.test(t)}var Uo,qo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bo(t,e){return-1!=t.indexOf(e)}function Ho(t,e){return t<e?-1:t>e?1:0}t:{var zo=So.navigator;if(zo){var $o=zo.userAgent;if($o){Uo=$o;break t}}Uo=""}function Ko(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Go(t){var e={};for(var n in t)e[n]=t[n];return e}var Wo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Wo.length;s++)n=Wo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zo(t){return Zo[" "](t),t}Zo[" "]=Oo;var Xo,Yo,Jo=Bo(Uo,"Opera"),ta=Bo(Uo,"Trident")||Bo(Uo,"MSIE"),ea=Bo(Uo,"Edge"),na=ea||ta,ra=Bo(Uo,"Gecko")&&!(Bo(Uo.toLowerCase(),"webkit")&&!Bo(Uo,"Edge"))&&!(Bo(Uo,"Trident")||Bo(Uo,"MSIE"))&&!Bo(Uo,"Edge"),ia=Bo(Uo.toLowerCase(),"webkit")&&!Bo(Uo,"Edge");function sa(){var t=So.document;return t?t.documentMode:void 0}t:{var oa="",aa=(Yo=Uo,ra?/rv:([^\);]+)(\)|;)/.exec(Yo):ea?/Edge\/([\d\.]+)/.exec(Yo):ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yo):ia?/WebKit\/(\S+)/.exec(Yo):Jo?/(?:Version)[ \/]?(\S+)/.exec(Yo):void 0);if(aa&&(oa=aa?aa[1]:""),ta){var ua=sa();if(null!=ua&&ua>parseFloat(oa)){Xo=String(ua);break t}}Xo=oa}var ca={};function la(t){return function(t,e){var n=ca;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=qo(String(Xo)).split("."),r=qo(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ho(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ho(0==o[2].length,0==a[2].length)||Ho(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ha=So.document&&ta&&(sa()||parseInt(Xo,10))||void 0,da=!ta||9<=Number(ha),fa=ta&&!la("9"),pa=function(){if(!So.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{So.addEventListener("test",Oo,e),So.removeEventListener("test",Oo,e)}catch(n){}return t}();function ma(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ga(t,e){if(ma.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ra){t:{try{Zo(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ya[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ma.prototype.b=function(){this.defaultPrevented=!0},No(ga,ma);var ya={2:"touch",3:"pen",4:"mouse"};ga.prototype.b=function(){ga.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,fa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ba="closure_listenable_"+(1e6*Math.random()|0),va=0;function _a(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++va,this.Y=this.Z=!1}function wa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Sa(t){this.src=t,this.a={},this.b=0}function Oa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ro(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(wa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ea(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Sa.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ea(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new _a(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ta="closure_lm_"+(1e6*Math.random()|0),Ca={};function Ia(t,e,n,r,i){if(r&&r.once)return xa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ia(t,e[s],n,r,i);return null}return n=La(n),t&&t[ba]?t.va(e,n,To(r)?!!r.capture:!!r,i):ka(t,e,n,!1,r,i)}function ka(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=To(i)?!!i.capture:!!i;if(o&&!da)return null;var a=Ra(t);if(a||(t[Ta]=a=new Sa(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Da,e=da?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pa||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ja(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xa(t,e[s],n,r,i);return null}return n=La(n),t&&t[ba]?t.wa(e,n,To(r)?!!r.capture:!!r,i):ka(t,e,n,!0,r,i)}function Aa(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Aa(t,e[s],n,r,i);else r=To(r)?!!r.capture:!!r,n=La(n),t&&t[ba]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ea(s=t.a[e],n,r,i))&&(wa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Ra(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ea(e,n,r,i)),(n=-1<t?e[t]:null)&&Pa(n))}function Pa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ba])Oa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ja(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ra(e))?(Oa(n,t),0==n.b&&(n.src=null,e[Ta]=null)):wa(t)}}}function ja(t){return t in Ca?Ca[t]:Ca[t]="on"+t}function Na(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Pa(t),n.call(r,e)}function Da(t,e){if(t.Y)return!0;if(!da){if(!e)t:{e=["window","event"];for(var n=So,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Na(t,e=new ga(e,this))}return Na(t,new ga(e,this))}function Ra(t){return(t=t[Ta])instanceof Sa?t:null}var Ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(t){return"function"==typeof t?t:(t[Ma]||(t[Ma]=function(e){return t.handleEvent(e)}),t[Ma])}function Fa(){Do.call(this),this.c=new Sa(this),this.J=this,this.C=null}function Va(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ma(e,t);else if(e instanceof ma)e.target=e.target||t;else{var i=e;Qo(e=new ma(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Ua(o,r,!0,e)&&i}if(i=Ua(o=e.a=t,r,!0,e)&&i,i=Ua(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ua(o=e.a=n[s],r,!1,e)&&i}function Ua(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Oa(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}No(Fa,Do),Fa.prototype[ba]=!0,(vo=Fa.prototype).addEventListener=function(t,e,n,r){Ia(this,t,e,n,r)},vo.removeEventListener=function(t,e,n,r){Aa(this,t,e,n,r)},vo.G=function(){if(Fa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)wa(n[r]);delete e.a[t],e.b--}}this.C=null},vo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},vo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var qa=So.JSON.stringify;function Ba(){this.b=this.a=null}var Ha,za=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ka},function(t){t.reset()});function $a(){var t=Za,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ka(){this.next=this.b=this.a=null}function Ga(t){So.setTimeout(function(){throw t},0)}function Wa(t,e){Ha||function(){var t=So.Promise.resolve(void 0);Ha=function(){t.then(Xa)}}(),Qa||(Ha(),Qa=!0),Za.add(t,e)}Ba.prototype.add=function(t,e){var n=za.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ka.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ka.prototype.reset=function(){this.next=this.b=this.a=null};var Qa=!1,Za=new Ba;function Xa(){for(var t;t=$a();){try{t.a.call(t.b)}catch(n){Ga(n)}var e=za;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qa=!1}function Ya(t,e){Fa.call(this),this.b=t||1,this.a=e||So,this.f=Ao(this.Za,this),this.g=jo()}function Ja(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tu(t,e,n){if("function"==typeof t)n&&(t=Ao(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ao(t.handleEvent,t)}return 2147483647<Number(e)?-1:So.setTimeout(t,e||0)}function eu(t){t.a=tu(function(){t.a=null,t.c&&(t.c=!1,eu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}No(Ya,Fa),(vo=Ya.prototype).aa=!1,vo.M=null,vo.Za=function(){if(this.aa){var t=jo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Va(this,"tick"),this.aa&&(Ja(this),this.start()))}},vo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=jo())},vo.G=function(){Ya.X.G.call(this),Ja(this),delete this.a};var nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}yo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:eu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(So.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Do);function ru(t){Do.call(this),this.b=t,this.a={}}No(ru,Do);var iu=[];function su(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var s=Ia(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function ou(t){Ko(t.a,function(t,e){this.a.hasOwnProperty(e)&&Pa(t)},t),t.a={}}function au(){this.a=!0}function uu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return qa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ru.prototype.G=function(){ru.X.G.call(this),ou(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.info=function(){};var cu={},lu=null;function hu(){return lu=lu||new Fa}function du(t){ma.call(this,cu.Fa,t)}function fu(t){var e=hu();Va(e,new du(e,t))}function pu(t,e){ma.call(this,cu.STAT_EVENT,t),this.stat=e}function mu(t){var e=hu();Va(e,new pu(e,t))}function gu(t){ma.call(this,cu.Ga,t)}function yu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return So.setTimeout(function(){t()},e)}cu.Fa="serverreachability",No(du,ma),cu.STAT_EVENT="statevent",No(pu,ma),cu.Ga="timingevent",No(gu,ma);var bu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _u(){}function wu(){}_u.prototype.a=null;var Su,Ou={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Eu(){ma.call(this,"d")}function Tu(){ma.call(this,"c")}function Cu(){}function Iu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ru(this),this.P=ku,this.R=new Ya(t=na?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}No(Eu,ma),No(Tu,ma),No(Cu,_u),Su=new Cu;var ku=45e3,xu={},Au={};function Pu(t,e,n){t.H=1,t.i=Ju(Gu(e)),t.j=n,t.I=!0,ju(t,null)}function ju(t,e){t.u=jo(),Ru(t),t.l=Gu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dc(n.b,"t",r),t.D=0,t.a=ol(t.g,t.g.C?e:null),0<t.O&&(t.F=new nu(Ao(t.Ca,t,t.a),t.O)),su(t.J,t.a,"readystatechange",t.Xa),e=t.B?Go(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fu(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Du(t,n);if(i==Au){4==e&&(t.h=4,mu(14),r=!1),uu(t.c,t.f,null,"[Incomplete Response]");break}if(i==xu){t.h=4,mu(15),uu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uu(t.c,t.f,i,null),Uu(t,i)}4==e&&0==n.length&&(t.h=1,mu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yc(e),e.F=!0,mu(11))):(uu(t.c,t.f,n,"[Invalid Chunked Response]"),Vu(t),Fu(t))}function Du(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Au:(n=Number(e.substring(n,r)),isNaN(n)?xu:(r+=1)+n>e.length?Au:(e=e.substr(r,n),t.D=r+n,e))}function Ru(t){t.T=jo()+t.P,Mu(t,t.P)}function Mu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=yu(Ao(t.Va,t),e)}function Lu(t){t.o&&(So.clearTimeout(t.o),t.o=null)}function Fu(t){0==t.g.v||t.A||el(t.g,t)}function Vu(t){Lu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ja(t.R),ou(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Uu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vc(n.b,t)))if(n.I=t.N,!t.C&&vc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Hv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tl(n),Hc(n)}Xc(n),mu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=yu(Ao(n.Sa,n),6e3));if(1>=bc(n.b)&&n.ea){try{n.ea()}catch(Hv){}n.ea=void 0}}else rl(n,11)}else if((t.C||n.a==t)&&tl(n),!Vo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Bo(l,"spdy")||Bo(l,"quic")||Bo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_c(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Yu(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=jo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=sl(u,u.C?u.ga:null,u.fa),f.C){wc(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Lu(p),Ru(p)),u.a=f}else Zc(u);0<n.g.length&&Kc(n)}else"stop"!=i[0]&&"close"!=i[0]||rl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rl(n,7):Bc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fu(4)}catch(Hv){}}function qu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Eo(t)||"string"==typeof t)Mo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Eo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Eo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Bu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)zu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vo=Iu.prototype).setTimeout=function(t){this.P=t},vo.Xa=function(t){t=t.target;var e=this.F;e&&3==Fc(t)?e.f():this.Ca(t)},vo.Ca=function(t){try{if(t==this.a)t:{var e=Fc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!na&&!this.a.$())){this.A||4!=e||7==n||fu(8==n||0>=r?3:2),Lu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vo(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,mu(12),Vu(this),Fu(this);break t}uu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Uu(this,u)}this.I?(Nu(this,e,s),na&&this.b&&3==e&&(su(this.J,this.R,"tick",this.Wa),this.R.start())):(uu(this.c,this.f,s,null),Uu(this,s)),4==e&&Vu(this),this.b&&!this.A&&(4==e?el(this.g,this):(this.b=!1,Ru(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,mu(12)):(this.h=0,mu(13)),Vu(this),Fu(this)}}}catch(c){}},vo.Wa=function(){if(this.a){var t=Fc(this.a),e=this.a.$();this.D<e.length&&(Lu(this),Nu(this,t,e),this.b&&4!=t&&Ru(this))}},vo.cancel=function(){this.A=!0,Vu(this)},vo.Va=function(){this.o=null;var t=jo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(fu(3),mu(17)),Vu(this),this.h=2,Fu(this)):Mu(this,this.T-t)},(vo=Bu.prototype).K=function(){Hu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vo.L=function(){return Hu(this),this.a.concat()},vo.get=function(t,e){return zu(this.b,t)?this.b[t]:e},vo.set=function(t,e){zu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var $u=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ku(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ku){this.a=void 0!==e?e:t.a,Wu(this,t.f),this.j=t.j,Qu(this,t.c),Zu(this,t.h),this.g=t.g,e=t.b;var n=new uc;n.c=e.c,e.a&&(n.a=new Bu(e.a),n.b=e.b),Xu(this,n),this.i=t.i}else t&&(n=String(t).match($u))?(this.a=!!e,Wu(this,n[1]||"",!0),this.j=tc(n[2]||""),Qu(this,n[3]||"",!0),Zu(this,n[4]),this.g=tc(n[5]||"",!0),Xu(this,n[6]||"",!0),this.i=tc(n[7]||"")):(this.a=!!e,this.b=new uc(null,this.a))}function Gu(t){return new Ku(t)}function Wu(t,e,n){t.f=n?tc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qu(t,e,n){t.c=n?tc(e,!0):e}function Zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xu(t,e,n){e instanceof uc?(t.b=e,function(t,e){e&&!t.f&&(cc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(lc(this,e),dc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ec(e,oc)),t.b=new uc(e,t.a))}function Yu(t,e,n){t.b.set(e,n)}function Ju(t){return Yu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^jo()).toString(36)),t}function tc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ec(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ku.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ec(e,rc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ec(e,rc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ec(n,"/"==n.charAt(0)?sc:ic,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ec(n,ac)),t.join("")};var rc=/[#\/\?@]/g,ic=/[#\?:]/g,sc=/[#\?]/g,oc=/[#\?@]/g,ac=/#/g;function uc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cc(t){t.a||(t.a=new Bu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lc(t,e){cc(t),e=fc(t,e),zu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,zu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hu(t)))}function hc(t,e){return cc(t),e=fc(t,e),zu(t.a.b,e)}function dc(t,e,n){lc(t,e),0<n.length&&(t.c=null,t.a.set(fc(t,e),Fo(n)),t.b+=n.length)}function fc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(vo=uc.prototype).add=function(t,e){cc(this),this.c=null,t=fc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vo.forEach=function(t,e){cc(this),this.a.forEach(function(n,r){Mo(n,function(n){t.call(e,n,r,this)},this)},this)},vo.L=function(){cc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},vo.K=function(t){cc(this);var e=[];if("string"==typeof t)hc(this,t)&&(e=Lo(e,this.a.get(fc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Lo(e,t[n])}return e},vo.set=function(t,e){return cc(this),this.c=null,hc(this,t=fc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},vo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var pc=function(){return function(t,e){this.b=t,this.a=e}}();function mc(t){this.g=t||gc,t=So.PerformanceNavigationTiming?0<(t=So.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(So.ia&&So.ia.ya&&So.ia.ya()&&So.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var gc=10;function yc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bc(t){return t.b?1:t.a?t.a.size:0}function vc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _c(t,e){t.a?t.a.add(e):t.b=e}function wc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bo(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Fo(t.c)}function Oc(){}function Ec(){this.a=new Oc}function Tc(t,e,n){var r=n||"";try{qu(t,function(t,n){var i=t;To(t)&&(i=qa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(E_){throw e.push(r+"type="+encodeURIComponent("_badmap")),E_}}function Cc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}mc.prototype.cancel=function(){var t,e;if(this.c=Sc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Oc.prototype.stringify=function(t){return So.JSON.stringify(t,void 0)},Oc.prototype.parse=function(t){return So.JSON.parse(t,void 0)};var Ic=So.JSON.parse;function kc(t){Fa.call(this),this.headers=new Bu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xc,this.D=this.F=!1}No(kc,Fa);var xc="",Ac=/^https?$/i,Pc=["POST","PUT"];function jc(t){return"content-type"==t.toLowerCase()}function Nc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Dc(t),Mc(t)}function Dc(t){t.u||(t.u=!0,Va(t,"complete"),Va(t,"error"))}function Rc(t){if(t.b&&void 0!==wo&&(!t.s[1]||4!=Fc(t)||2!=t.W()))if(t.l&&4==Fc(t))tu(t.za,0,t);else if(Va(t,"readystatechange"),4==Fc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match($u)[1]||null;if(!s&&So.self&&So.self.location){var o=So.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ac.test(s?s.toLowerCase():"")}e=i}if(e)Va(t,"complete"),Va(t,"success");else{t.h=6;try{var a=2<Fc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Dc(t)}}finally{Mc(t)}}}function Mc(t,e){if(t.a){Lc(t);var n=t.a,r=t.s[0]?Oo:null;t.a=null,t.s=null,e||Va(t,"ready");try{n.onreadystatechange=r}catch(E_){}}}function Lc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(So.clearTimeout(t.m),t.m=null)}function Fc(t){return t.a?t.a.readyState:0}function Vc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ko(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yu(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qc(t){this.pa=0,this.g=[],this.c=new au,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Uc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Uc("baseRetryDelayMs",5e3,t),this.Ra=Uc("retryDelaySeedMs",1e4,t),this.Ma=Uc("forwardChannelMaxRetries",2,t),this.ma=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mc(t&&t.concurrentRequestLimit),this.ka=new Ec,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Bc(t){if(zc(t),3==t.v){var e=t.R++,n=Gu(t.B);Yu(n,"SID",t.J),Yu(n,"RID",e),Yu(n,"TYPE","terminate"),Wc(t,n),(e=new Iu(t,t.c,e,void 0)).H=2,e.i=Ju(Gu(n)),n=!1,So.navigator&&So.navigator.sendBeacon&&(n=So.navigator.sendBeacon(e.i.toString(),"")),!n&&So.Image&&((new Image).src=e.i,n=!0),n||(e.a=ol(e.g,null),e.a.ba(e.i)),e.u=jo(),Ru(e)}il(t)}function Hc(t){t.a&&(Yc(t),t.a.cancel(),t.a=null)}function zc(t){Hc(t),t.j&&(So.clearTimeout(t.j),t.j=null),tl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&So.clearTimeout(t.h),t.h=null)}function $c(t,e){t.g.push(new pc(t.Oa++,e)),3==t.v&&Kc(t)}function Kc(t){yc(t.b)||t.h||(t.h=!0,Wa(t.Ba,t),t.u=0)}function Gc(t,e){var n;n=e?e.f:t.R++;var r=Gu(t.B);Yu(r,"SID",t.J),Yu(r,"RID",n),Yu(r,"AID",t.P),Wc(t,r),t.i&&t.l&&Vc(r,t.i,t.l),n=new Iu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_c(t.b,n),Pu(n,r,e)}function Wc(t,e){t.f&&qu({},function(t,n){Yu(e,n,t)})}function Qc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ao(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Tc(l,o,"req"+c+"_")}catch(Fl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zc(t){t.a||t.j||(t.T=1,Wa(t.Aa,t),t.o=0)}function Xc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=yu(Ao(t.Aa,t),nl(t,t.o)),t.o++,0))}function Yc(t){null!=t.s&&(So.clearTimeout(t.s),t.s=null)}function Jc(t){t.a=new Iu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gu(t.la);Yu(e,"RID","rpc"),Yu(e,"SID",t.J),Yu(e,"CI",t.H?"0":"1"),Yu(e,"AID",t.P),Wc(t,e),Yu(e,"TYPE","xmlhttp"),t.i&&t.l&&Vc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ju(Gu(e)),n.j=null,n.I=!0,ju(n,t)}function tl(t){null!=t.m&&(So.clearTimeout(t.m),t.m=null)}function el(t,e){var n=null;if(t.a==e){tl(t),Yc(t),t.a=null;var r=2}else{if(!vc(t.b,e))return;n=e.s,wc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=jo()-e.u;var i=t.u;Va(r=hu(),new gu(r,n,e,i)),Kc(t)}else Zc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=yu(Ao(t.Ba,t,e),nl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rl(t,5);break;case 4:rl(t,10);break;case 3:rl(t,6);break;default:rl(t,2)}}function nl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ao(t.Ya,t);n||(n=new Ku("//www.google.com/images/cleardot.gif"),So.location&&"http"==So.location.protocol||Wu(n,"https"),Ju(n)),function(t,e){var n=new au;if(So.Image){var r=new Image;r.onload=Po(Cc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Po(Cc,n,r,"TestLoadImage: error",!1,e),r.onabort=Po(Cc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Po(Cc,n,r,"TestLoadImage: timeout",!1,e),So.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mu(2);t.v=0,t.f&&t.f.ra(e),il(t),zc(t)}function il(t){t.v=0,t.I=-1,t.f&&(0==Sc(t.b).length&&0==t.g.length||(t.b.c.length=0,Fo(t.g),t.g.length=0),t.f.qa())}function sl(t,e,n){var r=function(t){return t instanceof Ku?Gu(t):new Ku(t,void 0)}(n);if(""!=r.c)e&&Qu(r,e+"."+r.c),Zu(r,r.h);else{var i=So.location;r=function(t,e,n,r){var i=new Ku(null,void 0);return t&&Wu(i,t),e&&Qu(i,e),n&&Zu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ko(t.V,function(t,e){Yu(r,e,t)}),n=t.na,(e=t.A)&&n&&Yu(r,e,n),Yu(r,"VER",t.ha),Wc(t,r),r}function ol(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kc(t.Na)).F=t.C,e}function al(){}function ul(){if(ta&&!(10<=Number(ha)))throw Error("Environmental error: no available transport.")}function cl(t,e){Fa.call(this),this.a=new qc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dl(this)}function ll(t){Eu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hl(){Tu.call(this),this.status=1}function dl(t){this.a=t}(vo=kc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Su),this.a.onreadystatechange=Ao(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Nc(this,s)}t=n||"";var i=new Bu(this.headers);r&&qu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=jc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=So.FormData&&t instanceof So.FormData,!(0<=Ro(Pc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lc(this),0<this.o&&((this.D=function(t){return ta&&la(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ao(this.xa,this)):this.m=tu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Nc(this,s)}},vo.xa=function(){void 0!==wo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Va(this,"timeout"),this.abort(8))},vo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Va(this,"complete"),Va(this,"abort"),Mc(this))},vo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mc(this,!0)),kc.X.G.call(this)},vo.za=function(){this.j||(this.A||this.l||this.g?Rc(this):this.Ua())},vo.Ua=function(){Rc(this)},vo.W=function(){try{return 2<Fc(this)?this.a.status:-1}catch(Yo){return-1}},vo.$=function(){try{return this.a?this.a.responseText:""}catch(Yo){return""}},vo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ic(e)}},vo.ua=function(){return this.h},vo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(vo=qc.prototype).ha=8,vo.v=1,vo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Iu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Qo(r=Go(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qc(this,n,e),Yu(i=Gu(this.B),"RID",t),Yu(i,"CVER",22),this.A&&Yu(i,"X-HTTP-Session-Id",this.A),Wc(this,i),this.i&&r&&Vc(i,this.i,r),_c(this.b,n),this.Ia&&Yu(i,"TYPE","init"),this.da?(Yu(i,"$req",e),Yu(i,"SID","null"),n.U=!0,Pu(n,i,null)):Pu(n,i,e),this.v=2}}else 3==this.v&&(t?Gc(this,t):0==this.g.length||yc(this.b)||Gc(this))},vo.Aa=function(){if(this.j=null,Jc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=yu(Ao(this.Ta,this),t)}},vo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mu(10),Hc(this),Jc(this))},vo.Sa=function(){null!=this.m&&(this.m=null,Hc(this),Xc(this),mu(19))},vo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),mu(2)):(this.c.info("Failed to ping google.com"),mu(1))},(vo=al.prototype).ta=function(){},vo.sa=function(){},vo.ra=function(){},vo.qa=function(){},vo.Ja=function(){},ul.prototype.a=function(t,e){return new cl(t,e)},No(cl,Fa),cl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;mu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=sl(t,null,t.fa),Kc(t)},cl.prototype.close=function(){Bc(this.a)},cl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$c(this.a,e)}else this.l?((e={}).__data__=qa(t),$c(this.a,e)):$c(this.a,t)},cl.prototype.G=function(){this.a.f=null,delete this.f,Bc(this.a),delete this.a,cl.X.G.call(this)},No(ll,Eu),No(hl,Tu),No(dl,al),dl.prototype.ta=function(){Va(this.a,"a")},dl.prototype.sa=function(t){Va(this.a,new ll(t))},dl.prototype.ra=function(t){Va(this.a,new hl(t))},dl.prototype.qa=function(){Va(this.a,"b")},ul.prototype.createWebChannel=ul.prototype.a,cl.prototype.send=cl.prototype.h,cl.prototype.open=cl.prototype.g,cl.prototype.close=cl.prototype.close,bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,vu.COMPLETE="complete",wu.EventType=Ou,Ou.OPEN="a",Ou.CLOSE="b",Ou.ERROR="c",Ou.MESSAGE="d",Fa.prototype.listen=Fa.prototype.va,kc.prototype.listenOnce=kc.prototype.wa,kc.prototype.getLastError=kc.prototype.Qa,kc.prototype.getLastErrorCode=kc.prototype.ua,kc.prototype.getStatus=kc.prototype.W,kc.prototype.getResponseJson=kc.prototype.Pa,kc.prototype.getResponseText=kc.prototype.$,kc.prototype.send=kc.prototype.ba;var fl=bu,pl=vu,ml=cu,gl=wu,yl=kc,bl=n("mrSG"),vl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();vl.o=-1;var _l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(bl.c)(e,t),e}(Error),Sl=new go.b("@firebase/firestore");function Ol(){return Sl.logLevel}function El(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=go.a.DEBUG){var r=e.map(Il);Sl.debug.apply(Sl,Object(bl.f)(["Firestore (8.4.0): "+t],r))}}function Tl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=go.a.ERROR){var r=e.map(Il);Sl.error.apply(Sl,Object(bl.f)(["Firestore (8.4.0): "+t],r))}}function Cl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=go.a.WARN){var r=e.map(Il);Sl.warn.apply(Sl,Object(bl.f)(["Firestore (8.4.0): "+t],r))}}function Il(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(E_){return t}}function kl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Tl(e),new Error(e)}function xl(t,e){t||kl()}function Al(t,e){return t}function Pl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Nl(t,e){return t<e?-1:t>e?1:0}function Dl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Rl(t){return t+"\0"}var Ml=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wl(_l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wl(_l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new wl(_l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wl(_l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Nl(this.nanoseconds,t.nanoseconds):Nl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ll=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ml(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Fl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ul(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ql=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&kl(),void 0===n?n=t.length-e:n>t.length-e&&kl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new wl(_l.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ql),Hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Hl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new wl(_l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new wl(_l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wl(_l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new wl(_l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ql),$l=function(){function t(t){this.fields=t,t.sort(zl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Dl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Kl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Nl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Kl.EMPTY_BYTE_STRING=new Kl("");var Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(t){if(xl(!!t),"string"==typeof t){var e=0,n=Gl.exec(t);if(xl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ql(t.seconds),nanos:Ql(t.nanos)}}function Ql(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zl(t){return"string"==typeof t?Kl.fromBase64String(t):Kl.fromUint8Array(t)}function Xl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yl(t){var e=t.mapValue.fields.__previous_value__;return Xl(e)?Yl(e):e}function Jl(t){var e=Wl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ml(e.seconds,e.nanos)}function th(t){return null==t}function eh(t){return 0===t&&1/t==-1/0}function nh(t){return"number"==typeof t&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var rh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Bl.fromString(e))},t.fromName=function(e){return new t(Bl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Bl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Bl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Bl(e.slice()))},t}();function ih(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xl(t)?4:10:kl()}function sh(t,e){var n=ih(t);if(n!==ih(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Wl(t.timestampValue),r=Wl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Zl(t.bytesValue).isEqual(Zl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ql(t.geoPointValue.latitude)===Ql(e.geoPointValue.latitude)&&Ql(t.geoPointValue.longitude)===Ql(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ql(t.integerValue)===Ql(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ql(t.doubleValue),r=Ql(e.doubleValue);return n===r?eh(n)===eh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],sh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fl(n)!==Fl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sh(n[i],r[i])))return!1;return!0}(t,e);default:return kl()}}function oh(t,e){return void 0!==(t.values||[]).find(function(t){return sh(t,e)})}function ah(t,e){var n=ih(t),r=ih(e);if(n!==r)return Nl(n,r);switch(n){case 0:return 0;case 1:return Nl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ql(t.integerValue||t.doubleValue),r=Ql(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return uh(t.timestampValue,e.timestampValue);case 4:return uh(Jl(t),Jl(e));case 5:return Nl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Zl(t),r=Zl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Nl(n[i],r[i]);if(0!==s)return s}return Nl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Nl(Ql(t.latitude),Ql(e.latitude));return 0!==n?n:Nl(Ql(t.longitude),Ql(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ah(n[i],r[i]);if(s)return s}return Nl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Nl(r[o],s[o]);if(0!==a)return a;var u=ah(n[r[o]],i[s[o]]);if(0!==u)return u}return Nl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw kl()}}function uh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nl(t,e);var n=Wl(t),r=Wl(e),i=Nl(n.seconds,r.seconds);return 0!==i?i:Nl(n.nanos,r.nanos)}function ch(t){return lh(t)}function lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Wl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zl(t.bytesValue).toBase64():"referenceValue"in t?rh.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=lh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+lh(t.fields[s])}return e+"}"}(t.mapValue):kl();var e}function hh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function dh(t){return!!t&&"integerValue"in t}function fh(t){return!!t&&"arrayValue"in t}function ph(t){return!!t&&"nullValue"in t}function mh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}var yh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(zl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return sh(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ih(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=gh(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(zl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!gh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function bh(t){var e=[];return Vl(t.fields||{},function(t,n){var r=new zl([t]);if(gh(n)){var i=bh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new $l(e)}var vh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ll.min(),yh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,yh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,yh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=yh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=yh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),_h=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function wh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new _h(t,e,n,r,i,s,o)}function Sh(t){var e=Al(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ch(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rh(e.startAt)),e.endAt&&(n+="|ub:",n+=Rh(e.endAt)),e.h=n}return e.h}function Oh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Lh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!sh(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vh(t.startAt,e.startAt)&&Vh(t.endAt,e.endAt)}function Eh(t){return rh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Th=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(bl.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ch(t,n,r):"array-contains"===n?new Ah(t,r):"in"===n?new Ph(t,r):"not-in"===n?new jh(t,r):"array-contains-any"===n?new Nh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ih(t,n):new kh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ah(e,this.value)):null!==e&&ih(this.value)===ih(e)&&this.m(ah(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return kl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=rh.fromName(r.referenceValue),i}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=rh.comparator(t.key,this.key);return this.m(e)},e}(Th),Ih=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xh(0,n),r}return Object(bl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Th),kh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xh(0,n),r}return Object(bl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Th);function xh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return rh.fromName(t.referenceValue)})}var Ah=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return fh(e)&&oh(e.arrayValue,this.value)},e}(Th),Ph=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&oh(this.value.arrayValue,e)},e}(Th),jh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!oh(this.value.arrayValue,e)},e}(Th),Nh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return oh(e.value.arrayValue,t)})},e}(Th),Dh=function(t,e){this.position=t,this.before=e};function Rh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ch(t)}).join(",")}var Mh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Lh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Fh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?rh.comparator(rh.fromName(o.referenceValue),n.key):ah(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!sh(t.position[n],e.position[n]))return!1;return!0}var Uh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function qh(t,e,n,r,i,s,o,a){return new Uh(t,e,n,r,i,s,o,a)}function Bh(t){return new Uh(t)}function Hh(t){return!th(t.limit)&&"F"===t.limitType}function zh(t){return!th(t.limit)&&"L"===t.limitType}function $h(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Gh(t){return null!==t.collectionGroup}function Wh(t){var e=Al(t);if(null===e.p){e.p=[];var n=Kh(e),r=$h(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Mh(n)),e.p.push(new Mh(zl.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Mh(zl.keyField(),u))}}}return e.p}function Qh(t){var e=Al(t);if(!e.T)if("F"===e.limitType)e.T=wh(e.path,e.collectionGroup,Wh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Wh(e);r<i.length;r++){var s=i[r];n.push(new Mh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Dh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Dh(e.startAt.position,!e.startAt.before):null;e.T=wh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Zh(t,e,n){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Oh(Qh(t),Qh(e))&&t.limitType===e.limitType}function Yh(t){return Sh(Qh(t))+"|lt:"+t.limitType}function Jh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ch(e.value);var e}).join(", ")+"]"),th(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rh(t.startAt)),t.endAt&&(e+=", endAt: "+Rh(t.endAt)),"Target("+e+")"}(Qh(t))+"; limitType="+t.limitType+")"}function td(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):rh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fh(t.startAt,Wh(t),e)||t.endAt&&Fh(t.endAt,Wh(t),e))}(t,e)}function ed(t){return function(e,n){for(var r=!1,i=0,s=Wh(t);i<s.length;i++){var o=s[i],a=nd(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function nd(t,e,n){var r=t.field.isKeyField()?rh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ah(r,i):kl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kl()}}function rd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function id(t){return{integerValue:""+t}}function sd(t,e){return nh(e)?id(e):rd(t,e)}var od=function(){this._=void 0};function ad(t,e,n){return t instanceof ld?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof hd?dd(t,e):t instanceof fd?pd(t,e):function(t,e){var n=cd(t,e),r=gd(n)+gd(t.A);return dh(n)&&dh(t.A)?id(r):rd(t.R,r)}(t,e)}function ud(t,e,n){return t instanceof hd?dd(t,e):t instanceof fd?pd(t,e):n}function cd(t,e){return t instanceof md?dh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e}(od),hd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bl.c)(e,t),e}(od);function dd(t,e){for(var n=yd(e),r=function(t){n.some(function(e){return sh(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var fd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bl.c)(e,t),e}(od);function pd(t,e){for(var n=yd(e),r=function(t){n=n.filter(function(e){return!sh(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var md=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(bl.c)(e,t),e}(od);function gd(t){return Ql(t.integerValue||t.doubleValue)}function yd(t){return fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bd=function(t,e){this.field=t,this.transform=e},vd=function(t,e){this.version=t,this.transformResults=e},_d=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function wd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Sd=function(){};function Od(t,e,n){t instanceof kd?function(t,e,n){var r=t.value.clone(),i=Pd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xd?function(t,e,n){if(wd(t.precondition,e)){var r=Pd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ad(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n){t instanceof kd?function(t,e,n){if(wd(t.precondition,e)){var r=t.value.clone(),i=jd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Id(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xd?function(t,e,n){if(wd(t.precondition,e)){var r=jd(t.fieldTransforms,n,e),i=e.data;i.setAll(Ad(t)),i.setAll(r),e.convertToFoundDocument(Id(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){wd(t.precondition,e)&&e.convertToNoDocument(Ll.min())}(t,e)}function Td(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=cd(s.transform,o||null);null!=a&&(null==n&&(n=yh.empty()),n.set(s.field,a))}return n||null}function Cd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof hd&&e instanceof hd||t instanceof fd&&e instanceof fd?Dl(t.elements,e.elements,sh):t instanceof md&&e instanceof md?sh(t.A,e.A):t instanceof ld&&e instanceof ld}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Id(t){return t.isFoundDocument()?t.version:Ll.min()}var kd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(bl.c)(e,t),e}(Sd),xd=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(bl.c)(e,t),e}(Sd);function Ad(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Pd(t,e,n){var r=new Map;xl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ud(o,a,n[i]))}return r}function jd(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,ad(a,u,e))}return r}var Nd,Dd,Rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(bl.c)(e,t),e}(Sd),Md=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(bl.c)(e,t),e}(Sd),Ld=function(t){this.count=t};function Fd(t){switch(t){case _l.OK:return kl();case _l.CANCELLED:case _l.UNKNOWN:case _l.DEADLINE_EXCEEDED:case _l.RESOURCE_EXHAUSTED:case _l.INTERNAL:case _l.UNAVAILABLE:case _l.UNAUTHENTICATED:return!1;case _l.INVALID_ARGUMENT:case _l.NOT_FOUND:case _l.ALREADY_EXISTS:case _l.PERMISSION_DENIED:case _l.FAILED_PRECONDITION:case _l.ABORTED:case _l.OUT_OF_RANGE:case _l.UNIMPLEMENTED:case _l.DATA_LOSS:return!0;default:return kl()}}function Vd(t){if(void 0===t)return Tl("GRPC error has no .code"),_l.UNKNOWN;switch(t){case Nd.OK:return _l.OK;case Nd.CANCELLED:return _l.CANCELLED;case Nd.UNKNOWN:return _l.UNKNOWN;case Nd.DEADLINE_EXCEEDED:return _l.DEADLINE_EXCEEDED;case Nd.RESOURCE_EXHAUSTED:return _l.RESOURCE_EXHAUSTED;case Nd.INTERNAL:return _l.INTERNAL;case Nd.UNAVAILABLE:return _l.UNAVAILABLE;case Nd.UNAUTHENTICATED:return _l.UNAUTHENTICATED;case Nd.INVALID_ARGUMENT:return _l.INVALID_ARGUMENT;case Nd.NOT_FOUND:return _l.NOT_FOUND;case Nd.ALREADY_EXISTS:return _l.ALREADY_EXISTS;case Nd.PERMISSION_DENIED:return _l.PERMISSION_DENIED;case Nd.FAILED_PRECONDITION:return _l.FAILED_PRECONDITION;case Nd.ABORTED:return _l.ABORTED;case Nd.OUT_OF_RANGE:return _l.OUT_OF_RANGE;case Nd.UNIMPLEMENTED:return _l.UNIMPLEMENTED;case Nd.DATA_LOSS:return _l.DATA_LOSS;default:return kl()}}(Dd=Nd||(Nd={}))[Dd.OK=0]="OK",Dd[Dd.CANCELLED=1]="CANCELLED",Dd[Dd.UNKNOWN=2]="UNKNOWN",Dd[Dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dd[Dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dd[Dd.NOT_FOUND=5]="NOT_FOUND",Dd[Dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dd[Dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dd[Dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dd[Dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dd[Dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dd[Dd.ABORTED=10]="ABORTED",Dd[Dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dd[Dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dd[Dd.INTERNAL=13]="INTERNAL",Dd[Dd.UNAVAILABLE=14]="UNAVAILABLE",Dd[Dd.DATA_LOSS=15]="DATA_LOSS";var Ud=function(){function t(t,e){this.comparator=t,this.root=e||Bd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new qd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new qd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new qd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new qd(this.root,t,this.comparator,!0)},t}(),qd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Bd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw kl();if(this.right.isRed())throw kl();var t=this.left.check();if(t!==this.right.check())throw kl();return t+(this.isRed()?0:1)},t}();Bd.EMPTY=null,Bd.RED=!0,Bd.BLACK=!1,Bd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw kl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw kl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw kl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw kl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw kl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Bd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Hd=function(){function t(t){this.comparator=t,this.data=new Ud(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new zd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new zd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$d=new Ud(rh.comparator);function Kd(){return $d}var Gd=new Ud(rh.comparator);function Wd(){return Gd}var Qd=new Ud(rh.comparator);function Zd(){return Qd}var Xd=new Hd(rh.comparator);function Yd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Jd=new Hd(Nl);function tf(){return Jd}var ef=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ll.min(),r,tf(),Kd(),Yd())},t}(),nf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Kl.EMPTY_BYTE_STRING,n,Yd(),Yd(),Yd())},t}(),rf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},sf=function(t,e){this.targetId=t,this.V=e},of=function(t,e,n,r){void 0===n&&(n=Kl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},af=function(){function t(){this.S=0,this.D=lf(),this.C=Kl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Yd(),e=Yd(),n=Yd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:kl()}}),new nf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=lf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),uf=function(){function t(t){this.W=t,this.G=new Map,this.H=Kd(),this.J=cf(),this.Y=new Hd(Nl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:kl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Eh(i))if(0===n){var s=new rh(i.path);this.tt(e,s,vh.newNoDocument(s,Ll.min()))}else xl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Eh(s.target)){var o=new rh(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,vh.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Yd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ef(t,n,this.Y,this.H,r);return this.H=Kd(),this.J=cf(),this.Y=new Hd(Nl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new af,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Hd(Nl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||El("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new af),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function cf(){return new Ud(rh.comparator)}function lf(){return new Ud(rh.comparator)}var hf={asc:"ASCENDING",desc:"DESCENDING"},df={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ff=function(t,e){this.databaseId=t,this.I=e};function pf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function mf(t,e){return t.I?e.toBase64():e.toUint8Array()}function gf(t,e){return pf(t,e.toTimestamp())}function yf(t){return xl(!!t),Ll.fromTimestamp(function(t){var e=Wl(t);return new Ml(e.seconds,e.nanos)}(t))}function bf(t,e){return function(t){return new Bl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function vf(t){var e=Bl.fromString(t);return xl(Hf(e)),e}function _f(t,e){return bf(t.databaseId,e.path)}function wf(t,e){var n=vf(e);if(n.get(1)!==t.databaseId.projectId)throw new wl(_l.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new wl(_l.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rh(Tf(n))}function Sf(t,e){return bf(t.databaseId,e)}function Of(t){var e=vf(t);return 4===e.length?Bl.emptyPath():Tf(e)}function Ef(t){return new Bl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tf(t){return xl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Cf(t,e,n){return{name:_f(t,e),fields:n.toProto().mapValue.fields}}function If(t,e,n){var r=wf(t,e.name),i=yf(e.updateTime),s=new yh({mapValue:{fields:e.fields}}),o=vh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kf(t,e){var n;if(e instanceof kd)n={update:Cf(t,e.key,e.value)};else if(e instanceof Rd)n={delete:_f(t,e.key)};else if(e instanceof xd)n={update:Cf(t,e.key,e.data),updateMask:Bf(e.fieldMask)};else{if(!(e instanceof Md))return kl();n={verify:_f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ld)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof md)return{fieldPath:e.field.canonicalString(),increment:n.A};throw kl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:gf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:kl()}(t,e.precondition)),n}function xf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_d.updateTime(yf(t.updateTime)):void 0!==t.exists?_d.exists(t.exists):_d.none()}(e.currentDocument):_d.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xl("REQUEST_TIME"===e.setToServerValue),n=new ld):"appendMissingElements"in e?n=new hd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new fd(e.removeAllFromArray.values||[]):"increment"in e?n=new md(t,e.increment):kl();var r=zl.fromServerFormat(e.fieldPath);return new bd(r,n)}(t,e)}):[];if(e.update){var i=wf(t,e.update.name),s=new yh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new $l((t.fieldPaths||[]).map(function(t){return zl.fromServerFormat(t)}))}(e.updateMask);return new xd(i,s,o,n,r)}return new kd(i,s,n,r)}if(e.delete){var a=wf(t,e.delete);return new Rd(a,n)}if(e.verify){var u=wf(t,e.verify);return new Md(u,n)}return kl()}function Af(t,e){return{documents:[Sf(t,e.path)]}}function Pf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Sf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(mh(t.value))return{unaryFilter:{field:Ff(t.field),op:"IS_NAN"}};if(ph(t.value))return{unaryFilter:{field:Ff(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mh(t.value))return{unaryFilter:{field:Ff(t.field),op:"IS_NOT_NAN"}};if(ph(t.value))return{unaryFilter:{field:Ff(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ff(t.field),op:Lf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ff(t.field),direction:Mf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||th(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Df(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Df(e.endAt)),n}function jf(t){var e=Of(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Nf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Mh(Vf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return th(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rf(n.startAt));var l=null;return n.endAt&&(l=Rf(n.endAt)),qh(e,i,a,o,u,"F",c,l)}function Nf(t){return t?void 0!==t.unaryFilter?[qf(t)]:void 0!==t.fieldFilter?[Uf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Nf(t)}).reduce(function(t,e){return t.concat(e)}):kl():[]}function Df(t){return{before:t.before,values:t.position}}function Rf(t){return new Dh(t.values||[],!!t.before)}function Mf(t){return hf[t]}function Lf(t){return df[t]}function Ff(t){return{fieldPath:t.canonicalString()}}function Vf(t){return zl.fromServerFormat(t.fieldPath)}function Uf(t){return Th.create(Vf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return kl()}}(t.fieldFilter.op),t.fieldFilter.value)}function qf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vf(t.unaryFilter.field);return Th.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vf(t.unaryFilter.field);return Th.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vf(t.unaryFilter.field);return Th.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vf(t.unaryFilter.field);return Th.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return kl()}}function Bf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Hf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function zf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kf(e)),e=$f(t.get(n),e);return Kf(e)}function $f(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Kf(t){return t+"\x01\x01"}function Gf(t){var e=t.length;if(xl(e>=2),2===e)return xl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Bl.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&kl(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:kl()}s=o+2}return new Bl(r)}var Wf=function(t,e){this.seconds=t,this.nanoseconds=e},Qf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qf.store="owner",Qf.key="owner";var Zf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zf.store="mutationQueues",Zf.keyPath="userId";var Xf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xf.store="mutations",Xf.keyPath="batchId",Xf.userMutationsIndex="userMutationsIndex",Xf.userMutationsKeyPath=["userId","batchId"];var Yf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,zf(e)]},t.key=function(t,e,n){return[t,zf(e),n]},t}();Yf.store="documentMutations",Yf.PLACEHOLDER=new Yf;var Jf=function(t,e){this.path=t,this.readTime=e},tp=function(t,e){this.path=t,this.version=e},ep=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ep.store="remoteDocuments",ep.readTimeIndex="readTimeIndex",ep.readTimeIndexPath="readTime",ep.collectionReadTimeIndex="collectionReadTimeIndex",ep.collectionReadTimeIndexPath=["parentPath","readTime"];var np=function(t){this.byteSize=t};np.store="remoteDocumentGlobal",np.key="remoteDocumentGlobalKey";var rp=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};rp.store="targets",rp.keyPath="targetId",rp.queryTargetsIndexName="queryTargetsIndex",rp.queryTargetsKeyPath=["canonicalId","targetId"];var ip=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ip.store="targetDocuments",ip.keyPath=["targetId","path"],ip.documentTargetsIndex="documentTargetsIndex",ip.documentTargetsKeyPath=["path","targetId"];var sp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sp.key="targetGlobalKey",sp.store="targetGlobal";var op=function(t,e){this.collectionId=t,this.parent=e};op.store="collectionParents",op.keyPath=["collectionId","parent"];var ap=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ap.store="clientMetadata",ap.keyPath="clientId";var up=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};up.store="bundles",up.keyPath="bundleId";var cp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cp.store="namedQueries",cp.keyPath="name";var lp=Object(bl.f)(Object(bl.f)([],Object(bl.f)(Object(bl.f)([],Object(bl.f)(Object(bl.f)([],Object(bl.f)(Object(bl.f)([],[Zf.store,Xf.store,Yf.store,ep.store,rp.store,Qf.store,sp.store,ip.store]),[ap.store])),[np.store])),[op.store])),[up.store,cp.store]),hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),fp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},pp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&kl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),mp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new fp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new bp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Op(e.target.error);n.ft.reject(new bp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new bp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(El("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _p(e)},t}(),gp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(mo.i)())&&Tl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return El("SimpleDb","Removing database:",t),wp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(mo.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(El("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new bp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new wl(_l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new bp(t,n))},i.onupgradeneeded=function(t){El("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){El("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(bl.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=mp.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),pp.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return El("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return wp(this.Pt.delete())},t}(),bp=function(t){function e(e,n){var r=this;return(r=t.call(this,_l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(bl.c)(e,t),e}(wl);function vp(t){return"IndexedDbTransactionError"===t.name}var _p=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(El("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(El("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wp(n)},t.prototype.add=function(t){return El("SimpleDb","ADD",this.store.name,t,t),wp(this.store.add(t))},t.prototype.get=function(t){var e=this;return wp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),El("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return El("SimpleDb","DELETE",this.store.name,t),wp(this.store.delete(t))},t.prototype.count=function(){return El("SimpleDb","COUNT",this.store.name),wp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){El("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new pp(function(n,r){e.onerror=function(t){var e=Op(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new pp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new yp(i),o=e(i.primaryKey,i.value,s);if(o instanceof pp){var a=o.catch(function(t){return s.done(),pp.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return pp.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wp(t){return new pp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Op(t.target.error);n(e)}})}var Sp=!1;function Op(t){var e=gp._t(Object(mo.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new wl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sp||(Sp=!0,setTimeout(function(){throw r},0)),r}}return t}var Ep=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(bl.c)(e,t),e}(dp);function Tp(t,e){var n=Al(t);return gp.It(n.Mt,e)}var Cp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Od(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Ed(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Ed(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ll.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Yd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dl(this.mutations,t.mutations,function(t,e){return Cd(t,e)})&&Dl(this.baseMutations,t.baseMutations,function(t,e){return Cd(t,e)})},t}(),Ip=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xl(e.mutations.length===r.length);for(var i=Zd(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),kp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ll.min()),void 0===s&&(s=Ll.min()),void 0===o&&(o=Kl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),xp=function(t){this.Lt=t};function Ap(t,e){if(e.document)return If(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rh.fromSegments(e.noDocument.path),r=Rp(e.noDocument.readTime),i=vh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=rh.fromSegments(e.unknownDocument.path);return r=Rp(e.unknownDocument.version),vh.newUnknownDocument(s,r)}return kl()}function Pp(t,e,n){var r=jp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:_f(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:pf(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new ep(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Dp(e.version);return o=e.hasCommittedMutations,new ep(null,new Jf(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Dp(e.version);return new ep(new tp(c,l),null,null,!0,r,i)}return kl()}function jp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Np(t){var e=new Ml(t[0],t[1]);return Ll.fromTimestamp(e)}function Dp(t){var e=t.toTimestamp();return new Wf(e.seconds,e.nanoseconds)}function Rp(t){var e=new Ml(t.seconds,t.nanoseconds);return Ll.fromTimestamp(e)}function Mp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return xf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return xf(t.Lt,e)}),s=Ml.fromMillis(e.localWriteTimeMs);return new Cp(e.batchId,s,n,i)}function Lp(t){var e,n,r=Rp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Rp(t.lastLimboFreeSnapshotVersion):Ll.min();return void 0!==t.query.documents?(xl(1===(n=t.query).documents.length),e=Qh(Bh(Of(n.documents[0])))):e=function(t){return Qh(jf(t))}(t.query),new kp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Kl.fromBase64String(t.resumeToken))}function Fp(t,e){var n,r=Dp(e.snapshotVersion),i=Dp(e.lastLimboFreeSnapshotVersion);n=Eh(e.target)?Af(t.Lt,e.target):Pf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new rp(e.targetId,Sh(e.target),r,s,e.sequenceNumber,i,n)}function Vp(t){var e=jf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zh(e,e.limit,"L"):e}var Up=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return qp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Rp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return qp(t).put({bundleId:(n=e).id,createTime:Dp(yf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Bp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Vp(e.bundledQuery),readTime:Rp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Bp(t).put(function(t){return{name:t.name,readTime:Dp(yf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function qp(t){return Tp(t,up.store)}function Bp(t){return Tp(t,cp.store)}var Hp=function(){function t(){this.Bt=new zp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),pp.resolve()},t.prototype.getCollectionParents=function(t,e){return pp.resolve(this.Bt.getEntries(e))},t}(),zp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Hd(Bl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Hd(Bl.comparator)).toArray()},t}(),$p=function(){function t(){this.qt=new zp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:zf(i)};return Kp(t).put(s)}return pp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Rl(e),""],!1,!0);return Kp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Gf(s.parent))}return n})},t}();function Kp(t){return Tp(t,op.store)}var Gp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Qp(t,e,n){var r=t.store(Xf.store),i=t.store(Yf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){xl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Yf.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return pp.waitFor(s).next(function(){return c})}function Zp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw kl();e=t.noDocument}return JSON.stringify(e).length}Wp.DEFAULT_COLLECTION_PERCENTILE=10,Wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wp.DEFAULT=new Wp(41943040,Wp.DEFAULT_COLLECTION_PERCENTILE,Wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wp.DISABLED=new Wp(-1,0,0);var Xp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return xl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).Ot({index:Xf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=tm(t),o=Jp(t);return o.add({}).next(function(a){xl("number"==typeof a);for(var u=new Cp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return kf(t.Lt,e)}),i=n.mutations.map(function(e){return kf(t.Lt,e)});return new Xf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Hd(function(t,e){return Nl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Yf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,Yf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),pp.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Jp(t).get(e).next(function(t){return t?(xl(t.userId===n.userId),Mp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?pp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Jp(t).Ot({index:Xf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xl(e.batchId>=r),s=Mp(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jp(t).Ot({index:Xf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).Nt(Xf.userMutationsIndex,n).next(function(t){return t.map(function(t){return Mp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Yf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return tm(t).Ot({range:i},function(r,i,o){var a=r[0],u=r[2],c=Gf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Jp(t).get(u).next(function(t){if(!t)throw kl();xl(t.userId===n.userId),s.push(Mp(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hd(Nl),i=[];return e.forEach(function(e){var s=Yf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=tm(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],u=Gf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),pp.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Yf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Hd(Nl);return tm(t).Ot({range:o},function(t,e,s){var o=t[0],u=t[2],c=Gf(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Jp(t).get(e).next(function(t){if(null===t)throw kl();xl(t.userId===n.userId),r.push(Mp(n.R,t))}))}),pp.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),pp.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return pp.resolve();var r=IDBKeyRange.lowerBound(Yf.prefixForUser(e.userId)),i=[];return tm(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Gf(t[1]);i.push(s)}else r.done()}).next(function(){xl(0===i.length)})})},t.prototype.containsKey=function(t,e){return Yp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return em(t).get(this.userId).next(function(t){return t||new Zf(e.userId,-1,"")})},t}();function Yp(t,e,n){var r=Yf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return tm(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Jp(t){return Tp(t,Xf.store)}function tm(t){return Tp(t,Yf.store)}function em(t){return Tp(t,Zf.store)}var nm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),rm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new nm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Ll.fromTimestamp(new Ml(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return im(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return xl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return im(t).Ot(function(o,a){var u=Lp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return pp.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return im(t).Ot(function(t,n){var r=Lp(n);e(r)})},t.prototype.Xt=function(t){return sm(t).get(sp.key).next(function(t){return xl(null!==t),t})},t.prototype.Zt=function(t,e){return sm(t).put(sp.key,e)},t.prototype.te=function(t,e){return im(t).put(Fp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Sh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return im(t).Ot({range:r,index:rp.queryTargetsIndexName},function(t,n,r){var s=Lp(n);Oh(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=om(t);return e.forEach(function(e){var o=zf(e.path);i.push(s.put(new ip(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),pp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=om(t);return pp.forEach(e,function(e){var s=zf(e.path);return pp.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=om(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=om(t),i=Yd();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Gf(t[1]),s=new rh(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=zf(e.path),r=IDBKeyRange.bound([n],[Rl(n)],!1,!0),i=0;return om(t).Ot({index:ip.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return im(t).get(e).next(function(t){return t?Lp(t):null})},t}();function im(t){return Tp(t,rp.store)}function sm(t){return Tp(t,sp.store)}function om(t){return Tp(t,ip.store)}function am(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){if(t.code!==_l.FAILED_PRECONDITION||t.message!==hp)throw t;return El("LocalStore","Unexpectedly lost primary lease"),[2]})})}function um(t,e){var n=t[1],r=e[1],i=Nl(t[0],e[0]);return 0===i?Nl(n,r):i}var cm=function(){function t(t){this.ne=t,this.buffer=new Hd(um),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();um(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;El("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return vp(e=n.sent())?(El("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,am(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),hm=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return pp.resolve(vl.o);var r=new cm(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(El("LruGarbageCollector","Garbage collection skipped; disabled"),pp.resolve(Gp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(El("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Gp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(El("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Ol()<=go.a.DEBUG&&El("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),dm=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new hm(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return fm(t,n)},t.prototype.removeReference=function(t,e,n){return fm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return fm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return em(t).$t(function(r){return Yp(t,r,e).next(function(t){return t&&(n=!0),pp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),om(t).delete([0,zf(o.path)])})});i.push(u)}}).next(function(){return pp.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return fm(t,e)},t.prototype.we=function(t,e){var n,r=om(t),i=vl.o;return r.Ot({index:ip.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==vl.o&&e(new rh(Gf(n)),i),i=o,n=s):i=vl.o}).next(function(){i!==vl.o&&e(new rh(Gf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function fm(t,e){return om(t).put(function(t,e){return new ip(0,zf(t.path),e)}(e,t.currentSequenceNumber))}var pm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Vl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Ul(this.inner)},t}(),mm=function(){function t(){this.changes=new pm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ll.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:vh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?pp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),gm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return vm(t).put(_m(e),n)},t.prototype.removeEntry=function(t,e){var n=vm(t),r=_m(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return vm(t).get(_m(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return vm(t).get(_m(e)).next(function(t){return{document:n.ye(e,t),size:Zp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Kd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Kd(),i=new Ud(rh.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Zp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return pp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return vm(t).Ot({range:r},function(t,e,r){for(var o=rh.fromSegments(t);s&&rh.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Kd(),s=e.path.length+1,o={};if(n.isEqual(Ll.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=jp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ep.collectionReadTimeIndex}return vm(t).Ot(o,function(t,n,o){if(t.length===s){var a=Ap(r.R,n);e.path.isPrefixOf(a.key.path)?td(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ym(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return bm(t).get(np.key).next(function(t){return xl(!!t),t})},t.prototype.me=function(t,e){return bm(t).put(np.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ap(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ll.min()))return n}return vh.newInvalidDocument(t)},t}(),ym=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new pm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(bl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Hd(function(t,e){return Nl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Pp(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Zp(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Pp(e.Ie.R,vh.newNoDocument(s,Ll.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(mm);function bm(t){return Tp(t,np.store)}function vm(t){return Tp(t,ep.store)}function _m(t){return t.path.toArray()}var wm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xl(n<r&&n>=0&&r<=11);var s=new mp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qf.store)}(t),function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath}),t.createObjectStore(Xf.store,{keyPath:Xf.keyPath,autoIncrement:!0}).createIndex(Xf.userMutationsIndex,Xf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yf.store)}(t),Sm(t),function(t){t.createObjectStore(ep.store)}(t));var o=pp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ip.store),t.deleteObjectStore(rp.store),t.deleteObjectStore(sp.store)}(t),Sm(t)),o=o.next(function(){return function(t){var e=t.store(sp.store),n=new sp(0,0,Ll.min().toTimestamp(),0);return e.put(sp.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Xf.store).Nt().next(function(n){t.deleteObjectStore(Xf.store),t.createObjectStore(Xf.store,{keyPath:Xf.keyPath,autoIncrement:!0}).createIndex(Xf.userMutationsIndex,Xf.userMutationsKeyPath,{unique:!0});var r=e.store(Xf.store),i=n.map(function(t){return r.put(t)});return pp.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(ap.store,{keyPath:ap.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(np.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ep.store);e.createIndex(ep.readTimeIndex,ep.readTimeIndexPath,{unique:!1}),e.createIndex(ep.collectionReadTimeIndex,ep.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(up.store,{keyPath:up.keyPath})}(t),function(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(ep.store).Ot(function(t,n){e+=Zp(n)}).next(function(){var n=new np(e);return t.store(np.store).put(np.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Zf.store),r=t.store(Xf.store);return n.Nt().next(function(n){return pp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Xf.userMutationsIndex,i).next(function(r){return pp.forEach(r,function(r){xl(r.userId===n.userId);var i=Mp(e.R,r);return Qp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ip.store),n=t.store(ep.store);return t.store(sp.store).get(sp.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new Bl(n),o=function(t){return[0,zf(t)]}(s);r.push(e.get(o).next(function(n){return n?pp.resolve():function(n){return e.put(new ip(0,zf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return pp.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(op.store,{keyPath:op.keyPath});var n=e.store(op.store),r=new zp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:zf(i)})}};return e.store(ep.store).Ot({kt:!0},function(t,e){var n=new Bl(t);return i(n.popLast())}).next(function(){return e.store(Yf.store).Ot({kt:!0},function(t,e){var n=Gf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(rp.store);return n.Ot(function(t,r){var i=Lp(r),s=Fp(e.R,i);return n.put(s)})},t}();function Sm(t){t.createObjectStore(ip.store,{keyPath:ip.keyPath}).createIndex(ip.documentTargetsIndex,ip.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rp.store,{keyPath:rp.keyPath}).createIndex(rp.queryTargetsIndexName,rp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sp.store)}var Om="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Em=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new wl(_l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dm(this,i),this.Le=n+"main",this.R=new xp(u),this.Be=new gp(this.Le,11,new wm(this.R)),this.qe=new rm(this.referenceDelegate,this.R),this.Ut=new $p,this.Ue=function(t,e){return new gm(t,e)}(this.R,this.Ut),this.Qe=new Up,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Tl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new wl(_l.FAILED_PRECONDITION,Om);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new vl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cm(e).put(new ap(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(vp(e))return El("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return El("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Tm(t).get(Qf.key).next(function(t){return pp.resolve(e.tn(t))})},t.prototype.en=function(t){return Cm(t).delete(this.clientId)},t.prototype.nn=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Tp(t,ap.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return pp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?pp.resolve(!0):Tm(t).get(Qf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new wl(_l.FAILED_PRECONDITION,Om);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cm(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&El("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(bl.b)(this,void 0,void 0,function(){var t=this;return Object(bl.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qf.store,ap.store],function(e){var n=new Ep(e,vl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cm(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Xp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return El("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",lp,function(s){return r=new Ep(s,i.Ne?i.Ne.next():vl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Tl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new wl(_l.FAILED_PRECONDITION,hp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Tm(t).get(Qf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new wl(_l.FAILED_PRECONDITION,Om)})},t.prototype.Ze=function(t){var e=new Qf(this.clientId,this.allowTabSynchronization,Date.now());return Tm(t).put(Qf.key,e)},t.yt=function(){return gp.yt()},t.prototype.Xe=function(t){var e=this,n=Tm(t);return n.get(Qf.key).next(function(t){return e.tn(t)?(El("IndexedDbPersistence","Releasing primary lease."),n.delete(Qf.key)):pp.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Tl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return El("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Tl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Tl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tm(t){return Tp(t,Qf.store)}function Cm(t){return Tp(t,ap.store)}function Im(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var km=function(t,e){this.progress=t,this.wn=e},xm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return rh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Gh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new rh(e)).next(function(t){var e=Wd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Wd();return this.Ut.getCollectionParents(t,i).next(function(o){return pp.forEach(o,function(o){var a=function(t,e){return new Uh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=vh.newInvalidDocument(c),r=r.insert(c,l)),Ed(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){td(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Yd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof xd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Am=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Yd(),i=Yd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Pm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ll.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Hh(e)||zh(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Ol()<=go.a.DEBUG&&El("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Hd(ed(t));return e.forEach(function(e,r){td(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ol()<=go.a.DEBUG&&El("QueryEngine","Using full collection scan to execute query:",Jh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ll.min())},t}(),jm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ud(Nl),this.kn=new pm(function(t){return Sh(t)},Oh),this.On=Ll.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new xm(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Nm(t,e,n,r){return new jm(t,e,n,r)}function Dm(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:return n=Al(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new xm(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Yd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Rm(t,e){var n=Al(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=pp.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);xl(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Mm(t){var e=Al(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Lm(t,e){var n=Al(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return xl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Kd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Fm(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Ll.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return pp.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Fm(t,e,n,r,i){var s=Yd();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Kd();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Ll.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):El("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Vm(t,e){var n=Al(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Um(t,e){var n=Al(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?pp.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new kp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function qm(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:r=Al(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!vp(o=a.sent()))throw o;return El("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Bm(t,e,n){var r=Al(t),i=Ll.min(),s=Yd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Al(t),i=r.kn.get(n);return void 0!==i?pp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Qh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ll.min(),n?s:Yd())}).next(function(t){return{documents:t,Bn:s}})})}function Hm(t,e){var n=Al(t),r=Al(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function zm(t){var e=Al(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Al(t),i=Kd(),s=jp(n),o=vm(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:ep.readTimeIndex,range:a},function(t,e){var n=Ap(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Np(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function $m(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){return[2,(e=Al(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=vm(t),n=Ll.min();return e.Ot({index:ep.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Np(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Km(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(bl.d)(this,function(p){switch(p.label){case 0:for(i=Al(t),s=Yd(),o=Kd(),a=Zd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Um(i,function(t){return Qh(Bh(Bl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Fm(t,d,o,Ll.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Gm(t,e,n){return void 0===n&&(n=Yd()),Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return[4,Um(t,Qh(Vp(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Al(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=yf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Kl.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Wm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return pp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:yf(n.createTime)}),pp.resolve()},t.prototype.getNamedQuery=function(t,e){return pp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Vp(t.bundledQuery),readTime:yf(t.readTime)}}(e)),pp.resolve()},t}(),Qm=function(){function t(){this.Wn=new Hd(Zm.Gn),this.zn=new Hd(Zm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Zm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Zm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new rh(new Bl([])),r=new Zm(n,t),i=new Zm(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new rh(new Bl([])),n=new Zm(e,t),r=new Zm(e,t+1),i=Yd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Zm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Zm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return rh.comparator(t.key,e.key)||Nl(t.ns,e.ns)},t.Hn=function(t,e){return Nl(t.ns,e.ns)||rh.comparator(t.key,e.key)},t}(),Xm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Hd(Zm.Gn)}return t.prototype.checkEmpty=function(t){return pp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Cp(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Zm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return pp.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return pp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return pp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return pp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return pp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Zm(e,0),i=new Zm(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),pp.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hd(Nl);return e.forEach(function(t){var e=new Zm(t,0),i=new Zm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),pp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;rh.isDocumentKey(i)||(i=i.child(""));var s=new Zm(new rh(i),0),o=new Hd(Nl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),pp.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return pp.forEach(e.mutations,function(i){var s=new Zm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Zm(e,0),r=this.rs.firstAfterOrEqual(n);return pp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return pp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Ym=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ud(rh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return pp.resolve(n?n.document.clone():vh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Kd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():vh.newInvalidDocument(t))}),pp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Kd(),i=new rh(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||td(e,u)&&(r=r.insert(u.key,u.clone()))}return pp.resolve(r)},t.prototype.fs=function(t,e){return pp.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Jm(this)},t.prototype.getSize=function(t){return pp.resolve(this.size)},t}(),Jm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(bl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(mm),tg=function(){function t(t){this.persistence=t,this.ds=new pm(function(t){return Sh(t)},Oh),this.lastRemoteSnapshotVersion=Ll.min(),this.highestTargetId=0,this.ws=0,this._s=new Qm,this.targetCount=0,this.ys=nm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),pp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return pp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return pp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),pp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),pp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new nm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,pp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),pp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,pp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),pp.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return pp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return pp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),pp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),pp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),pp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return pp.resolve(n)},t.prototype.containsKey=function(t,e){return pp.resolve(this._s.containsKey(e))},t}(),eg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new vl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new tg(this),this.Ut=new Hp,this.Ue=function(t,e){return new Ym(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new xp(e),this.Qe=new Wm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Xm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;El("MemoryPersistence","Starting transaction:",t);var i=new ng(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return pp.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(bl.c)(e,t),e}(dp),rg=function(){function t(t){this.persistence=t,this.As=new Qm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw kl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),pp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),pp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),pp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pp.forEach(this.vs,function(r){var i=rh.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return pp.or([function(){return pp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ig=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function sg(t,e){return"firestore_clients_"+t+"_"+e}function og(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ag(t,e){return"firestore_targets_"+t+"_"+e}ig.UNAUTHENTICATED=new ig(null),ig.GOOGLE_CREDENTIALS=new ig("google-credentials-uid"),ig.FIRST_PARTY=new ig("first-party-uid");var ug=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new wl(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Tl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new wl(i.error.code,i.error.message)),s?new t(e,i.state,r):(Tl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=tf(),o=0;i&&o<r.activeTargetIds.length;++o)i=nh(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Tl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Tl("SharedClientState","Failed to parse online state: "+e),null)},t}(),dg=function(){function t(){this.activeTargetIds=tf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),fg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ud(Nl),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=sg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new dg),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(bl.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(sg(this.persistenceKey,r)))&&(s=lg.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ag(this.persistenceKey,t));if(n){var r=cg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ag(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return El("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){El("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){El("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(El("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Tl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(bl.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(bl.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=vl.o;if(null!=t)try{var n=JSON.parse(t);xl("number"==typeof n),e=n}catch(t){Tl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vl.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ug(this.currentUser,t,e,n),i=og(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=og(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=ag(this.persistenceKey,t),i=new cg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return lg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ug.Vs(new ig(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return cg.Vs(r,e)},t.prototype.js=function(t){return hg.Vs(t)},t.prototype.ii=function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(El("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=tf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),pg=function(){function t(){this.li=new dg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new dg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),mg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),gg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){El("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){El("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),yg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),vg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(bl.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new yl;o.listenOnce(pl.COMPLETE,function(){try{switch(o.getLastErrorCode()){case fl.NO_ERROR:var e=o.getResponseJson();El("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fl.TIMEOUT:El("Connection",'RPC "'+t+'" timed out'),s(new wl(_l.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:var n=o.getStatus();if(El("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(_l).indexOf(e)>=0?e:_l.UNKNOWN}(r.status);s(new wl(a,r.message))}else s(new wl(_l.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new wl(_l.UNAVAILABLE,"Connection failed."));break;default:kl()}}finally{El("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ul,i=hu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(mo.n)()||Object(mo.p)()||Object(mo.l)()||Object(mo.m)()||Object(mo.q)()||Object(mo.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");El("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new bg({Ei:function(t){c?El("Connection","Not sending because WebChannel is closed:",t):(u||(El("Connection","Opening WebChannel transport."),a.open(),u=!0),El("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,gl.EventType.OPEN,function(){c||El("Connection","WebChannel transport opened.")}),h(a,gl.EventType.CLOSE,function(){c||(c=!0,El("Connection","WebChannel transport closed"),l.Vi())}),h(a,gl.EventType.ERROR,function(t){c||(c=!0,Cl("Connection","WebChannel transport errored:",t),l.Vi(new wl(_l.UNAVAILABLE,"The operation could not be completed")))}),h(a,gl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){El("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Nd[t];if(void 0!==e)return Vd(e)}(i),o=r.message;void 0===s&&(s=_l.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new wl(s,o)),a.close()}else El("Connection","WebChannel received:",n),l.Si(n)}}),h(i,ml.STAT_EVENT,function(t){10===t.stat?El("Connection","Detected buffering proxy"):11===t.stat&&El("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);El("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return El("RestConnection","Received: ",t),t},function(e){throw Cl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+yg[t]},t}());function _g(){return"undefined"!=typeof window?window:null}function wg(){return"undefined"!=typeof document?document:null}function Sg(t){return new ff(t,!0)}var Og=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&El("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Eg=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Og(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===_l.RESOURCE_EXHAUSTED?(Tl(e.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===_l.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new wl(_l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(bl.b)(t,void 0,void 0,function(){return Object(bl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return El("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(El("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Tg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(bl.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:kl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(xl(void 0===e||"string"==typeof e),Kl.fromBase64String(e||"")):(xl(void 0===e||e instanceof Uint8Array),Kl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?_l.UNKNOWN:Vd(t.code);return new wl(e,t.message||"")}(a);n=new of(r,i,s,o||null)}else if("documentChange"in e){i=wf(t,(r=e.documentChange).document.name),s=yf(r.document.updateTime);var a=new yh({mapValue:{fields:r.document.fields}}),u=(o=vh.newFoundDocument(i,s,a),r.targetIds||[]);n=new rf(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=wf(t,(r=e.documentDelete).document),s=r.readTime?yf(r.readTime):Ll.min(),a=vh.newNoDocument(i,s),n=new rf([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=wf(t,(r=e.documentRemove).document),n=new rf([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return kl();var c=e.filter;i=new Ld(r=c.count||0),n=new sf(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ll.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ll.min():e.readTime?yf(e.readTime):Ll.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ef(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Eh(r)?{documents:Af(t,r)}:{query:Pf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=mf(t,e.resumeToken):e.snapshotVersion.compareTo(Ll.min())>0&&(n.readTime=pf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ef(this.R),e.removeTarget=t,this.cr(e)},e}(Eg),Cg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(xl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xl(void 0!==e),t.map(function(t){return function(t,e){var n=yf(t.updateTime?t.updateTime:e);return n.isEqual(Ll.min())&&(n=yf(e)),new vd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=yf(t.commitTime);return this.listener.Tr(n,e)}return xl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ef(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return kf(e.R,t)})};this.cr(n)},e}(Eg),Ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(bl.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new wl(_l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===_l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===_l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),kg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Tl(e),this.Vr=!1):El("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),xg=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(bl.b)(s,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return Fg(this)?(El("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(e=Al(t)).$r.add(4),[4,Pg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Ag(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new kg(n,r)};function Ag(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:if(!Fg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pg(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jg(t,e){var n=Al(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Lg(n)?Mg(n):Jg(n).er()&&Dg(n,e))}function Ng(t,e){var n=Al(t),r=Jg(n);n.Or.delete(e),r.er()&&Rg(n,e),0===n.Or.size&&(r.er()?r.ir():Fg(n)&&n.Br.set("Unknown"))}function Dg(t,e){t.qr.U(e.targetId),Jg(t).mr(e)}function Rg(t,e){t.qr.U(e),Jg(t).yr(e)}function Mg(t){t.qr=new uf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Jg(t).start(),t.Br.Sr()}function Lg(t){return Fg(t)&&!Jg(t).tr()&&t.Or.size>0}function Fg(t){return 0===Al(t).$r.size}function Vg(t){t.qr=void 0}function Ug(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return t.Or.forEach(function(e,n){Dg(t,e)}),[2]})})}function qg(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){return Vg(t),Lg(t)?(t.Br.Nr(e),Mg(t)):t.Br.set("Unknown"),[2]})})}function Bg(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof of&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),El("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Hg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof rf?t.qr.X(e):e instanceof sf?t.qr.rt(e):t.qr.et(e),n.isEqual(Ll.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Mm(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Kl.EMPTY_BYTE_STRING,n.snapshotVersion)),Rg(t,e);var r=new kp(n.target,e,1,n.sequenceNumber);Dg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return El("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Hg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Hg(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:if(!vp(e))throw e;return t.$r.add(1),[4,Pg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Mm(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(bl.b)(r,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return El("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Ag(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function zg(t,e){return e().catch(function(n){return Hg(t,n,e)})}function $g(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:e=Al(t),n=ty(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Fg(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Vm(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ty(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Hg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Kg(e)&&Gg(e),[2]}})})}function Kg(t){return Fg(t)&&!ty(t).tr()&&t.kr.length>0}function Gg(t){ty(t).start()}function Wg(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return ty(t).Ar(),[2]})})}function Qg(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n,r;return Object(bl.d)(this,function(i){for(e=ty(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Zg(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Ip.from(r,e,n),[4,zg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,$g(t)];case 2:return s.sent(),[2]}})})}function Xg(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return e&&ty(t).pr?[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return Fd(r=e.code)&&r!==_l.ABORTED?(n=t.kr.shift(),ty(t).sr(),[4,zg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,$g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kg(t)&&Gg(t),[2]}})})}function Yg(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return n=Al(t),e?(n.$r.delete(2),[4,Ag(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Pg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Jg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Al(t);return r.br(),new Tg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ug.bind(null,t),Ri:qg.bind(null,t),_r:Bg.bind(null,t)}),t.Mr.push(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Lg(t)?Mg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Vg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function ty(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Al(t);return r.br(),new Cg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Wg.bind(null,t),Ri:Xg.bind(null,t),Ir:Qg.bind(null,t),Tr:Zg.bind(null,t)}),t.Mr.push(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,$g(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(El("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var ey=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wl(_l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ny(t,e){if(Tl("AsyncQueue",e+": "+t),vp(t))return new wl(_l.UNAVAILABLE,e+": "+t);throw t}var ry=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||rh.comparator(e.key,n.key)}:function(t,e){return rh.comparator(t.key,e.key)},this.keyedMap=Wd(),this.sortedSet=new Ud(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),iy=function(){function t(){this.Kr=new Ud(rh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):kl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),sy=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ry.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),oy=function(){this.Wr=void 0,this.listeners=[]},ay=function(){this.queries=new pm(function(t){return Yh(t)},Xh),this.onlineState="Unknown",this.Gr=new Set};function uy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:if(n=Al(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new oy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=ny(a,"Initialization of query '"+Jh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&dy(n),[2]}})})}function cy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(bl.d)(this,function(a){return n=Al(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ly(t,e){for(var n=Al(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&dy(n)}function hy(t,e,n){var r=Al(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function dy(t){t.Gr.forEach(function(t){t.next()})}var fy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=sy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),py=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),my=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return wf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?If(this.R,t.document,!1):vh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return yf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new my(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Yd()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return[4,Km(this.localStore,new my(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Gm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new km(Object.assign({},this.progress),t))]}})})}}();var gy=function(t){this.key=t},yy=function(t){this.key=t},by=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Yd(),this.mutatedKeys=Yd(),this.lo=ed(t),this.fo=new ry(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new iy,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Hh(this.query)&&i.size===this.query.limit?i.last():null,c=zh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=td(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Hh(this.query)||zh(this.query))for(;o.size>this.query.limit;){var l=Hh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new sy(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new iy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Yd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new yy(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new gy(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Yd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return sy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),vy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_y=function(t){this.key=t,this.bo=!1},wy=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new pm(function(t){return Yh(t)},Xh),this.Vo=new Map,this.So=new Set,this.Do=new Ud(rh.comparator),this.Co=new Map,this.No=new Qm,this.xo={},this.Fo=new Map,this.ko=nm.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Sy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:return n=Xy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Um(n.localStore,Qh(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Oy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&jg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Oy(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(bl.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Bm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(My(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Bm(t.localStore,e,!0)];case 1:return i=l.sent(),s=new by(e,i.Bn),o=s._o(i.documents),a=nf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),My(t,n,u.To),c=new vy(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ey(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return n=Al(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Xh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,qm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ng(n.remoteStore,r.targetId),Dy(n,r.targetId)}).catch(am)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Dy(n,r.targetId),[4,qm(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Ty(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:r=Yy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Al(t),i=Ml.now(),s=e.reduce(function(t,e){return t.add(e.key)},Yd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Td(c,n.get(c.key));null!=l&&o.push(new xd(c.key,l,bh(l.toProto().mapValue),_d.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ud(Nl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Vy(r,i.changes)];case 3:return a.sent(),[4,$g(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=ny(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Cy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:n=Al(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(xl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xl(r.bo):t.removedDocuments.size>0&&(xl(r.bo),r.bo=!1))}),[4,Vy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,am(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Iy(t,e,n){var r=Al(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Al(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&dy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ky(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:return(r=Al(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Ud(rh.comparator)).insert(s,vh.newNoDocument(s,Ll.min())),a=Yd().add(s),u=new ef(Ll.min(),new Map,new Hd(Nl),o,a),[4,Cy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Fy(r),[3,4];case 2:return[4,qm(r.localStore,e,!1).then(function(){return Dy(r,e,n)}).catch(am)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function xy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:n=Al(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Rm(n.localStore,e)];case 2:return i=s.sent(),Ny(n,r,null),jy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Vy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,am(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ay(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:r=Al(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Al(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return xl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Ny(r,e,n),jy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Vy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,am(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Py(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:Fg((n=Al(t)).remoteStore)||El("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Al(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=ny(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function jy(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ny(t,e,n){var r=Al(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Dy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ry(t,e)})}function Ry(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ng(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Fy(t))}function My(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof gy?(t.No.addReference(s.key,e),Ly(t,s)):s instanceof yy?(El("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Ry(t,s.key)):kl()}}function Ly(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(El("SyncEngine","New document in limbo: "+n),t.So.add(r),Fy(t))}function Fy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new rh(Bl.fromString(e)),r=t.ko.next();t.Co.set(r,new _y(n)),t.Do=t.Do.insert(n,r),jg(t.remoteStore,new kp(Qh(Bh(n.path)),r,2,vl.o))}}function Vy(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:return r=Al(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Am.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(bl.d)(this,function(l){switch(l.label){case 0:n=Al(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return pp.forEach(e,function(e){return pp.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return pp.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!vp(r=l.sent()))throw r;return El("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Uy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return(n=Al(t)).currentUser.isEqual(e)?[3,3]:(El("SyncEngine","User change. New user:",e.toKey()),[4,Dm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new wl(_l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Vy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function qy(t,e){var n=Al(t),r=n.Co.get(e);if(r&&r.bo)return Yd().add(r.key);var i=Yd(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function By(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return[4,Bm((n=Al(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&My(n,e.targetId,i.To),i)]}})})}function Hy(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){return[2,zm((e=Al(t)).localStore).then(function(t){return Vy(e,t)})]})})}function zy(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Al(t),r=Al(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):pp.resolve(null)})})}((i=Al(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,$g(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ny(i,e,r||null),jy(i,e),function(t,e){Al(Al(t)._n).Gt(e)}(i.localStore,e)):kl(),o.label=4;case 4:return[4,Vy(i,s)];case 5:return o.sent(),[3,7];case 6:El("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function $y(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:return Xy(n=Al(t)),Yy(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ky(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Yg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)jg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Dy(n,e),qm(n.localStore,e,!0)}),Ng(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Ky(n,a)];case 5:return c.sent(),function(t){var e=Al(t);e.Co.forEach(function(t,n){Ng(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ud(rh.comparator)}(n),n.Oo=!1,[4,Yg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ky(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(bl.d)(this,function(m){switch(m.label){case 0:n=Al(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,Um(n.localStore,Qh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,By(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Hm(n.localStore,a)];case 8:return p=m.sent(),[4,Um(n.localStore,p)];case 9:return u=m.sent(),[4,Oy(n,Gy(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Gy(t){return qh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Wy(t){var e=Al(t);return Al(Al(e.localStore).persistence).fn()}function Qy(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,s,o;return Object(bl.d)(this,function(a){switch(a.label){case 0:return(i=Al(t)).Oo?(El("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zm(i.localStore)];case 3:return s=a.sent(),o=ef.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Vy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,qm(i.localStore,e,!0)];case 6:return a.sent(),Dy(i,e,r),[3,8];case 7:kl(),a.label=8;case 8:return[2]}})})}function Zy(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(bl.d)(this,function(d){switch(d.label){case 0:if(!(r=Xy(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(El("SyncEngine","Adding an already active target "+o),[3,5]):[4,Hm(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Um(r.localStore,a)];case 3:return u=d.sent(),[4,Oy(r,Gy(a),u.targetId,!1)];case 4:d.sent(),jg(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(bl.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,qm(r.localStore,t,!1).then(function(){Ng(r.remoteStore,t),Dy(r,t)}).catch(am)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Xy(t){var e=Al(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ky.bind(null,e),e.vo._r=ly.bind(null,e.eventManager),e.vo.Mo=hy.bind(null,e.eventManager),e}function Yy(t){var e=Al(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ay.bind(null,e),e}var Jy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return this.R=Sg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Nm(this.persistence,new Pm,t.initialUser,this.R)},t.prototype.qo=function(t){return new eg(rg.bs,this.R)},t.prototype.Bo=function(t){return new pg},t.prototype.terminate=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(bl.c)(e,t),e.prototype.initialize=function(e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$m(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Yy(this.Ko.syncEngine)];case 4:return n.sent(),[4,$g(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Nm(this.persistence,new Pm,t.initialUser,this.R)},e.prototype.Uo=function(t){return new lm(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Im(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wp.withCacheSize(this.cacheSizeBytes):Wp.DEFAULT;return new Em(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,_g(),wg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new pg},e}(Jy),eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(bl.c)(e,t),e.prototype.initialize=function(e){return Object(bl.b)(this,void 0,void 0,function(){var n,r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof fg?(this.sharedClientState.syncEngine={ui:zy.bind(null,n),ai:Qy.bind(null,n),hi:Zy.bind(null,n),fn:Wy.bind(null,n),ci:Hy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(bl.b)(r,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return[4,$y(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=_g();if(!fg.yt(e))throw new wl(_l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Im(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new fg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(tb),nb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Iy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Uy.bind(null,this.syncEngine),[4,Yg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ay},t.prototype.createDatastore=function(t){var e=Sg(t.databaseInfo.databaseId),n=new vg(t.databaseInfo);return function(t,e,n){return new Ig(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Iy(o.syncEngine,t,0)},s=gg.yt()?new gg:new mg,new xg(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new wy(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=Al(t),El("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Pg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),rb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ib=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new fp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new py(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new wl(_l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(bl.d)(this,function(u){switch(u.label){case 0:return n=Al(t),r=Ef(n.R)+"/documents",i={documents:e.map(function(t){return _f(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xl(!!e.found);var n=wf(t,e.found.name),r=yf(e.found.updateTime),i=new yh({mapValue:{fields:e.found.fields}});return vh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xl(!!e.missing),xl(!!e.readTime);var n=wf(t,e.missing),r=yf(e.readTime);return vh.newNoDocument(n,r)}(t,e):kl()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());xl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Rd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e=this;return Object(bl.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=rh.fromPath(n);e.mutations.push(new Md(r,e.precondition(r)))}),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return n=Al(t),r=Ef(n.R)+"/documents",i={writes:e.map(function(t){return kf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw kl();e=Ll.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new wl(_l.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_d.updateTime(e):_d.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ll.min()))throw new wl(_l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _d.updateTime(e)}return _d.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),sb=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Og(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(bl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(bl.d)(this,function(r){return t=new ib(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!th(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Fd(e)}return!1},t}(),ob=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ig.UNAUTHENTICATED,this.clientId=jl.u(),this.credentialListener=function(){},this.receivedInitialUser=new fp,this.credentials.setChangeListener(function(t){El("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new wl(_l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new fp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(bl.b)(t,void 0,void 0,function(){var t,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ny(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ab(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(bl.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),El("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(bl.b)(i,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,Dm(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ub(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cb(t)];case 1:return n=i.sent(),El("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return(n=Al(t)).asyncQueue.verifyOperationInProgress(),El("RemoteStore","RemoteStore received new credentials"),r=Fg(n),n.$r.add(3),[4,Pg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Ag(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function cb(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(El("FirestoreClient","Using default OfflineComponentProvider"),[4,ab(t,new Jy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function lb(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(El("FirestoreClient","Using default OnlineComponentProvider"),[4,ub(t,new nb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function hb(t){return cb(t).then(function(t){return t.persistence})}function db(t){return cb(t).then(function(t){return t.localStore})}function fb(t){return lb(t).then(function(t){return t.remoteStore})}function pb(t){return lb(t).then(function(t){return t.syncEngine})}function mb(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,lb(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Sy.bind(null,e.syncEngine),n.onUnlisten=Ey.bind(null,e.syncEngine),n)]}})})}function gb(t,e,n){var r=this;void 0===n&&(n={});var i=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rb({next:function(s){e.enqueueAndForget(function(){return cy(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new wl(_l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new wl(_l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new fy(Bh(n.path),s,{includeMetadataChanges:!0,so:!0});return uy(t,o)},[4,mb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function yb(t,e,n){var r=this;void 0===n&&(n={});var i=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rb({next:function(n){e.enqueueAndForget(function(){return cy(t,o)}),n.fromCache&&"server"===r.source?i.reject(new wl(_l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new fy(n,s,{includeMetadataChanges:!0,so:!0});return uy(t,o)},[4,mb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var bb=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},vb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),_b=new Map,wb=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Sb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ig.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ob=function(){function t(t){var e=this;this.oc=null,this.currentUser=ig.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(El("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xl("string"==typeof n.accessToken),new wb(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return xl(null===t||"string"==typeof t),new ig(t)},t}(),Eb=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ig.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Tb=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Eb(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ig.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Cb(t,e,n){if(!n)throw new wl(_l.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ib(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wl(_l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function kb(t,e,n,r){if(!0===e&&!0===r)throw new wl(_l.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function xb(t){if(!rh.isDocumentKey(t))throw new wl(_l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ab(t){if(rh.isDocumentKey(t))throw new wl(_l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":kl()}function jb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new wl(_l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pb(t);throw new wl(_l.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Nb(t,e){if(e<=0)throw new wl(_l.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Db=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new wl(_l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wl(_l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,kb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Rb=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,t instanceof vb?(this._databaseId=t,this._credentials=new Sb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new wl(_l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vb(t.options.projectId)}(t),this._credentials=new Ob(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new wl(_l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new wl(_l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Sb;switch(t.type){case"gapi":var e=t.client;return xl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Tb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new wl(_l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=_b.get(this))&&(El("ComponentProvider","Removing Datastore"),_b.delete(this),t.terminate()),Promise.resolve();var t},t}(),Mb=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fb(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Lb=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Bh(r))||this)._path=r,i.type="collection",i}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Mb(this.firestore,null,new rh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Lb);function Vb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(mo.h)(t),Cb("collection","path",e),t instanceof Rb)return Ab(n=Bl.fromString.apply(Bl,Object(bl.f)([e],r))),new Fb(t,null,n);if(!(t instanceof Mb||t instanceof Fb))throw new wl(_l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ab(n=Bl.fromString.apply(Bl,Object(bl.f)([t.path],r)).child(Bl.fromString(e))),new Fb(t.firestore,null,n)}function Ub(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(mo.h)(t),1===arguments.length&&(e=jl.u()),Cb("doc","path",e),t instanceof Rb)return xb(n=Bl.fromString.apply(Bl,Object(bl.f)([e],r))),new Mb(t,null,new rh(n));if(!(t instanceof Mb||t instanceof Fb))throw new wl(_l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xb(n=t._path.child(Bl.fromString.apply(Bl,Object(bl.f)([e],r)))),new Mb(t.firestore,t instanceof Fb?t._converter:null,new rh(n))}function qb(t,e){return t=Object(mo.h)(t),e=Object(mo.h)(e),(t instanceof Mb||t instanceof Fb)&&(e instanceof Mb||e instanceof Fb)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Bb(t,e){return t=Object(mo.h)(t),e=Object(mo.h)(e),t instanceof Lb&&e instanceof Lb&&t.firestore===e.firestore&&Xh(t._query,e._query)&&t._converter===e._converter}var Hb=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Og(this,"async_queue_retry"),this.Ec=function(){var e=wg();e&&El("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=wg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e=this;return Object(bl.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!vp(t=n.sent()))throw t;return El("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Tl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=ey.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&kl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(bl.b)(this,void 0,void 0,function(){var t;return Object(bl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function zb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new fp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var $b=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Hb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(bl.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Gb(this),this._firestoreClient.terminate()},e}(Rb);function Kb(t){return t._firestoreClient||Gb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new bb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ob(t._credentials,t._queue,r)}function Wb(t,e,n){var r=this,i=new fp;return t.asyncQueue.enqueue(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,ab(t,n)];case 1:return s.sent(),[4,ub(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===_l.FAILED_PRECONDITION||t.code===_l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Qb(t){if(t._initialized||t._terminated)throw new wl(_l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new wl(_l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Xb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Kl.fromBase64String(e))}catch(e){throw new wl(_l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Kl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Yb=function(t){this._methodName=t},Jb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new wl(_l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wl(_l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Nl(this._lat,t._lat)||Nl(this._long,t._long)},t}(),tv=/^__.*__$/,ev=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xd(t,this.data,this.fieldMask,e,this.fieldTransforms):new kd(t,this.data,e,this.fieldTransforms)},t}(),nv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function rv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kl()}}var iv=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Ev(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(rv(this.Dc)&&tv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),sv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Sg(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new iv({Dc:t,methodName:e,Lc:n,path:zl.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ov(t){var e=t._freezeSettings(),n=Sg(t._databaseId);return new sv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function av(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);_v("Data must be an object, but it was:",o,r);var a,u,c=bv(r,o);if(s.merge)a=new $l(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=wv(e,d[h],n);if(!o.contains(f))throw new wl(_l.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Tv(l,f)||l.push(f)}a=new $l(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new ev(new yh(c),a,u)}var uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Yb);function cv(t,e,n){return new iv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype._toFieldTransform=function(t){return new bd(t.path,new ld)},e.prototype.isEqual=function(t){return t instanceof e},e}(Yb),hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(bl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=cv(this,t,!0),n=this.qc.map(function(t){return yv(t,e)}),r=new hd(n);return new bd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yb),dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(bl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=cv(this,t,!0),n=this.qc.map(function(t){return yv(t,e)}),r=new fd(n);return new bd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yb),fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(bl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new md(t.R,sd(t.R,this.Uc));return new bd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Yb);function pv(t,e,n,r){var i=t.Bc(1,e,n);_v("Data must be an object, but it was:",i,r);var s=[],o=yh.empty();Vl(r,function(t,r){var a=Ov(e,t,n);r=Object(mo.h)(r);var u=i.kc(a);if(r instanceof uv)s.push(a);else{var c=yv(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new $l(s);return new nv(o,a,i.fieldTransforms)}function mv(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[wv(e,r,n)],u=[i];if(s.length%2!=0)throw new wl(_l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(wv(e,s[c])),u.push(s[c+1]);for(var l=[],h=yh.empty(),d=a.length-1;d>=0;--d)if(!Tv(l,a[d])){var f=a[d],p=u[d];p=Object(mo.h)(p);var m=o.kc(f);if(p instanceof uv)l.push(f);else{var g=yv(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new $l(l);return new nv(h,y,o.fieldTransforms)}function gv(t,e,n,r){return void 0===r&&(r=!1),yv(n,t.Bc(r?4:3,e))}function yv(t,e){if(vv(t=Object(mo.h)(t)))return _v("Unsupported field value:",e,t),bv(t,e);if(t instanceof Yb)return function(t,e){if(!rv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=yv(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(mo.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ml.fromDate(t);return{timestampValue:pf(e.R,n)}}if(t instanceof Ml)return n=new Ml(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:pf(e.R,n)};if(t instanceof Jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xb)return{bytesValue:mf(e.R,t._byteString)};if(t instanceof Mb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Pb(t))}(t,e)}function bv(t,e){var n={};return Ul(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,function(t,r){var i=yv(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function vv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ml||t instanceof Jb||t instanceof Xb||t instanceof Mb||t instanceof Yb)}function _v(t,e,n){if(!vv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Pb(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function wv(t,e,n){if((e=Object(mo.h)(e))instanceof Zb)return e._internalPath;if("string"==typeof e)return Ov(t,e);throw Ev("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Sv=new RegExp("[~\\*/\\[\\]]");function Ov(t,e,n){if(e.search(Sv)>=0)throw Ev("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zb.bind.apply(Zb,Object(bl.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Ev("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ev(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new wl(_l.INVALID_ARGUMENT,(a+=". ")+t+u)}function Tv(t,e){return t.some(function(t){return t.isEqual(e)})}var Cv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Mb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(kv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cv);function kv(t,e){return"string"==typeof e?Ov(t,e):e instanceof Zb?e._internalPath:e._delegate._internalPath}var xv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Av=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(bl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(kv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Cv),Pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Av),jv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Pv(n._firestore,n._userDataWriter,r.key,r,new xv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wl(_l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Pv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Pv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Nv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Nv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kl()}}function Dv(t,e){return t instanceof Av&&e instanceof Av?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jv&&e instanceof jv&&t._firestore===e._firestore&&Bb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Rv(t){if(zh(t)&&0===t.explicitOrderBy.length)throw new wl(_l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mv=function(){};function Lv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(bl.c)(e,t),e.prototype._apply=function(t){var e=ov(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new wl(_l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){$v(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(zv(r,t,l[c]));a={arrayValue:{values:u}}}else a=zv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$v(o,s),a=gv(n,"where",o,"in"===s||"not-in"===s);var h=Th.create(i,s,a);return function(t,e){if(e.g()){var n=Kh(t);if(null!==n&&!n.isEqual(e.field))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$h(t);null!==r&&Kv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new wl(_l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Lb(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Mv),Vv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(bl.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new wl(_l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new wl(_l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mh(e,n);return function(t,e){if(null===$h(t)){var n=Kh(t);null!==n&&Kv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Lb(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Uh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Mv),Uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(bl.c)(e,t),e.prototype._apply=function(t){return new Lb(t.firestore,t._converter,Zh(t._query,this.Gc,this.zc))},e}(Mv),qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(bl.c)(e,t),e.prototype._apply=function(t){var e=Hv(t,this.type,this.Hc,this.Jc);return new Lb(t.firestore,t._converter,function(t,e){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Mv),Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(bl.c)(e,t),e.prototype._apply=function(t){var e=Hv(t,this.type,this.Hc,this.Jc);return new Lb(t.firestore,t._converter,function(t,e){return new Uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Mv);function Hv(t,e,n,r){if(n[0]=Object(mo.h)(n[0]),n[0]instanceof Cv)return function(t,e,n,r,i){if(!r)throw new wl(_l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Wh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(hh(e,r.key));else{var c=r.data.field(u.field);if(Xl(c))throw new wl(_l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new wl(_l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Dh(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ov(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new wl(_l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new wl(_l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Gh(t)&&-1!==c.indexOf("/"))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Bl.fromString(c));if(!rh.isDocumentKey(l))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new rh(l);a.push(hh(e,h))}else{var d=gv(n,r,c);a.push(d)}}return new Dh(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function zv(t,e,n){if("string"==typeof(n=Object(mo.h)(n))){if(""===n)throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gh(e)&&-1!==n.indexOf("/"))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Bl.fromString(n));if(!rh.isDocumentKey(r))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return hh(t,new rh(r))}if(n instanceof Mb)return hh(t,n._key);throw new wl(_l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pb(n)+".")}function $v(t,e){if(!Array.isArray(t)||0===t.length)throw new wl(_l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new wl(_l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kv(t,e,n){if(!n.isEqual(e))throw new wl(_l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Gv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ih(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ql(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw kl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Vl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Jb(Ql(t.latitude),Ql(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Yl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Jl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Wl(t);return new Ml(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Bl.fromString(t);xl(Hf(n));var r=new vb(n.get(1),n.get(3)),i=new rh(n.popFirst(5));return r.isEqual(e)||Tl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Wv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Qv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.convertBytes=function(t){return new Xb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mb(this.firestore,null,e)},e}(Gv),Zv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ov(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Xv(t,this._firestore),i=Wv(r._converter,e,n),s=av(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,_d.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Xv(t,this._firestore);return s="string"==typeof(e=Object(mo.h)(e))||e instanceof Zb?mv(this._dataReader,"WriteBatch.update",o._key,e,n,r):pv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,_d.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Xv(t,this._firestore);return this._mutations=this._mutations.concat(new Rd(e._key,_d.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new wl(_l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Xv(t,e){if((t=Object(mo.h)(t)).firestore!==e)throw new wl(_l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.convertBytes=function(t){return new Xb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mb(this.firestore,null,e)},e}(Gv);function Jv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jb(t,Mb);var s=jb(t.firestore,$b),o=ov(s);return e_(s,[("string"==typeof(e=Object(mo.h)(e))||e instanceof Zb?mv(o,"updateDoc",t._key,e,n,r):pv(o,"updateDoc",t._key,e)).toMutation(t._key,_d.exists(!0))])}function t_(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(mo.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||zb(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(zb(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Mb)c=jb(t.firestore,$b),l=Bh(t._key.path),u={next:function(e){i[a]&&i[a](n_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=jb(t,Lb);c=jb(f.firestore,$b),l=f._query;var p=new Yv(c);u={next:function(t){i[a]&&i[a](new jv(c,p,f,t))},error:i[a+1],complete:i[a+2]},Rv(t._query)}return function(t,e,n,r){var i=this,s=new rb(r),o=new fy(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(i,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=uy,[4,mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(i,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=cy,[4,mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Kb(c),l,h,u)}function e_(t,e){return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=Ty,[4,pb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Kb(t),e)}function n_(t,e,n){var r=n.docs.get(e._key),i=new Yv(t);return new Av(t,i,e._key,r,new xv(n.hasPendingWrites,n.fromCache),e._converter)}var r_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(bl.c)(e,t),e.prototype.get=function(e){var n=this,r=Xv(e,this._firestore),i=new Yv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Av(n._firestore,i,r._key,t._document,new xv(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ov(t)}return t.prototype.get=function(t){var e=this,n=Xv(t,this._firestore),r=new Qv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return kl();var i=t[0];if(i.isFoundDocument())return new Cv(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Cv(e._firestore,r,n._key,null,n._converter);throw kl()})},t.prototype.set=function(t,e,n){var r=Xv(t,this._firestore),i=Wv(r._converter,e,n),s=av(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Xv(t,this._firestore);return s="string"==typeof(e=Object(mo.h)(e))||e instanceof Zb?mv(this._dataReader,"Transaction.update",o._key,e,n,r):pv(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Xv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function i_(){if("undefined"==typeof Uint8Array)throw new wl(_l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function s_(){if("undefined"==typeof atob)throw new wl(_l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var o_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return s_(),new t(Xb.fromBase64String(e))},t.fromUint8Array=function(e){return i_(),new t(Xb.fromUint8Array(e))},t.prototype.toBase64=function(){return s_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return i_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),a_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Qb(t=jb(t,$b));var n=Kb(t),r=t._freezeSettings(),i=new nb;return Wb(n,i,new tb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Qb(t=jb(t,$b));var e=Kb(t),n=t._freezeSettings(),r=new nb;return Wb(e,r,new eb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new wl(_l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new fp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return gp.yt()?[4,gp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Im(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),u_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof vb||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jb(t,Rb))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Cl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(bl.b)(e,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,hb(t)];case 1:return e=r.sent(),[4,fb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Al(t);return e.$r.delete(0),Ag(e)}(n))]}})})})}(Kb(jb(this._delegate,$b)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(bl.b)(e,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,hb(t)];case 1:return e=r.sent(),[4,fb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(e=Al(t)).$r.add(0),[4,Pg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Kb(jb(this._delegate,$b)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&kb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(r){switch(r.label){case 0:return e=Py,[4,pb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Kb(jb(this._delegate,$b)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new rb(e);return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Al(t).Gr.add(e),e.next()},[4,mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Al(t).Gr.delete(e)},[4,mb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Kb(t=jb(t,$b)),zb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new wl(_l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new S_(this,Vb(this._delegate,t))}catch(t){throw p_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new f_(this,Ub(this._delegate,t))}catch(t){throw p_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new v_(this,function(t,e){if(t=jb(t,Rb),Cb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wl(_l.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Lb(t,null,function(t){return new Uh(Bl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw p_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return lb(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new sb(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Kb(t),function(n){return e(new r_(t,n))})}(this._delegate,function(n){return t(new l_(e,n))})},t.prototype.batch=function(){var t=this;return Kb(this._delegate),new h_(new Zv(this._delegate,function(e){return e_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new wl(_l.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new wl(_l.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),c_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.convertBytes=function(t){return new o_(new Xb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return f_.Zc(e,this.firestore,null)},e}(Gv),l_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new c_(t)}return t.prototype.get=function(t){var e=this,n=O_(t);return this._delegate.get(n).then(function(t){return new y_(e._firestore,new Av(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=O_(t);return n?(Ib("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=O_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(bl.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=O_(t);return this._delegate.delete(e),this},t}(),h_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=O_(t);return n?(Ib("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=O_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(bl.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=O_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),d_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Pv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new b_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new c_(e),n),i.set(n,s)),s},t}();d_.eu=new WeakMap;var f_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new c_(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new wl(_l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Mb(n._delegate,r,new rh(e)))},t.Zc=function(e,n,r){return new t(n,new Mb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new S_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new S_(this.firestore,Vb(this._delegate,t))}catch(t){throw p_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(mo.h)(t))instanceof Mb&&qb(this._delegate,t)},t.prototype.set=function(t,e){e=Ib("DocumentReference.set",e);try{return function(t,e,n){t=jb(t,Mb);var r=jb(t.firestore,$b),i=Wv(t._converter,e,n);return e_(r,[av(ov(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,_d.none())])}(this._delegate,t,e)}catch(t){throw p_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jv(this._delegate,t):Jv.apply(void 0,Object(bl.f)([this._delegate,t,e],n))}catch(t){throw p_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return e_(jb((t=this._delegate).firestore,$b),[new Rd(t._key,_d.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=m_(e),i=g_(e,function(e){return new y_(t.firestore,new Av(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return t_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jb(t,Mb);var e=jb(t.firestore,$b),n=Kb(e),r=new Yv(e);return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Al(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new wl(_l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=ny(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Av(e,r,t._key,n,new xv(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,Mb);var e=jb(t.firestore,$b);return gb(Kb(e),t._key,{source:"server"}).then(function(n){return n_(e,t,n)})}(this._delegate):function(t){t=jb(t,Mb);var e=jb(t.firestore,$b);return gb(Kb(e),t._key).then(function(n){return n_(e,t,n)})}(this._delegate)).then(function(t){return new y_(e.firestore,new Av(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?d_.tu(this.firestore,e):null))},t}();function p_(t,e,n){return t.message=t.message.replace(e,n),t}function m_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!zb(r))return r}return{}}function g_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=zb(t[0])?t[0]:zb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var y_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new f_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Dv(this._delegate,t._delegate)},t}(),b_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(y_),v_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new c_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lv(this._delegate,function(t,e,n){var r=e,i=kv("where",t);return new Fv(i,r,n)}(e,n,r)))}catch(e){throw p_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=kv("orderBy",t);return new Vv(r,n)}(e,n)))}catch(e){throw p_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lv(this._delegate,function(t){return Nb("limit",t),new Uv("limit",t,"F")}(e)))}catch(e){throw p_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lv(this._delegate,function(t){return Nb("limitToLast",t),new Uv("limitToLast",t,"L")}(e)))}catch(e){throw p_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw p_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw p_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw p_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw p_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Bb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jb(t,Lb);var e=jb(t.firestore,$b),n=Kb(e),r=new Yv(e);return function(t,e){var n=this,r=new fp;return t.asyncQueue.enqueueAndForget(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(bl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Bm(t,e,!0)];case 1:return a=u.sent(),r=new by(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=ny(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,db(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new jv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jb(t,Lb);var e=jb(t.firestore,$b),n=Kb(e),r=new Yv(e);return yb(n,t._query,{source:"server"}).then(function(n){return new jv(e,r,t,n)})}(this._delegate):function(t){t=jb(t,Lb);var e=jb(t.firestore,$b),n=Kb(e),r=new Yv(e);return Rv(t._query),yb(n,t._query).then(function(n){return new jv(e,r,t,n)})}(this._delegate)).then(function(t){return new w_(e.firestore,new jv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=m_(e),i=g_(e,function(e){return new w_(t.firestore,new jv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return t_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?d_.tu(this.firestore,e):null))},t}(),__=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new b_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),w_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new v_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new b_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new __(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new b_(n._firestore,r))})},t.prototype.isEqual=function(t){return Dv(this._delegate,t._delegate)},t}(),S_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new f_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new f_(this.firestore,void 0===t?Ub(this._delegate):Ub(this._delegate,t))}catch(t){throw p_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jb(t.firestore,$b),r=Ub(t),i=Wv(t._converter,e);return e_(n,[av(ov(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,_d.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new f_(e.firestore,t)})},e.prototype.isEqual=function(t){return qb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?d_.tu(this.firestore,t):null))},e}(v_);function O_(t){return jb(t,Mb)}var E_,T_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Zb.bind.apply(Zb,Object(bl.f)([void 0],t)))}return t.documentId=function(){return new t(zl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(mo.h)(t))instanceof Zb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),C_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new lv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new uv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new fv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),I_=n("/6Yf"),k_={Firestore:u_,GeoPoint:Jb,Timestamp:Ml,Blob:o_,Transaction:l_,WriteBatch:h_,DocumentReference:f_,DocumentSnapshot:y_,Query:v_,QueryDocumentSnapshot:b_,QuerySnapshot:w_,CollectionReference:S_,FieldPath:T_,FieldValue:C_,setLogLevel:function(t){Sl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new I_.a("firestore",function(t){return function(t,e){return new u_(t,new $b(t,e),new a_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},k_)))})(E_=po.a),E_.registerVersion("@firebase/firestore","2.2.4");var x_=n("VRyK"),A_=n("qgXg"),P_=n("Ylt2");class j_ extends fn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new N_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new pn.a;if(this.isStopped||this.hasError?s=or.a.EMPTY:(this.observers.push(t),s=new P_.a(this,t)),r&&t.add(t=new lo.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||A_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class N_{constructor(t,e){this.time=t,this.value=e}}function D_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new j_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function R_(t,e){return e?jn(()=>t,e):jn(()=>t)}var M_=n("tf+s");const L_=new r.r("angularfire2.auth.use-emulator"),F_=new r.r("angularfire2.auth.settings"),V_=new r.r("angularfire2.auth.tenant-id"),U_=new r.r("angularfire2.auth.langugage-code"),q_=new r.r("angularfire2.auth.use-device-language"),B_=new r.r("angularfire.auth.persistence");let H_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new ho.d(i),d=Object(ho.h)(h),f=new fn.a,p=Object(vt.a)(void 0).pipe(Object(lo.b)(h.outsideAngular),jn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(It.a)(()=>Object(ho.g)(t,i,e)),Object(It.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(ho.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),D_({bufferSize:1,refCount:!1}));if(U(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(rr()).subscribe();const t=p.pipe(jn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,D_({bufferSize:1,refCount:!1})),e=t=>new _t.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(jn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(jn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(R_(n),Object(M_.a)(h.outsideAngular),Object(lo.b)(h.insideAngular)),this.user=t.pipe(R_(r),Object(M_.a)(h.outsideAngular),Object(lo.b)(h.insideAngular)),this.idToken=this.user.pipe(jn(t=>t?Object(oe.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(jn(t=>t?Object(oe.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(x_.a)(t,f,this.authState.pipe(Et(t=>!t))).pipe(Object(It.a)(t=>(null==t?void 0:t.user)?t:null),Object(M_.a)(h.outsideAngular),Object(lo.b)(h.insideAngular))}return Object(ho.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ho.c),r.Tb(ho.b,8),r.Tb(r.C),r.Tb(r.A),r.Tb(L_,8),r.Tb(F_,8),r.Tb(V_,8),r.Tb(U_,8),r.Tb(q_,8),r.Tb(B_,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ho.c),Object(r.Tb)(ho.b,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(L_,8),Object(r.Tb)(F_,8),Object(r.Tb)(V_,8),Object(r.Tb)(U_,8),Object(r.Tb)(q_,8),Object(r.Tb)(B_,8))},token:t,providedIn:"any"}),t})();function z_(t,e){return function(t,e=io.b){return new _t.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $_(t,e){return z_(t,e).pipe(Object(It.a)(t=>({payload:t,type:"query"})))}function K_(t,e){return $_(t,e).pipe(Vn(void 0),so(),Object(It.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function G_(t,e,n){return K_(t,n).pipe(Un((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return W_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return W_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return W_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new uo(void 0,void 0)),Object(It.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function W_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Q_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ho.e)(H_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Z_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=K_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Vn(void 0),so(),Et(([t,e])=>e.length>0||!t),Object(It.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Un((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Q_(t);return G_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(oe.a)(this.query.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new X_(this.ref.doc(t),this.afs)}}class X_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rw(n,e);return new Z_(r,i,this.afs)}snapshotChanges(){return z_(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn(void 0),so(),Object(It.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(It.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(oe.a)(this.ref.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}}class Y_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?K_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Et(t=>t.length>0),this.afs.keepUnstableUntilFirst):K_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Un((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Q_(t);return G_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(oe.a)(this.query.get(t)).pipe(Object(lo.b)(this.afs.schedulers.insideAngular))}}const J_=new r.r("angularfire2.enableFirestorePersistence"),tw=new r.r("angularfire2.firestore.persistenceSettings"),ew=new r.r("angularfire2.firestore.settings"),nw=new r.r("angularfire2.firestore.use-emulator");function rw(t,e=(t=>t)){return{query:e(t),ref:t}}let iw,sw=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new ho.d(s),this.keepUnstableUntilFirst=Object(ho.h)(this.schedulers);const c=Object(ho.g)(t,s,e);!fo.a.auth&&u&&Object(ho.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ho.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!U(i)){const e=()=>{try{return Object(oe.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(E_){return"undefined"!=typeof console&&console.warn(E_),Object(vt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rw(n,e),s=this.schedulers.ngZone.run(()=>r);return new Z_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Y_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new X_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ho.c),r.Tb(ho.b,8),r.Tb(J_,8),r.Tb(ew,8),r.Tb(r.C),r.Tb(r.A),r.Tb(tw,8),r.Tb(nw,8),r.Tb(L_,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ho.c),Object(r.Tb)(ho.b,8),Object(r.Tb)(J_,8),Object(r.Tb)(ew,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(tw,8),Object(r.Tb)(nw,8),Object(r.Tb)(L_,8))},token:t,providedIn:"any"}),t})(),ow=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:J_,useValue:!0},{provide:tw,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[sw]}),t})(),aw=(()=>{class t{constructor(t){this.afs=t,this.games=this.afs.collection("games").valueChanges(),this.gamesCollection=this.afs.collection("games")}addGame(t){this.gamesCollection.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(sw))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class uw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new cw(t,this.dueTime,this.scheduler))}}class cw extends Ot.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function lw(t){t.debouncedNext()}function hw(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}try{iw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(fC){iw=!1}let dw,fw=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(r.C))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const pw="cdk-high-contrast-black-on-white",mw="cdk-high-contrast-white-on-black",gw="cdk-high-contrast-active";let yw=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gw),t.remove(pw),t.remove(mw);const e=this.getHighContrastMode();1===e?(t.add(gw),t.add(pw)):2===e&&(t.add(gw),t.add(mw))}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(fw),r.Tb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(fw),Object(r.Tb)(o))},token:t,providedIn:"root"}),t})(),bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const vw=new r.Q("11.2.11");class _w{}const ww="*";function Sw(t,e=null){return{type:2,steps:t,options:e}}function Ow(t){return{type:6,styles:t,offset:null}}function Ew(t){Promise.resolve(null).then(t)}class Tw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ew(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Cw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ew(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Iw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kw(t){switch(t.length){case 0:return new Tw;case 1:return t[0];default:return new Cw(t)}}function xw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ww:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Aw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Pw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Pw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Pw(n,"destroy",t)))}}function Pw(t,e,n){const r=n.totalTime,i=jw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function jw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Nw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Dw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Rw=(t,e)=>!1,Mw=(t,e)=>!1,Lw=(t,e,n)=>[];const Fw=Iw();(Fw||"undefined"!=typeof Element)&&(Rw=(t,e)=>t.contains(e),Mw=(()=>{if(Fw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Mw}})(),Lw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Vw=null,Uw=!1;function qw(t){Vw||(Vw=("undefined"!=typeof document?document.body:null)||{},Uw=!!Vw.style&&"WebkitAppearance"in Vw.style);let e=!0;return Vw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Vw.style,!e&&Uw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Vw.style),e}const Bw=Mw,Hw=Rw,zw=Lw;function $w(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Kw=(()=>{class t{validateStyleProperty(t){return qw(t)}matchesElement(t,e){return Bw(t,e)}containsElement(t,e){return Hw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Tw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Gw=(()=>{class t{}return t.NOOP=new Kw,t})();const Ww="ng-enter",Qw="ng-leave",Zw="ng-trigger",Xw=".ng-trigger",Yw="ng-animating",Jw=".ng-animating";function tS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eS(parseFloat(e[1]),e[2])}function eS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function nS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=eS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=eS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function rS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function iS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else rS(t,n);return n}function sS(t,e,n){return n?e+":"+n+";":""}function oS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=sS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=sS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function aS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=mS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Iw()&&oS(t))}function uS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=mS(e);t.style[n]=""}),Iw()&&oS(t))}function cS(t){return Array.isArray(t)?1==t.length?t[0]:Sw(t):t}const lS=new RegExp("{{\\s*(.+?)\\s*}}","g");function hS(t){let e=[];if("string"==typeof t){let n;for(;n=lS.exec(t);)e.push(n[1]);lS.lastIndex=0}return e}function dS(t,e,n){const r=t.toString(),i=r.replace(lS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function fS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const pS=/-+([a-z0-9])/g;function mS(t){return t.replace(pS,(...t)=>t[1].toUpperCase())}function gS(t,e){return 0===t||0===e}function yS(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=vS(t,e)})}}return e}function bS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function vS(t,e){return window.getComputedStyle(t)[e]}const _S="*";function wS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(ES(i,o)),"<"!=s[0]||i==_S&&o==_S||e.push(ES(o,i))}(t,n,e)):n.push(t),n}const SS=new Set(["true","1"]),OS=new Set(["false","0"]);function ES(t,e){const n=SS.has(t)||OS.has(t),r=SS.has(e)||OS.has(e);return(i,s)=>{let o=t==_S||t==i,a=e==_S||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?SS.has(t):OS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?SS.has(e):OS.has(e)),o&&a}}const TS=new RegExp("s*:selfs*,?","g");function CS(t,e,n){return new IS(t).build(e,n)}class IS{constructor(t){this._driver=t}build(t,e){const n=new kS(e);return this._resetContextStyleTimingState(n),bS(this,cS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(xS(t)){const e=t;Object.keys(e).forEach(t=>{hS(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=fS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=bS(this,cS(t.animation),e);return{type:1,matchers:wS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:AS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>bS(this,t,e)),options:AS(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=bS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:AS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return PS(nS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=PS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||nS(r,e),PS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ow({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ow(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ww?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(xS(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=hS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(xS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(xS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:bS(this,cS(t.animation),e),options:AS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:AS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:AS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(TS,"")),[t=t.replace(/@\*/g,Xw).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Jw),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Nw(e.collectedStyles,e.currentQuerySelector,{});const o=bS(this,cS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:AS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nS(t.timings,e.errors,!0);return{type:12,animation:bS(this,cS(t.animation),e),timings:n,options:null}}}class kS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function xS(t){return!Array.isArray(t)&&"object"==typeof t}function AS(t){var e;return t?(t=rS(t)).params&&(t.params=(e=t.params)?rS(e):null):t={},t}function PS(t,e,n){return{duration:t,delay:e,easing:n}}function jS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class NS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const DS=new RegExp(":enter","g"),RS=new RegExp(":leave","g");function MS(t,e,n,r,i,s={},o={},a,u,c=[]){return(new LS).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class LS{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new NS;const l=new VS(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),bS(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[jS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?tS(n.duration):null,s=null!=n.delay?tS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),bS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=FS);const t=tS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>bS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?tS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),bS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return nS(e.params?dS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?tS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=FS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),bS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;bS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const FS={};class VS{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new US(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=tS(n.duration)),null!=n.delay&&(r.delay=tS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=dS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new VS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=FS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new qS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(DS,"."+this._enterClassName)).replace(RS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class US{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new US(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ww,this._currentKeyframe[t]=ww}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ww})):iS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=dS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ww),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=iS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==ww&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?fS(t.values()):[],s=e.size?fS(e.values()):[];if(n){const t=r[0],e=rS(t);t.offset=0,e.offset=1,r=[t,e]}return jS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class qS extends US{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=iS(t[0],!1);a.offset=0,i.push(a);const u=iS(t[0],!1);u.offset=BS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=iS(t[r],!1);o.offset=BS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return jS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function BS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class HS{}class zS extends HS{normalizePropertyName(t,e){return mS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if($S[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const $S=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function KS(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const GS={};class WS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||GS,d=this.buildStyles(n,o&&o.params||GS,l),f=a&&a.params||GS,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:MS(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return KS(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Nw(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Nw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=fS(m.values());return KS(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class QS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=rS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=dS(s,r,e)),n[t]=s})}}),n}}class ZS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new QS(t.style,t.options&&t.options.params||{})}),XS(this.states,"true","1"),XS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WS(t,e,this.states))}),this.fallbackTransition=new WS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function XS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const YS=new NS;class JS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=CS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=xw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=MS(this._driver,e,i,Ww,Qw,{},{},n,YS,r),s.forEach(t=>{const e=Nw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ww)})});const a=kw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=jw(e,"","","");return Aw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tO="ng-animate-queued",eO="ng-animate-disabled",nO=".ng-animate-disabled",rO=[],iO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class oO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=rS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const aO="void",uO=new oO(aO);class cO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,gO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Nw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Nw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(gO(t,Zw),gO(t,"ng-trigger-"+e),a[e]=uO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new hO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(gO(t,Zw),gO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new oO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=uO),u.value!==aO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{uS(t,n),aS(t,r)})}return}const c=Nw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(gO(t,tO),s.onStart(()=>{yO(t,tO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Xw,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,aO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&kw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||uO,a=new oO(aO),u=new hO(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==iO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){gO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=jw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Aw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class lO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(dO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!dO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),gO(t,eO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yO(t,eO))}removeNode(t,e,n,r){if(dO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return dO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Xw,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Jw,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=iO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,nO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,nO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)gO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?kw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new NS,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=mO(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Ww+p++;f.set(e,n),t.forEach(t=>gO(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=mO(h,Array.from(g));v.forEach((t,e)=>{const n=Qw+p++;b.set(e,n),t.forEach(t=>gO(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>yO(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>yO(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>uS(i,p.fromStyles)),e.onDestroy(()=>aS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>uS(i,p.fromStyles)),e.onDestroy(()=>aS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Nw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Nw(S,e,[]).push(t),t.destroy()})});const E=m.filter(t=>_O(t,a,u)),T=new Map;pO(T,this.driver,y,u,ww).forEach(t=>{_O(t,a,u)&&E.push(t)});const C=new Map;d.forEach((t,e)=>{pO(C,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],k=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>aS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,C,T);if(s.setRealPlayer(n),t===x)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=kw(e)),r.push(s)}}else uS(e,o.fromStyles),s.onDestroy(()=>aS(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=kw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(yO(t,Qw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Jw,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?bO(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==aO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Nw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}uS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Tw(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return vO(t,e),e}((n.get(h)||rO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=xw(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new hO(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Nw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>gO(t,Yw));const d=kw(h);return d.onDestroy(()=>{c.forEach(t=>yO(t,Yw)),aS(a,e.toStyles)}),l.forEach(t=>{Nw(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Tw(t.duration,t.delay)}}class hO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Tw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Aw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dO(t){return t&&1===t.nodeType}function fO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function pO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(fO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=sO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>fO(t,s[a++])),o}function mO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function gO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function yO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bO(t,e,n){kw(n).onDone(()=>t.processLeaveNode(e))}function vO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Cw?vO(r.players,e):e.push(r)}}function _O(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class wO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new lO(t,e,n),this._timelineEngine=new JS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=CS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new ZS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Dw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Dw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function SO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=EO(e[0]),e.length>1&&(r=EO(e[e.length-1]))):e&&(n=EO(e)),n||r?new OO(t,n,r):null}let OO=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&aS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(aS(this._element,this._initialStyles),this._endStyles&&(aS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(uS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uS(this._element,this._endStyles),this._endStyles=null),aS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function EO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];TO(i)&&(e=e||{},e[i]=t[i])}return e}function TO(t){return"display"===t||"position"===t}const CO="animation",IO="animationend";class kO{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=DO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),NO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xO(this._element,this._name,"paused")}resume(){xO(this._element,this._name,"running")}setPosition(t){const e=AO(this._element,this._name);this._position=t*this._duration,NO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=DO(t,"").split(","),r=PO(n,e);r>=0&&(n.splice(r,1),NO(t,"",n.join(",")))}(this._element,this._name))}}function xO(t,e,n){NO(t,"PlayState",n,AO(t,e))}function AO(t,e){const n=DO(t,"");return n.indexOf(",")>0?PO(n.split(","),e):PO([n],e)}function PO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function jO(t,e,n){n?t.removeEventListener(IO,e):t.addEventListener(IO,e)}function NO(t,e,n,r){const i=CO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function DO(t,e){return t.style[CO+e]||""}class RO{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:vS(this.element,n))})}this.currentSnapshot=t}}class MO extends Tw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$w(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class LO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return qw(t)}matchesElement(t,e){return Bw(t,e)}containsElement(t,e){return Hw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>$w(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof RO),u={};gS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=yS(t,e,u));if(0==n)return new MO(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=SO(t,e),f=new RO(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class FO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:vS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class VO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(UO().toString()),this._cssKeyframesDriver=new LO}validateStyleProperty(t){return qw(t)}matchesElement(t,e){return Bw(t,e)}containsElement(t,e){return Hw(t,e)}query(t,e,n){return zw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof FO);gS(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=SO(t,e=yS(t,e=e.map(t=>iS(t,!1)),u));return new FO(t,e,a,l)}}function UO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let qO=(()=>{class t extends _w{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Sw(t):t;return zO(this._renderer,null,e,"register",[n]),new BO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.G),r.Tb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class BO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new HO(this._id,t,e||{},this._renderer)}}class HO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const $O="@",KO="@.disabled";let GO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new WO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new QO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.G),r.Tb(wO),r.Tb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class WO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==$O&&e==KO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class QO extends WO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==$O?"."==e.charAt(1)&&e==KO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==$O){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=$O&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ZO=(()=>{class t extends wO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(o),r.Tb(Gw),r.Tb(HS))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const XO=new r.r("AnimationModuleType"),YO=[{provide:Gw,useFactory:function(){return"function"==typeof UO()?new VO:new LO}},{provide:XO,useValue:"BrowserAnimations"},{provide:_w,useClass:qO},{provide:HS,useFactory:function(){return new zS}},{provide:wO,useClass:ZO},{provide:r.G,useFactory:function(t,e,n){return new GO(t,e,n)},deps:[st,wO,r.A]}];let JO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:YO,imports:[bt]}),t})();const tE=new r.Q("11.2.11"),eE=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let nE,rE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&tE.full!==vw.full&&console.warn("The Angular Material version ("+tE.full+") does not match the Angular CDK version ("+vw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(yw),r.Tb(eE,8),r.Tb(o))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[bw],bw]}),t})();function iE(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}try{nE="undefined"!=typeof Intl}catch(fC){nE=!1}function sE(t,e){if(1&t&&(r.Yb(),r.Nb(0,"circle",3)),2&t){const t=r.Zb();r.kc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Db("r",t._getCircleRadius())}}function oE(t,e){if(1&t&&(r.Yb(),r.Nb(0,"circle",3)),2&t){const t=r.Zb();r.kc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Db("r",t._getCircleRadius())}}function aE(t,e){if(1&t&&(r.Yb(),r.Nb(0,"circle",3)),2&t){const t=r.Zb();r.kc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Db("r",t._getCircleRadius())}}function uE(t,e){if(1&t&&(r.Yb(),r.Nb(0,"circle",3)),2&t){const t=r.Zb();r.kc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Db("r",t._getCircleRadius())}}const cE=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class lE{constructor(t){this._elementRef=t}}const hE=iE(lE,"primary"),dE=new r.r("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let fE=(()=>{class t extends hE{constructor(e,n,r,i,s){super(e),this._elementRef=e,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=hw(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=hw(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,hw(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t){if(function(){if(null==dw){const t="undefined"!=typeof document?document.head:null;dw=!(!t||!t.createShadowRoot&&!t.attachShadow)}return dw}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(fw),r.Mb(o,8),r.Mb(XO,8),r.Mb(dE))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.Db("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.kc("width",e.diameter,"px")("height",e.diameter,"px"),r.Eb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.zb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.Yb(),r.Pb(0,"svg",0),r.lc(1,sE,1,9,"circle",1),r.lc(2,oE,1,7,"circle",2),r.Ob()),2&t&&(r.kc("width",e.diameter,"px")("height",e.diameter,"px"),r.ec("ngSwitch","indeterminate"===e.mode),r.Db("viewBox",e._getViewBox()),r.Cb(1),r.ec("ngSwitchCase",!0),r.Cb(1),r.ec("ngSwitchCase",!1))},directives:[M,L],styles:[cE],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),pE=(()=>{class t extends fE{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(fw),r.Mb(o,8),r.Mb(XO,8),r.Mb(dE))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(r.kc("width",e.diameter,"px")("height",e.diameter,"px"),r.Eb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[r.zb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.Yb(),r.Pb(0,"svg",0),r.lc(1,aE,1,9,"circle",1),r.lc(2,uE,1,7,"circle",2),r.Ob()),2&t&&(r.kc("width",e.diameter,"px")("height",e.diameter,"px"),r.ec("ngSwitch","indeterminate"===e.mode),r.Db("viewBox",e._getViewBox()),r.Cb(1),r.ec("ngSwitchCase",!0),r.Cb(1),r.ec("ngSwitchCase",!1))},directives:[M,L],styles:[cE],encapsulation:2,changeDetection:0}),t})(),mE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[rE,V],rE]}),t})();function gE(t,e){if(1&t&&(r.Pb(0,"h3",4),r.mc(1),r.ac(2,"json"),r.Ob()),2&t){const t=r.Zb();r.Cb(1),r.nc(r.bc(2,1,t.courseData.data.name))}}function yE(t,e){1&t&&(r.Pb(0,"div",5),r.Nb(1,"mat-spinner"),r.Ob())}function bE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"div",14),r.Pb(2,"div",11),r.mc(3),r.Ob(),r.Pb(4,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[1].score=t}),r.Ob(),r.Pb(5,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[2].score=t}),r.Ob(),r.Pb(6,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[0].score=t}),r.Ob(),r.Pb(7,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[3].score=t}),r.Ob(),r.Pb(8,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[4].score=t}),r.Ob(),r.Pb(9,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[8].score=t}),r.Ob(),r.Pb(10,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[5].score=t}),r.Ob(),r.Pb(11,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[6].score=t}),r.Ob(),r.Pb(12,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[7].score=t}),r.Ob(),r.Pb(13,"div",12),r.mc(14),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.Cb(3),r.nc(t.name),r.Cb(1),r.ec("ngModel",t.holes[1].score),r.Cb(1),r.ec("ngModel",t.holes[2].score),r.Cb(1),r.ec("ngModel",t.holes[0].score),r.Cb(1),r.ec("ngModel",t.holes[3].score),r.Cb(1),r.ec("ngModel",t.holes[4].score),r.Cb(1),r.ec("ngModel",t.holes[8].score),r.Cb(1),r.ec("ngModel",t.holes[5].score),r.Cb(1),r.ec("ngModel",t.holes[6].score),r.Cb(1),r.ec("ngModel",t.holes[7].score),r.Cb(2),r.nc(t.out)}}function vE(t,e){if(1&t&&(r.Pb(0,"div",9),r.Pb(1,"div",10),r.Pb(2,"div",11),r.mc(3,"HOLE"),r.Ob(),r.Pb(4,"div",12),r.mc(5,"1"),r.Ob(),r.Pb(6,"div",12),r.mc(7,"2"),r.Ob(),r.Pb(8,"div",12),r.mc(9,"3"),r.Ob(),r.Pb(10,"div",12),r.mc(11,"4"),r.Ob(),r.Pb(12,"div",12),r.mc(13,"5"),r.Ob(),r.Pb(14,"div",12),r.mc(15,"6"),r.Ob(),r.Pb(16,"div",12),r.mc(17,"7"),r.Ob(),r.Pb(18,"div",12),r.mc(19,"8"),r.Ob(),r.Pb(20,"div",12),r.mc(21,"9"),r.Ob(),r.Pb(22,"div",12),r.mc(23,"OUT"),r.Ob(),r.Ob(),r.Pb(24,"div",10),r.Pb(25,"div",11),r.mc(26,"YARDS"),r.Ob(),r.Pb(27,"div",12),r.mc(28),r.Ob(),r.Pb(29,"div",12),r.mc(30),r.Ob(),r.Pb(31,"div",12),r.mc(32),r.Ob(),r.Pb(33,"div",12),r.mc(34),r.Ob(),r.Pb(35,"div",12),r.mc(36),r.Ob(),r.Pb(37,"div",12),r.mc(38),r.Ob(),r.Pb(39,"div",12),r.mc(40),r.Ob(),r.Pb(41,"div",12),r.mc(42),r.Ob(),r.Pb(43,"div",12),r.mc(44),r.Ob(),r.Nb(45,"div",12),r.Ob(),r.Pb(46,"div",10),r.Pb(47,"div",11),r.mc(48,"HDCP"),r.Ob(),r.Pb(49,"div",12),r.mc(50),r.Ob(),r.Pb(51,"div",12),r.mc(52),r.Ob(),r.Pb(53,"div",12),r.mc(54),r.Ob(),r.Pb(55,"div",12),r.mc(56),r.Ob(),r.Pb(57,"div",12),r.mc(58),r.Ob(),r.Pb(59,"div",12),r.mc(60),r.Ob(),r.Pb(61,"div",12),r.mc(62),r.Ob(),r.Pb(63,"div",12),r.mc(64),r.Ob(),r.Pb(65,"div",12),r.mc(66),r.Ob(),r.Nb(67,"div",12),r.Ob(),r.Pb(68,"div",10),r.Pb(69,"div",11),r.mc(70,"PAR"),r.Ob(),r.Pb(71,"div",12),r.mc(72),r.Ob(),r.Pb(73,"div",12),r.mc(74),r.Ob(),r.Pb(75,"div",12),r.mc(76),r.Ob(),r.Pb(77,"div",12),r.mc(78),r.Ob(),r.Pb(79,"div",12),r.mc(80),r.Ob(),r.Pb(81,"div",12),r.mc(82),r.Ob(),r.Pb(83,"div",12),r.mc(84),r.Ob(),r.Pb(85,"div",12),r.mc(86),r.Ob(),r.Pb(87,"div",12),r.mc(88),r.Ob(),r.Nb(89,"div",12),r.Ob(),r.lc(90,bE,15,11,"div",13),r.Ob()),2&t){const t=r.Zb(2);r.Cb(28),r.oc(" ",t.courseData.data.holes[0].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[1].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[2].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[3].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[4].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[5].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[6].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[7].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[8].teeBoxes[t.difficultyNum].yards," "),r.Cb(6),r.oc(" ",t.courseData.data.holes[0].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[1].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[2].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[3].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[4].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[5].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[6].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[7].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[8].teeBoxes[t.difficultyNum].hcp," "),r.Cb(6),r.oc(" ",t.courseData.data.holes[1].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[2].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[3].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[4].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[5].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[6].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[7].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[8].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[9].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.ec("ngForOf",t.gameData.players)}}function _E(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"div",14),r.Pb(2,"div",11),r.mc(3),r.Ob(),r.Pb(4,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[9].score=t}),r.Ob(),r.Pb(5,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[10].score=t}),r.Ob(),r.Pb(6,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[11].score=t}),r.Ob(),r.Pb(7,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[12].score=t}),r.Ob(),r.Pb(8,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[13].score=t}),r.Ob(),r.Pb(9,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[14].score=t}),r.Ob(),r.Pb(10,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[15].score=t}),r.Ob(),r.Pb(11,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[16].score=t}),r.Ob(),r.Pb(12,"input",15),r.Wb("ngModelChange",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("change",function(){r.hc(t);const n=e.$implicit;return r.Zb(3).calculate(n)})("ngModelChange",function(t){return e.$implicit.holes[17].score=t}),r.Ob(),r.Pb(13,"div",12),r.mc(14),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.Cb(3),r.nc(t.name),r.Cb(1),r.ec("ngModel",t.holes[9].score),r.Cb(1),r.ec("ngModel",t.holes[10].score),r.Cb(1),r.ec("ngModel",t.holes[11].score),r.Cb(1),r.ec("ngModel",t.holes[12].score),r.Cb(1),r.ec("ngModel",t.holes[13].score),r.Cb(1),r.ec("ngModel",t.holes[14].score),r.Cb(1),r.ec("ngModel",t.holes[15].score),r.Cb(1),r.ec("ngModel",t.holes[16].score),r.Cb(1),r.ec("ngModel",t.holes[17].score),r.Cb(2),r.nc(t.in)}}function wE(t,e){if(1&t&&(r.Pb(0,"div",16),r.Pb(1,"div",10),r.Pb(2,"div",11),r.mc(3,"HOLE"),r.Ob(),r.Pb(4,"div",12),r.mc(5,"10"),r.Ob(),r.Pb(6,"div",12),r.mc(7,"11"),r.Ob(),r.Pb(8,"div",12),r.mc(9,"12"),r.Ob(),r.Pb(10,"div",12),r.mc(11,"13"),r.Ob(),r.Pb(12,"div",12),r.mc(13,"14"),r.Ob(),r.Pb(14,"div",12),r.mc(15,"15"),r.Ob(),r.Pb(16,"div",12),r.mc(17,"16"),r.Ob(),r.Pb(18,"div",12),r.mc(19,"17"),r.Ob(),r.Pb(20,"div",12),r.mc(21,"18"),r.Ob(),r.Pb(22,"div",12),r.mc(23,"IN"),r.Ob(),r.Ob(),r.Pb(24,"div",10),r.Pb(25,"div",11),r.mc(26,"YARDS"),r.Ob(),r.Pb(27,"div",12),r.mc(28),r.Ob(),r.Pb(29,"div",12),r.mc(30),r.Ob(),r.Pb(31,"div",12),r.mc(32),r.Ob(),r.Pb(33,"div",12),r.mc(34),r.Ob(),r.Pb(35,"div",12),r.mc(36),r.Ob(),r.Pb(37,"div",12),r.mc(38),r.Ob(),r.Pb(39,"div",12),r.mc(40),r.Ob(),r.Pb(41,"div",12),r.mc(42),r.Ob(),r.Pb(43,"div",12),r.mc(44),r.Ob(),r.Nb(45,"div",12),r.Ob(),r.Pb(46,"div",10),r.Pb(47,"div",11),r.mc(48,"HDCP"),r.Ob(),r.Pb(49,"div",12),r.mc(50),r.Ob(),r.Pb(51,"div",12),r.mc(52),r.Ob(),r.Pb(53,"div",12),r.mc(54),r.Ob(),r.Pb(55,"div",12),r.mc(56),r.Ob(),r.Pb(57,"div",12),r.mc(58),r.Ob(),r.Pb(59,"div",12),r.mc(60),r.Ob(),r.Pb(61,"div",12),r.mc(62),r.Ob(),r.Pb(63,"div",12),r.mc(64),r.Ob(),r.Pb(65,"div",12),r.mc(66),r.Ob(),r.Nb(67,"div",12),r.Ob(),r.Pb(68,"div",17),r.Pb(69,"div",11),r.mc(70,"PAR"),r.Ob(),r.Pb(71,"div",12),r.mc(72),r.Ob(),r.Pb(73,"div",12),r.mc(74),r.Ob(),r.Pb(75,"div",12),r.mc(76),r.Ob(),r.Pb(77,"div",12),r.mc(78),r.Ob(),r.Pb(79,"div",12),r.mc(80),r.Ob(),r.Pb(81,"div",12),r.mc(82),r.Ob(),r.Pb(83,"div",12),r.mc(84),r.Ob(),r.Pb(85,"div",12),r.mc(86),r.Ob(),r.Pb(87,"div",12),r.mc(88),r.Ob(),r.Nb(89,"div",12),r.Ob(),r.lc(90,_E,15,11,"div",13),r.Ob()),2&t){const t=r.Zb(2);r.Cb(28),r.oc(" ",t.courseData.data.holes[9].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[10].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[11].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[12].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[13].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[14].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[15].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[16].teeBoxes[t.difficultyNum].yards," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[17].teeBoxes[t.difficultyNum].yards," "),r.Cb(6),r.oc(" ",t.courseData.data.holes[9].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[10].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[11].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[12].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[13].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[14].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[15].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[16].teeBoxes[t.difficultyNum].hcp," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[17].teeBoxes[t.difficultyNum].hcp," "),r.Cb(6),r.oc(" ",t.courseData.data.holes[9].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[10].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[11].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[12].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[13].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[14].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[15].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[16].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.oc(" ",t.courseData.data.holes[17].teeBoxes[t.difficultyNum].par," "),r.Cb(2),r.ec("ngForOf",t.gameData.players)}}function SE(t,e){if(1&t&&(r.Pb(0,"div",10),r.Pb(1,"div",18),r.mc(2),r.Ob(),r.Pb(3,"div",18),r.mc(4),r.Ob(),r.Pb(5,"div",18),r.mc(6),r.Ob(),r.Ob()),2&t){const t=r.Zb(2);r.Cb(2),r.oc("Par Total: ",t.parTotal,""),r.Cb(2),r.oc("Yards Total: ",t.yardsTotal,""),r.Cb(2),r.oc("HDCP Total: ",t.handicapTotal,"")}}function OE(t,e){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"div",20),r.Pb(2,"span",21),r.mc(3),r.Ob(),r.Pb(4,"span",21),r.mc(5),r.Ob(),r.Pb(6,"span",22),r.mc(7),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.Cb(3),r.nc(t.name),r.Cb(2),r.oc("Final Score: ",t.total,""),r.Cb(2),r.nc(t.message)}}function EE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.lc(1,OE,8,3,"div",13),r.Pb(2,"button",19),r.Wb("click",function(){return r.hc(t),r.Zb(2).finishGame()}),r.mc(3,"Save Game Results to Firebase :)"),r.Ob(),r.Ob()}if(2&t){const t=r.Zb(2);r.Cb(1),r.ec("ngForOf",t.gameData.players)}}function TE(t,e){1&t&&(r.Pb(0,"div"),r.Nb(1,"img",23),r.Pb(2,"a",24),r.Pb(3,"h3",25),r.mc(4,"Click here to go to my firebase!"),r.Ob(),r.Ob(),r.Ob())}function CE(t,e){if(1&t&&(r.Pb(0,"div"),r.lc(1,vE,91,28,"div",6),r.Nb(2,"hr"),r.lc(3,wE,91,28,"div",7),r.lc(4,SE,7,3,"div",8),r.lc(5,EE,4,1,"div",3),r.lc(6,TE,5,0,"div",3),r.Ob()),2&t){const t=r.Zb();r.Cb(1),r.ec("ngIf",!t.saveComplete&&t.dataIn),r.Cb(2),r.ec("ngIf",!t.saveComplete&&t.dataIn),r.Cb(1),r.ec("ngIf",!t.saveComplete),r.Cb(1),r.ec("ngIf",t.gameOver),r.Cb(1),r.ec("ngIf",t.saveComplete)}}let IE=(()=>{class t{constructor(t,e,n){this.gameService=t,this.coursesService=e,this.firebase=n,this.totalTicker=0,this.gameOver=!1,this.saveComplete=!1,this.yardsTotal=0,this.handicapTotal=0,this.parTotal=0,this.dataIn=!1,this.tapped=[!1,!1,!1,!1]}calculate(t){this.calculateOut(t),this.calculateIn(t),t.total=t.out+t.in,t.ticker=0;for(let e=0;e<18;e++)t.holes[e].score>0&&t.ticker++;1==this.gameData.players.length&&18==t.ticker&&this.endGame(),this.calculateAll()}calculateAll(){this.totalTicker=0;for(let t=0;t<this.gameData.players.length;t++)this.totalTicker+=this.gameData.players[t].ticker;1==this.gameData.players.length&&18==this.totalTicker&&this.endGame(),2==this.gameData.players.length&&36==this.totalTicker&&this.endGame(),3==this.gameData.players.length&&54==this.totalTicker&&this.endGame(),4==this.gameData.players.length&&72==this.totalTicker&&this.endGame()}calculateOut(t){t.out=0;for(let e=0;e<9;e++)t.out+=t.holes[e].score}calculateIn(t){t.in=0;for(let e=9;e<18;e++)t.in+=t.holes[e].score}endGame(){this.gameOver=!0;for(let t=0;t<this.gameData.players.length;t++)this.gameData.players[t].total>this.parTotal?this.gameData.players[t].message="Better luck next time!":this.gameData.players[t].total==this.parTotal?this.gameData.players[t].message="Right on Par!":this.gameData.players[t].total<this.parTotal&&(this.gameData.players[t].message="Onto the PGA!!!")}finishGame(){this.gameOver=!1,console.log(this.gameData),this.firebase.addGame(this.gameData),this.saveComplete=!0}ngOnInit(){this.spinner=!0,this.gameData=this.gameService.getGameObject(),this.difficultyNum=this.gameData.difficultyNum,this.coursesService.getCourse(this.gameData.course).subscribe(t=>{this.courseData=t,console.log(this.courseData),this.dataIn=!0,this.courseData.data.holes.forEach(t=>{this.parTotal+=t.teeBoxes[this.difficultyNum].par,this.yardsTotal+=t.teeBoxes[this.difficultyNum].yards,this.handicapTotal+=t.teeBoxes[this.difficultyNum].hcp}),this.spinner=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ro),r.Mb(dn),r.Mb(aw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-gametime"]],decls:5,vars:3,consts:[["id","courseName","style","color:rgb(0, 246, 238)",4,"ngIf"],["id","mobile"],["class","spinner",4,"ngIf"],[4,"ngIf"],["id","courseName",2,"color","rgb(0, 246, 238)"],[1,"spinner"],["id","cardStuff1",4,"ngIf"],["id","cardStuff2",4,"ngIf"],["class","row",4,"ngIf"],["id","cardStuff1"],[1,"row"],[1,"col-1","leftColumn"],[1,"col-1","text-center"],[4,"ngFor","ngForOf"],[1,"row","inputs"],["type","number","min","1",1,"col-1","text-center","inputs",3,"ngModel","ngModelChange","change"],["id","cardStuff2"],["id","parRow",1,"row"],[1,"totals","col-3"],[1,"btn","btn-primary",2,"margin","5px",3,"click"],[1,"row","totals"],[1,"col-3"],[1,"col-6"],["src","https://media0.giphy.com/media/13qctMBrrgbwJi/giphy.gif"],["href","https://console.firebase.google.com/u/0/project/golfscore-app-ad248/firestore/data~2Fgames~2FdgyISLqB8a4TqH1lIvB6"],[1,"link"]],template:function(t,e){1&t&&(r.lc(0,gE,3,3,"h3",0),r.Pb(1,"div",1),r.mc(2,"Mobile users must tilt phone horizontally"),r.Ob(),r.lc(3,yE,2,0,"div",2),r.lc(4,CE,7,5,"div",3)),2&t&&(r.ec("ngIf",!e.saveComplete),r.Cb(3),r.ec("ngIf",e.spinner),r.Cb(1),r.ec("ngIf",!e.spinner))},directives:[j,pE,A,Ze,pe,xe,We],pipes:[F],styles:[".row[_ngcontent-%COMP%]{margin:5px 0;border:1px solid #1fe6c5}label[_ngcontent-%COMP%]{color:#00596b}#cardStuff1[_ngcontent-%COMP%], #cardStuff2[_ngcontent-%COMP%]{background-color:#00596b}.text-center[_ngcontent-%COMP%]{border:1px solid #000}.link[_ngcontent-%COMP%], .text-center[_ngcontent-%COMP%]{font-size:1.5vw;margin:auto}.spinner[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:40%}#firstHeader[_ngcontent-%COMP%]{color:#c1e61f}#mobile[_ngcontent-%COMP%]{color:#969696;text-align:center;font-size:10px;text-decoration:underline}.leftColumn[_ngcontent-%COMP%]{font-size:1.3vw;margin:5px}.col-1[_ngcontent-%COMP%]{background-color:#00b2d6}body[_ngcontent-%COMP%]{background-color:#00839e}#courseName[_ngcontent-%COMP%]{text-align:center;color:#c1e61f}.totals[_ngcontent-%COMP%]{color:#94c994}"]}),t})();const kE=function(){return{standalone:!0}};function xE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"div"),r.Pb(2,"label",4),r.mc(3,"Choose a course:"),r.Ob(),r.Pb(4,"select",5),r.Wb("ngModelChange",function(e){return r.hc(t),r.Zb().courseID=e}),r.Pb(5,"option",6),r.mc(6,"Fox Hollow"),r.Ob(),r.Pb(7,"option",7),r.mc(8,"Thanksgiving Point"),r.Ob(),r.Pb(9,"option",8),r.mc(10,"Spanish Oaks"),r.Ob(),r.Ob(),r.Ob(),r.Nb(11,"br"),r.Pb(12,"div"),r.Pb(13,"label",4),r.mc(14,"Select difficulty"),r.Ob(),r.Pb(15,"select",5),r.Wb("ngModelChange",function(e){return r.hc(t),r.Zb().difficulty=e}),r.Pb(16,"option",9),r.mc(17,"Champion"),r.Ob(),r.Pb(18,"option",10),r.mc(19,"Pro (Champion if Spanish Oaks)"),r.Ob(),r.Pb(20,"option",11),r.mc(21,"Men"),r.Ob(),r.Pb(22,"option",12),r.mc(23,"Women"),r.Ob(),r.Ob(),r.Ob(),r.Nb(24,"br"),r.Pb(25,"div"),r.Pb(26,"label",4),r.mc(27,"How many players are playing?"),r.Ob(),r.Pb(28,"select",5),r.Wb("ngModelChange",function(e){return r.hc(t),r.Zb().numberOfPlayersSelection=e}),r.Pb(29,"option",13),r.mc(30,"1"),r.Ob(),r.Pb(31,"option",14),r.mc(32,"2"),r.Ob(),r.Pb(33,"option",15),r.mc(34,"3"),r.Ob(),r.Pb(35,"option",16),r.mc(36,"4"),r.Ob(),r.Ob(),r.Pb(37,"button",17),r.Wb("click",function(){return r.hc(t),r.Zb().formSubmit()}),r.mc(38,"Continue"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.Zb();r.Cb(4),r.ec("ngModel",t.courseID)("ngModelOptions",r.fc(6,kE)),r.Cb(11),r.ec("ngModel",t.difficulty)("ngModelOptions",r.fc(7,kE)),r.Cb(13),r.ec("ngModel",t.numberOfPlayersSelection)("ngModelOptions",r.fc(8,kE))}}function AE(t,e){1&t&&(r.Pb(0,"h6",22),r.mc(1,"No empty fields, and no duplicate names homie"),r.Ob())}function PE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"input",23),r.Wb("ngModelChange",function(n){r.hc(t);const i=e.index;return r.Zb(2).playersArray[i].name=n})("keyup.enter",function(){return r.hc(t),r.Zb(2).checkNames()}),r.Ob(),r.Ob()}if(2&t){const t=e.index,n=r.Zb(2);r.Db("data-index",t),r.Cb(1),r.ec("ngModel",n.playersArray[t].name)}}function jE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"label",18),r.mc(2,"Gimme names:"),r.Ob(),r.lc(3,AE,2,0,"h6",19),r.lc(4,PE,2,2,"div",20),r.Pb(5,"button",21),r.Wb("click",function(){return r.hc(t),r.Zb().checkNames()}),r.mc(6,"Everybody ready?"),r.Ob(),r.Ob()}if(2&t){const t=r.Zb();r.Cb(3),r.ec("ngIf",t.badNames),r.Cb(1),r.ec("ngForOf",t.playerCountArray)}}function NE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",17),r.Wb("click",function(){return r.hc(t),r.Zb().beginGame()}),r.mc(1,"Let's Play!"),r.Ob()}}const DE=[{path:"",component:(()=>{class t{constructor(t){this.gameData=t,this.form=!0,this.badNames=!1,this.letsPlayButton=!1,this.gimmenames=!1,this.playerCountArray=[],this.begin=!1,this.playersArray=[{name:"",holes:[{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0}],out:0,in:0,total:0,message:"",ticker:0},{name:"",holes:[{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0}],out:0,in:0,total:0,message:"",ticker:0},{name:"",holes:[{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0}],out:0,in:0,total:0,message:"",ticker:0},{name:"",holes:[{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0},{score:0}],out:0,in:0,total:0,message:"",ticker:0}],this.playerStart=[]}formSubmit(){""!=this.courseID&&("pro"!=this.difficulty&&"champion"!=this.difficulty&&"men"!=this.difficulty&&"women"!=this.difficulty||("pro"==this.difficulty&&(this.difficultyNum=0),"champion"==this.difficulty&&(this.difficultyNum=1),"men"==this.difficulty&&(this.difficultyNum=2),"women"==this.difficulty&&(this.difficultyNum=3),"champion"==this.difficulty&&"19002"==this.courseID&&(this.difficultyNum=0),this.numberOfPlayersSelection>0&&(this.inputMaker(this.numberOfPlayersSelection),this.form=!1,this.gimmenames=!0)))}inputMaker(t){for(;this.playerCountArray.length<t;)this.playerCountArray.push(t)}checkNames(){this.playerStart=this.playersArray.filter(t=>""!==t.name),1==this.playerStart.length&&this.letsPlay(),2==this.playerStart.length&&this.playerStart[0].name!=this.playerStart[1].name&&""!=this.playerStart[0].name&&""!=this.playerStart[1].name&&this.letsPlay(),3==this.playerStart.length&&this.playerStart[0].name!=this.playerStart[1].name&&this.playerStart[0].name!=this.playerStart[2].name&&this.playerStart[1].name!=this.playerStart[2].name&&""!=this.playerStart[0].name&&""!=this.playerStart[1].name&&""!=this.playerStart[2].name&&this.letsPlay(),4==this.playerStart.length?this.playerStart[0].name!=this.playerStart[1].name&&this.playerStart[0].name!=this.playerStart[2].name&&this.playerStart[0].name!=this.playerStart[3].name&&this.playerStart[1].name!=this.playerStart[2].name&&this.playerStart[1].name!=this.playerStart[3].name&&this.playerStart[2].name!=this.playerStart[3].name&&""!=this.playerStart[0].name&&""!=this.playerStart[1].name&&""!=this.playerStart[2].name&&""!=this.playerStart[3].name&&this.letsPlay():(this.badNames=!0,this.playerStart=[])}letsPlay(){this.gimmenames=!1,this.letsPlayButton=!0,this.gameData.setGameObject({course:this.courseID,difficultyNum:this.difficultyNum,players:this.playerStart})}beginGame(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ro))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-questions"]],decls:7,vars:3,consts:[["id","firstHeader",2,"margin","20px"],[4,"ngIf"],["routerLink","gametime","routerLinkActive","active"],["class","btn btn-primary","style","margin: 20px;",3,"click",4,"ngIf"],[2,"margin","10px"],["required","",1,"form-control","col-3",2,"margin","20px",3,"ngModel","ngModelOptions","ngModelChange"],["value","18300"],["value","11819"],["value","19002"],["value","champion"],["value","pro"],["value","men"],["value","women"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"btn","btn-primary",2,"margin","20px",3,"click"],[2,"margin-left","20px"],["class","err",4,"ngIf"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",2,"margin","20px",3,"click"],[1,"err"],["type","text","required","",2,"margin","20px",3,"ngModel","ngModelChange","keyup.enter"]],template:function(t,e){1&t&&(r.Pb(0,"h2",0),r.mc(1,"Lets play some Golf!"),r.Ob(),r.lc(2,xE,39,9,"div",1),r.lc(3,jE,7,2,"div",1),r.Pb(4,"a",2),r.lc(5,NE,2,0,"button",3),r.Ob(),r.Nb(6,"router-outlet")),2&t&&(r.Cb(2),r.ec("ngIf",e.form),r.Cb(1),r.ec("ngIf",e.gimmenames),r.Cb(2),r.ec("ngIf",e.letsPlayButton))},directives:[j,Rs,Ls,Fs,tn,un,xe,We,en,on,A,pe],styles:[".row[_ngcontent-%COMP%]{margin:5px 0;border:1px solid #c1e61f}label[_ngcontent-%COMP%]{color:#20c8f1}#cardStuff1[_ngcontent-%COMP%], #cardStuff2[_ngcontent-%COMP%]{background-color:#20c8f1}.err[_ngcontent-%COMP%]{color:red}.text-center[_ngcontent-%COMP%]{border:1px solid #000;font-size:1.5vw;margin:auto}#firstHeader[_ngcontent-%COMP%]{color:#20c8f1}#mobile[_ngcontent-%COMP%]{color:#969696;text-align:center;font-size:10px;text-decoration:underline}.leftColumn[_ngcontent-%COMP%]{font-size:1.3vw;margin:5px}.col-1[_ngcontent-%COMP%]{background-color:#b2eeb2}body[_ngcontent-%COMP%]{background-color:#004611}#courseName[_ngcontent-%COMP%]{text-align:center;color:#c1e61f}.totals[_ngcontent-%COMP%]{color:#94c994}"]}),t})()},{path:"gametime",component:IE}];let RE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Ws.forRoot(DE)],Ws]}),t})(),ME=(()=>{class t{constructor(t){this.coursesService=t,this.title="GolfApp"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(dn))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["href",""]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.mc(1,"Home"),r.Ob(),r.Nb(2,"br"),r.Nb(3,"router-outlet"))},directives:[Fs],styles:[""]}),t})();const LE={apiKey:"AIzaSyBDoofhNOzoJcYHg0AIKvQDtxaiXV6mssI",authDomain:"golfscore-app-ad248.firebaseapp.com",projectId:"golfscore-app-ad248",storageBucket:"golfscore-app-ad248.appspot.com",messagingSenderId:"891988601760",appId:"1:891988601760:web:6a093b2036a1a7e14492c5"};var FE="firebasestorage.googleapis.com",VE=function(t){function e(n,r){var i=t.call(this,UE(n),"Firebase Storage: "+r+" ("+UE(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(bl.c)(e,t),e.prototype._codeEquals=function(t){return UE(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(mo.c);function UE(t){return"storage/"+t}function qE(){return new VE("unknown","An unknown error occurred, please check the error payload for server response.")}function BE(){return new VE("canceled","User canceled the upload/download.")}function HE(){return new VE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zE(t){return new VE("invalid-argument",t)}function $E(){return new VE("app-deleted","The Firebase app was deleted.")}function KE(t){return new VE("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function GE(t,e){return new VE("invalid-format","String does not match format '"+t+"': "+e)}function WE(t){throw new VE("internal-error","Internal error: "+t)}var QE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ZE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function XE(t,e){switch(t){case QE.RAW:return new ZE(YE(e));case QE.BASE64:case QE.BASE64URL:return new ZE(JE(t,e));case QE.DATA_URL:return new ZE((n=new tT(e)).base64?JE(QE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(E_){throw GE(QE.DATA_URL,"Malformed data URL.")}return YE(e)}(n.rest),new tT(e).contentType)}var n;throw qE()}function YE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function JE(t,e){switch(t){case QE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw GE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case QE.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw GE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(E_){throw GE(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var tT=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw GE(QE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),eT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nT(t){switch(t){case"running":case"pausing":case"canceling":return eT.RUNNING;case"paused":return eT.PAUSED;case"success":return eT.SUCCESS;case"canceled":return eT.CANCELED;case"error":default:return eT.ERROR}}var rT=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),iT=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=rT.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=rT.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=rT.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw WE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw WE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw WE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(E_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw WE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),sT=function(){function t(){}return t.prototype.createXhrIo=function(){return new iT},t}(),oT=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(E_){return new t(e,"")}if(""===r.path)return r;throw new VE("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===FE?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new VE("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),aT=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function uT(t){return"string"==typeof t||t instanceof String}function cT(t){return lT()&&t instanceof Blob}function lT(){return"undefined"!=typeof Blob}function hT(t,e,n,r){if(r<e)throw zE("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw zE("Invalid value for '"+t+"'. Expected "+n+" or less.")}function dT(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function fT(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var pT=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(E_){s(E_)}else null!==o?((r=qE()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?$E():BE():new VE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new mT(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new mT(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===rT.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new mT(o,n))}else{var a=n.getErrorCode()===rT.ABORT;e(!1,new mT(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(bl.f)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(bl.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),mT=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function gT(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gT();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(lT())return new Blob(t);throw new VE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var bT=function(){function t(t,e){var n=0,r="";cT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(cT(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(lT()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(yT.apply(null,r))}var i=e.map(function(t){return uT(t)?XE(QE.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function vT(t){var e,n;try{e=JSON.parse(t)}catch(E_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function _T(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function wT(t,e){return e}var ST=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||wT}}(),OT=null;function ET(){if(OT)return OT;var t=[];t.push(new ST("bucket")),t.push(new ST("generation")),t.push(new ST("metageneration")),t.push(new ST("name","fullPath",!0));var e=new ST("name");e.xform=function(t,e){return function(t){return!uT(t)||t.length<2?t:_T(t)}(e)},t.push(e);var n=new ST("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ST("timeCreated")),t.push(new ST("updated")),t.push(new ST("md5Hash",null,!0)),t.push(new ST("cacheControl",null,!0)),t.push(new ST("contentDisposition",null,!0)),t.push(new ST("contentEncoding",null,!0)),t.push(new ST("contentLanguage",null,!0)),t.push(new ST("contentType",null,!0)),t.push(new ST("metadata","customMetadata",!0)),OT=t}function TT(t,e,n){var r=vT(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new oT(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function CT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var IT=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function kT(t){if(!t)throw qE()}function xT(t,e){return function(n,r){var i=TT(t,r,e);return kT(null!==i),i}}function AT(t){return function(e,n){var r;return(r=401===e.getStatus()?new VE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new VE("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new VE("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function PT(t){var e=AT(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new VE("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function jT(t,e,n){var r=dT(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new IT(r,"GET",xT(t,n),i);return s.errorHandler=PT(e),s}function NT(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var DT=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function RT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(E_){kT(!1)}return kT(!!n&&-1!==(e||["active"]).indexOf(n)),n}var MT=262144,LT=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function FT(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var VT=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ET(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=NT(e,r,i),a={name:o.fullPath},u=dT(s,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=CT(o,n),h=new IT(u,"POST",function(t){var e;RT(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(E_){kT(!1)}return kT(uT(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=AT(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new IT(n,"POST",function(t){var e=RT(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(E_){kT(!1)}n||kT(!1);var i=Number(n);return kT(!isNaN(i)),new DT(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=AT(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=MT*this._chunkMultiplier,n=new DT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new DT(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new VE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw HE();var p=new IT(n,"POST",function(t,n){var i,o=RT(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?xT(e,s)(t,n):null,new DT(a,c,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=AT(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(E_){return t._error=E_,void t._transition("error")}var o=t._ref.storage._makeRequest(s,i);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){MT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=jT(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=NT(e,r,i),c=CT(u,n),l=bT.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw HE();var h={name:u.fullPath},d=dT(s,t.host),f=t.maxUploadRetryTime,p=new IT(d,"POST",xT(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=AT(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=BE(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=nT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new LT(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(nT(this._state)){case eT.SUCCESS:FT(this._resolve.bind(null,this.snapshot))();break;case eT.CANCELED:case eT.ERROR:FT(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(nT(this._state)){case eT.RUNNING:case eT.PAUSED:t.next&&FT(t.next.bind(t,this.snapshot))();break;case eT.SUCCESS:t.complete&&FT(t.complete.bind(t))();break;case eT.CANCELED:case eT.ERROR:t.error&&FT(t.error.bind(t,this._error))();break;default:t.error&&FT(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),UT=function(){function t(t,e){this._service=t,this._location=e instanceof oT?e:oT.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new oT(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return _T(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new oT(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw KE(t)},t}();function qT(t){var e={prefixes:[],items:[]};return BT(t,e).then(function(){return e})}function BT(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,s;return Object(bl.d)(this,function(o){switch(o.label){case 0:return[4,HT(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,BT(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function HT(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&hT("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=dT(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new IT(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=vT(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new oT(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new oT(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return kT(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=AT(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function zT(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new oT(t._location.bucket,n);return new UT(t.storage,r)}function $T(t){return/^[A-Za-z]+:\/\//.test(t)}function KT(t,e){if(t instanceof QT){var n=t;if(null==n._bucket)throw new VE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new UT(n,n._bucket);return null!=e?KT(r,e):r}if(void 0!==e){if(e.includes(".."))throw zE('`path` param cannot contain ".."');return zT(t,e)}return t}function GT(t,e){if(e&&$T(e)){if(t instanceof QT)return new UT(t,e);throw zE("To use ref(service, url), the first argument must be a Storage instance.")}return KT(t,e)}function WT(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:oT.makeFromBucketSpec(n,t)}var QT=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=FE,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?oT.makeFromBucketSpec(r,this._host):WT(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?oT.makeFromBucketSpec(this._url,t):WT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){hT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){hT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new UT(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new aT($E());var r=function(t,e,n,r,i){var s=fT(t.urlParams),o=t.url+s,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new pT(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function ZT(t,e){return GT(t=Object(mo.h)(t),e)}var XT,YT,JT=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),tC=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new JT(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new JT(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new JT(t,i,i._ref))}:{next:e.next?function(t){return e.next(new JT(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),eC=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new nC(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new nC(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),nC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return zT(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new tC(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new VT(t,new bT(e),n)}(t=Object(mo.h)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=QE.RAW),this._throwIfRoot("putString");var r=XE(e,t),i=Object(bl.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new tC(new VT(this._delegate,new bT(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,qT(t=Object(mo.h)(t))).then(function(t){return new eC(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return HT(t=Object(mo.h)(t),e)}(this._delegate,t||void 0).then(function(t){return new eC(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=jT(t.storage,t._location,ET()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(mo.h)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=dT(e.fullServerUrl(),t.host),s=CT(n,r),o=t.maxOperationRetryTime,a=new IT(i,"PATCH",xT(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=PT(e),a}(t.storage,t._location,e,ET()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t=Object(mo.h)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=dT(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new IT(r,"GET",function(t,e){return function(n,r){var i=TT(t,r,e);return kT(null!==i),function(t,e,n){var r=vT(e);if(null===r)return null;if(!uT(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return dT("/b/"+s(t.bucket)+"/o/"+s(r),n)+fT({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=PT(e),s}(t.storage,t._location,ET()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new VE("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(mo.h)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=dT(e.fullServerUrl(),t.host),r=new IT(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=PT(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(mo.h)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw KE(t)},t}(),rC=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if($T(t))throw zE("ref() expected a child path but got a URL, use refFromURL instead.");return new nC(ZT(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!$T(t))throw zE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{oT.makeFromUrl(t,this._delegate.host)}catch(E_){throw zE("refFromUrl() expected a valid full URL but got an invalid one.")}return new nC(ZT(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function iC(t){const e=function(t){return new _t.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=io.a){return n=>n.lift(new uw(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(It.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function sC(t,e,n){return{getDownloadURL:()=>Object(vt.a)(void 0).pipe(Object(lo.b)(e.outsideAngular),jn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(vt.a)(void 0).pipe(Object(lo.b)(e.outsideAngular),jn(()=>t.getMetadata()),n),delete:()=>Object(oe.a)(t.delete()),child:r=>sC(t.child(r),e,n),updateMetadata:e=>Object(oe.a)(t.updateMetadata(e)),put:(e,n)=>iC(t.put(e,n)),putString:(e,n,r)=>iC(t.putString(e,n,r)),listAll:()=>Object(oe.a)(t.listAll())}}YT={TaskState:eT,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:QE,Storage:QT,Reference:nC},(XT=po.a).INTERNAL.registerComponent(new I_.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new rC(r,new QT(r,i,new sT,n,po.a.SDK_VERSION))},"PUBLIC").setServiceProps(YT).setMultipleInstances(!0)),XT.registerVersion("@firebase/storage","0.5.0");const oC=new r.r("angularfire2.storageBucket"),aC=new r.r("angularfire2.storage.maxUploadRetryTime"),uC=new r.r("angularfire2.storage.maxOperationRetryTime");let cC=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new ho.d(i),this.keepUnstableUntilFirst=Object(ho.h)(this.schedulers);const a=Object(ho.g)(t,i,e);this.storage=Object(ho.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return sC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return sC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return sC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ho.c),r.Tb(ho.b,8),r.Tb(oC,8),r.Tb(r.C),r.Tb(r.A),r.Tb(aC,8),r.Tb(uC,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Tb)(ho.c),Object(r.Tb)(ho.b,8),Object(r.Tb)(oC,8),Object(r.Tb)(r.C),Object(r.Tb)(r.A),Object(r.Tb)(aC,8),Object(r.Tb)(uC,8))},token:t,providedIn:"any"}),t})(),lC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),hC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[cC],imports:[lC]}),t})(),dC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[ME]}),t.\u0275inj=r.Jb({providers:[dn,ro,aw],imports:[[bt,RE,se,ln,ho.a.initializeApp(LE),ow,hC,JO,mE]]}),t})();Object(r.U)(),gt().bootstrapModule(dC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);